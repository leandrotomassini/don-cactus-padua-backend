{"version":3,"file":"src_app_pages_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.ts","./src/app/services/ui-service.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\nimport { ComponentsModule } from 'src/app/components/web/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { IonSlides, NavController } from '@ionic/angular';\nimport { Usuario } from 'src/app/interfaces/interfaces';\nimport { UiServiceService } from 'src/app/services/ui-service.service';\n\nimport { UsuarioService } from 'src/app/services/usuario.service';\n\ndeclare const google: any;\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit, AfterViewInit {\n\n  @ViewChild('slidePrincipal', { static: false }) slides: IonSlides;\n  @ViewChild('googleBtn') googleBtn: ElementRef;\n\n  loginUser = {\n    email: 'pedro@test.com',\n    password: '123456'\n  }\n\n  registerUser: Usuario = {\n    nombre: 'Test 1',\n    google: false,\n    correo: 'test@test.com',\n    password: '123456',\n    rol: 'CLIENTE',\n    img: ''\n  }\n\n  constructor(private usuarioService: UsuarioService, private navCtrl: NavController, private uiService: UiServiceService) { }\n\n  ngAfterViewInit() {\n    this.googleInit();\n  }\n\n  googleInit() {\n\n    google.accounts.id.initialize({\n      client_id: \"849386631100-90gnjsrcclc99emafpvtvd781qb6m5c8.apps.googleusercontent.com\",\n      callback: response => this.handleCredentialResponse(response)\n    });\n\n    google.accounts.id.renderButton(\n      this.googleBtn.nativeElement,\n      { theme: \"outline\", size: \"large\" }  // customization attributes\n    );\n\n  }\n\n  handleCredentialResponse(response: any) {\n    this.usuarioService.loginGoogle(response.credential).subscribe(resp => {\n      //console.log({ login: resp });\n    });\n    //console.log(\"Encoded JWT ID To`ken: \" + response.credential);\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n    this.slides.lockSwipes(true);\n  }\n\n  async login(fLogin: NgForm) {\n\n    if (fLogin.invalid) { return; }\n\n    const valido = await this.usuarioService.login(this.loginUser.email, this.loginUser.password);\n\n    if (valido) {\n      this.navCtrl.navigateRoot('/cuenta', { animated: true });\n    } else {\n      this.uiService.alertaInformativa('Usuario o contraseña no son correctos.');\n    }\n\n\n  }\n\n  async registro(fRegistro: NgForm) {\n\n    if (fRegistro.invalid) {\n      return;\n    }\n\n    const valido = await this.usuarioService.registro(this.registerUser);\n\n    if (valido) {\n      this.navCtrl.navigateRoot('/cuenta', { animated: true });\n    } else {\n      this.uiService.alertaInformativa('Ese correo electrónico ya esta registrado.');\n    }\n\n  }\n\n  mostrarRegistro() {\n    this.slides.lockSwipes(false);\n    this.slides.slideTo(0);\n    this.slides.lockSwipes(true);\n  }\n\n  mostrarLogin() {\n    this.slides.lockSwipes(false);\n    this.slides.slideTo(1);\n    this.slides.lockSwipes(true);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UiServiceService {\n\n  constructor(private alertController: AlertController) { }\n\n  async alertaInformativa(message: string){\n    const alert = await this.alertController.create({\n      message,\n      buttons: ['OK']\n    });\n  }\n}\n"],"names":["Component","ViewChild","NavController","UiServiceService","UsuarioService","LoginPage","constructor","usuarioService","navCtrl","uiService","email","password","nombre","google","correo","rol","img","ngAfterViewInit","googleInit","accounts","id","initialize","client_id","callback","response","handleCredentialResponse","renderButton","googleBtn","nativeElement","theme","size","loginGoogle","credential","subscribe","resp","ngOnInit","ionViewDidEnter","slides","lockSwipes","login","fLogin","invalid","valido","loginUser","navigateRoot","animated","alertaInformativa","registro","fRegistro","registerUser","mostrarRegistro","slideTo","mostrarLogin","args","static","selector","template","Injectable","AlertController","alertController","message","alert","create","buttons","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}