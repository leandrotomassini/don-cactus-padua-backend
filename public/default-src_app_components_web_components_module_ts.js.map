{"version":3,"file":"default-src_app_components_web_components_module_ts.js","mappings":"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DA27CmgC,uBAAd;IAAA;IA37Cr/BA,oDA27CmjC;IA37CnjCA,0DA27C6kC;;;;mBA37C7kCA;IAAAA,uDA27CkiB;IA37CliBA,wDA27CkiB;IA37CliBA,uDA27CohC;IA37CphCA,wDA27CohC;IA37CphCA,uDA27CmjC;IA37CnjCA,gEA27CmjC;;;;;;IA37CnjCA,uDAojD8oB;;;;oBApjD9oBA;mBAAAA;IAAAA,wDAojDyrB;IApjDzrBA,wDAojDkqB;;;;;;IApjDlqBA,uDAojDuyB;;;;oBApjDvyBA;mBAAAA;IAAAA,wDAojDk1B;IApjDl1BA,wDAojD2zB;;;;;;IApjD3zBA,uDAojDq9B;;;;mBApjDr9BA;IAAAA,wDAojD+9B;;;;;;IApjD/9BA,uDAojDmkC;;;;oBApjDnkCA;IAAAA,wDAojD8kC;;;;;;IApjD9kCA,uDAojDkvC;;;;;oBApjDlvCA;IAAAA,wDAojDm2C;IApjDn2CA,wDAojDs4C;;;;;;IApjDt4CA,qEAojD+rC;IApjD/rCA,wDAojDkvC;IApjDlvCA;IAAAA,mEAojDm+C;;;;oBApjDn+CA;oBAAAA;IAAAA,uDAojD0xC;IApjD1xCA,wDAojD0xC,YApjD1xCA,yDAojD0xC;;;;;;IApjD1xCA,uDAojD8hD;;;;oBApjD9hDA;IAAAA,wDAojDgjD;IApjDhjDA,wDAojD4oD;;;;;;IApjD5oDA,uDAojD6uD;;;;oBApjD7uDA;IAAAA,wDAojD+vD;IApjD/vDA,wDAojDu2D;;;;;;IApjDv2DA,uDAojD47D;;;;oBApjD57DA;IAAAA,wDAojDi8D;;;;;;IApjDj8DA,qEAojD0gB;IApjD1gBA,wDAojD8oB;IApjD9oBA,wDAojDuyB;IApjDvyBA,wDAojDq9B;IApjDr9BA,wDAojDmkC;IApjDnkCA,wDAojD+rC;IApjD/rCA,wDAojD8hD;IApjD9hDA,wDAojD6uD;IApjD7uDA,wDAojD47D;IApjD57DA,mEAojD+gE;;;;;;+BApjD/gEA;mBAAAA;IAAAA,uDAojDytB;IApjDztBA,wDAojDytB;IApjDztBA,uDAojDk3B;IApjDl3BA,wDAojDk3B;IAp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","sources":["./src/app/components/web/avatar-selector/avatar-selector.component.ts","./src/app/components/web/buscador/buscador.component.ts","./src/app/components/web/components.module.ts","./src/app/components/web/menu-principal/menu-principal.component.ts","./src/app/components/web/producto-slide/producto-slide.component.ts","./src/app/components/web/slide/slide.component.ts","./src/app/components/web/tabla-categorias/tabla-categorias.component.ts","./src/app/components/web/tabla-etiquetas/tabla-etiquetas.component.ts","./src/app/components/web/tabla-productos/tabla-productos.component.ts","./src/app/pages/editar-categoria/editar-categoria.page.ts","./src/app/pages/editar-etiqueta/editar-etiqueta.page.ts","./src/app/pages/editar-producto/editar-producto.page.ts","./src/app/pages/nueva-categoria/nueva-categoria.page.ts","./src/app/pages/nueva-etiqueta/nueva-etiqueta.page.ts","./src/app/pages/nuevo-producto/nuevo-producto.page.ts","./src/app/pipes/filtro-productos.pipe.ts","./src/app/pipes/pipes.module.ts","./src/app/services/categorias.service.ts","./src/app/services/etiquetas.service.ts","./src/app/services/productos.service.ts","./node_modules/rope-sequence/dist/index.es.js","./node_modules/rxjs/_esm2015/internal/Scheduler.js","./node_modules/rxjs/_esm2015/internal/operators/takeUntil.js","./node_modules/rxjs/_esm2015/internal/operators/throttle.js","./node_modules/rxjs/_esm2015/internal/operators/throttleTime.js","./node_modules/rxjs/_esm2015/internal/scheduler/Action.js","./node_modules/rxjs/_esm2015/internal/scheduler/AsyncAction.js","./node_modules/rxjs/_esm2015/internal/scheduler/AsyncScheduler.js","./node_modules/rxjs/_esm2015/internal/scheduler/async.js","./node_modules/@floating-ui/core/dist/floating-ui.core.browser.mjs","./node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.mjs","./node_modules/dom7/dom7.esm.js","./node_modules/ngx-editor/fesm2020/ngx-editor-commands.mjs","./node_modules/ngx-editor/fesm2020/ngx-editor-helpers.mjs","./node_modules/ngx-editor/fesm2020/ngx-editor-schema.mjs","./node_modules/ngx-editor/fesm2020/ngx-editor-utils.mjs","./node_modules/ngx-editor/fesm2020/ngx-editor.mjs","./node_modules/orderedmap/dist/index.js","./node_modules/prosemirror-commands/dist/index.js","./node_modules/prosemirror-history/dist/index.js","./node_modules/prosemirror-inputrules/dist/index.js","./node_modules/prosemirror-keymap/dist/index.js","./node_modules/prosemirror-model/dist/index.js","./node_modules/prosemirror-schema-list/dist/index.js","./node_modules/prosemirror-state/dist/index.js","./node_modules/prosemirror-transform/dist/index.js","./node_modules/prosemirror-view/dist/index.js","./node_modules/ssr-window/ssr-window.esm.js","./node_modules/swiper/angular/fesm2015/swiper_angular.mjs","./node_modules/swiper/core/breakpoints/getBreakpoint.js","./node_modules/swiper/core/breakpoints/index.js","./node_modules/swiper/core/breakpoints/setBreakpoint.js","./node_modules/swiper/core/check-overflow/index.js","./node_modules/swiper/core/classes/addClasses.js","./node_modules/swiper/core/classes/index.js","./node_modules/swiper/core/classes/removeClasses.js","./node_modules/swiper/core/core.js","./node_modules/swiper/core/defaults.js","./node_modules/swiper/core/events-emitter.js","./node_modules/swiper/core/events/index.js","./node_modules/swiper/core/events/onClick.js","./node_modules/swiper/core/events/onResize.js","./node_modules/swiper/core/events/onScroll.js","./node_modules/swiper/core/events/onTouchEnd.js","./node_modules/swiper/core/events/onTouchMove.js","./node_modules/swiper/core/events/onTouchStart.js","./node_modules/swiper/core/grab-cursor/index.js","./node_modules/swiper/core/grab-cursor/setGrabCursor.js","./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","./node_modules/swiper/core/images/index.js","./node_modules/swiper/core/images/loadImage.js","./node_modules/swiper/core/images/preloadImages.js","./node_modules/swiper/core/loop/index.js","./node_modules/swiper/core/loop/loopCreate.js","./node_modules/swiper/core/loop/loopDestroy.js","./node_modules/swiper/core/loop/loopFix.js","./node_modules/swiper/core/moduleExtendParams.js","./node_modules/swiper/core/modules/observer/observer.js","./node_modules/swiper/core/modules/resize/resize.js","./node_modules/swiper/core/slide/index.js","./node_modules/swiper/core/slide/slideNext.js","./node_modules/swiper/core/slide/slidePrev.js","./node_modules/swiper/core/slide/slideReset.js","./node_modules/swiper/core/slide/slideTo.js","./node_modules/swiper/core/slide/slideToClickedSlide.js","./node_modules/swiper/core/slide/slideToClosest.js","./node_modules/swiper/core/slide/slideToLoop.js","./node_modules/swiper/core/transition/index.js","./node_modules/swiper/core/transition/setTransition.js","./node_modules/swiper/core/transition/transitionEmit.js","./node_modules/swiper/core/transition/transitionEnd.js","./node_modules/swiper/core/transition/transitionStart.js","./node_modules/swiper/core/translate/getTranslate.js","./node_modules/swiper/core/translate/index.js","./node_modules/swiper/core/translate/maxTranslate.js","./node_modules/swiper/core/translate/minTranslate.js","./node_modules/swiper/core/translate/setTranslate.js","./node_modules/swiper/core/translate/translateTo.js","./node_modules/swiper/core/update/index.js","./node_modules/swiper/core/update/updateActiveIndex.js","./node_modules/swiper/core/update/updateAutoHeight.js","./node_modules/swiper/core/update/updateClickedSlide.js","./node_modules/swiper/core/update/updateProgress.js","./node_modules/swiper/core/update/updateSize.js","./node_modules/swiper/core/update/updateSlides.js","./node_modules/swiper/core/update/updateSlidesClasses.js","./node_modules/swiper/core/update/updateSlidesOffset.js","./node_modules/swiper/core/update/updateSlidesProgress.js","./node_modules/swiper/modules/a11y/a11y.js","./node_modules/swiper/modules/autoplay/autoplay.js","./node_modules/swiper/modules/controller/controller.js","./node_modules/swiper/modules/effect-cards/effect-cards.js","./node_modules/swiper/modules/effect-coverflow/effect-coverflow.js","./node_modules/swiper/modules/effect-creative/effect-creative.js","./node_modules/swiper/modules/effect-cube/effect-cube.js","./node_modules/swiper/modules/effect-fade/effect-fade.js","./node_modules/swiper/modules/effect-flip/effect-flip.js","./node_modules/swiper/modules/free-mode/free-mode.js","./node_modules/swiper/modules/grid/grid.js","./node_modules/swiper/modules/hash-navigation/hash-navigation.js","./node_modules/swiper/modules/history/history.js","./node_modules/swiper/modules/keyboard/keyboard.js","./node_modules/swiper/modules/lazy/lazy.js","./node_modules/swiper/modules/manipulation/manipulation.js","./node_modules/swiper/modules/manipulation/methods/addSlide.js","./node_modules/swiper/modules/manipulation/methods/appendSlide.js","./node_modules/swiper/modules/manipulation/methods/prependSlide.js","./node_modules/swiper/modules/manipulation/methods/removeAllSlides.js","./node_modules/swiper/modules/manipulation/methods/removeSlide.js","./node_modules/swiper/modules/mousewheel/mousewheel.js","./node_modules/swiper/modules/navigation/navigation.js","./node_modules/swiper/modules/pagination/pagination.js","./node_modules/swiper/modules/parallax/parallax.js","./node_modules/swiper/modules/scrollbar/scrollbar.js","./node_modules/swiper/modules/thumbs/thumbs.js","./node_modules/swiper/modules/virtual/virtual.js","./node_modules/swiper/modules/zoom/zoom.js","./node_modules/swiper/shared/classes-to-selector.js","./node_modules/swiper/shared/create-element-if-not-defined.js","./node_modules/swiper/shared/create-shadow.js","./node_modules/swiper/shared/dom.js","./node_modules/swiper/shared/effect-init.js","./node_modules/swiper/shared/effect-target.js","./node_modules/swiper/shared/effect-virtual-transition-end.js","./node_modules/swiper/shared/get-browser.js","./node_modules/swiper/shared/get-device.js","./node_modules/swiper/shared/get-support.js","./node_modules/swiper/shared/utils.js","./node_modules/swiper/swiper.esm.js","./node_modules/w3c-keyname/index.es.js"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-avatar-selector',\r\n  templateUrl: './avatar-selector.component.html',\r\n  styleUrls: ['./avatar-selector.component.scss'],\r\n})\r\nexport class AvatarSelectorComponent implements OnInit {\r\n\r\n  @Output() avatarSel = new EventEmitter<string>();\r\n\r\n  avatars = [\r\n    {\r\n      img: 'https://i.imgur.com/l4L4idL.png',\r\n      seleccionado: true\r\n    },\r\n    {\r\n      img: 'https://i.imgur.com/C6CAIzk.gif',\r\n      seleccionado: false\r\n    },\r\n    {\r\n      img: 'https://i.imgur.com/85h8DWp.jpeg',\r\n      seleccionado: false\r\n    },\r\n    {\r\n      img: 'https://i.imgur.com/85h8DWp.jpeg',\r\n      seleccionado: false\r\n    },\r\n    {\r\n      img: 'https://i.imgur.com/85h8DWp.jpeg',\r\n      seleccionado: false\r\n    },\r\n    {\r\n      img: 'https://i.imgur.com/85h8DWp.jpeg',\r\n      seleccionado: false\r\n    },\r\n    {\r\n      img: 'https://i.imgur.com/85h8DWp.jpeg',\r\n      seleccionado: false\r\n    },\r\n    {\r\n      img: 'https://i.imgur.com/85h8DWp.jpeg',\r\n      seleccionado: false\r\n    },\r\n  ];\r\n\r\n  avatarSlide = {\r\n    slidesPerView: 3.5\r\n  };\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  seleccionarAvatar(avatar) {\r\n    this.avatars.forEach(av => av.seleccionado = false);\r\n    avatar.seleccionado = true;\r\n    this.avatarSel.emit(avatar.img);\r\n  }\r\n\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\nimport { ProductosService } from 'src/app/services/productos.service';\n\n@Component({\n  selector: 'app-buscador',\n  templateUrl: './buscador.component.html',\n  styleUrls: ['./buscador.component.scss'],\n})\nexport class BuscadorComponent implements OnInit {\n\n  @Input() textoBuscar: string = '';\n  productosSubscripcion: Subscription;\n  productos: any;\n\n  constructor(private productosService: ProductosService, private navCtrl: NavController) { }\n\n  async ngOnInit() {\n    this.productosSubscripcion = await this.productosService\n      .getProductos()\n      .subscribe(productos => {\n        this.productos = productos;\n      });\n  }\n\n  verProducto(urlProducto) {\n    let url = '/' + urlProducto;\n    this.navCtrl.navigateRoot(url);\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SwiperModule } from \"swiper/angular\";\r\n\r\nimport { MenuPrincipalComponent } from './menu-principal/menu-principal.component';\r\nimport { SlideComponent } from './slide/slide.component';\r\nimport { AvatarSelectorComponent } from './avatar-selector/avatar-selector.component';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TablaProductosComponent } from './tabla-productos/tabla-productos.component';\r\nimport { PipesModule } from 'src/app/pipes/pipes.module';\r\nimport { NuevoProductoPage } from 'src/app/pages/nuevo-producto/nuevo-producto.page';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgxEditorModule } from 'ngx-editor';\r\nimport { EditarProductoPage } from 'src/app/pages/editar-producto/editar-producto.page';\r\nimport { TablaCategoriasComponent } from './tabla-categorias/tabla-categorias.component';\r\nimport { EditarCategoriaPage } from 'src/app/pages/editar-categoria/editar-categoria.page';\r\nimport { NuevaCategoriaPage } from 'src/app/pages/nueva-categoria/nueva-categoria.page';\r\nimport { EditarEtiquetaPage } from 'src/app/pages/editar-etiqueta/editar-etiqueta.page';\r\nimport { NuevaEtiquetaPage } from 'src/app/pages/nueva-etiqueta/nueva-etiqueta.page';\r\nimport { TablaEtiquetasComponent } from './tabla-etiquetas/tabla-etiquetas.component';\r\nimport { BuscadorComponent } from './buscador/buscador.component';\r\nimport { ProductoSlideComponent } from './producto-slide/producto-slide.component';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MenuPrincipalComponent,\r\n    SlideComponent,\r\n    AvatarSelectorComponent,\r\n    TablaProductosComponent,\r\n    NuevoProductoPage,\r\n    EditarProductoPage,\r\n    EditarCategoriaPage,\r\n    NuevaCategoriaPage,\r\n    EditarEtiquetaPage,\r\n    NuevaEtiquetaPage,\r\n    TablaCategoriasComponent,\r\n    TablaEtiquetasComponent,\r\n    BuscadorComponent,\r\n    ProductoSlideComponent\r\n  ],\r\n  exports: [\r\n    MenuPrincipalComponent,\r\n    SlideComponent,\r\n    AvatarSelectorComponent,\r\n    TablaProductosComponent,\r\n    TablaCategoriasComponent,\r\n    TablaEtiquetasComponent,\r\n    BuscadorComponent,\r\n    ProductoSlideComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SwiperModule,\r\n    IonicModule,\r\n    PipesModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgxEditorModule,\r\n    RouterModule\r\n  ]\r\n})\r\nexport class ComponentsModule { }\r\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-menu-principal',\r\n  templateUrl: './menu-principal.component.html',\r\n  styleUrls: ['./menu-principal.component.scss'],\r\n})\r\nexport class MenuPrincipalComponent implements OnInit {\r\n\r\n  @Output() onBuscar: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  textoBuscar: string = '';\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  async onSearchChange($event) {\r\n    let textoBuscar = $event.detail.value;\r\n    this.onBuscar.emit(textoBuscar);\r\n  }\r\n\r\n\r\n}\r\n","import { AfterContentChecked, Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { SwiperOptions } from 'swiper';\nimport { SwiperComponent } from 'swiper/angular';\n\n@Component({\n  selector: 'app-producto-slide',\n  templateUrl: './producto-slide.component.html',\n  styleUrls: ['./producto-slide.component.scss'],\n})\nexport class ProductoSlideComponent implements AfterContentChecked, OnInit {\n  @ViewChild('swiper') swiper: SwiperComponent;\n  @Input() producto: any;\n\n  config: SwiperOptions = {\n    slidesPerView: 1,\n    spaceBetween: 50,\n    navigation: true,\n    loop: true,\n    autoplay: true\n  };\n\n  constructor() { }\n\n  ngOnInit(): void {\n    console.log(this.producto);\n  }\n\n  ngAfterContentChecked(): void {\n    if (this.swiper) {\n      this.swiper.updateSwiper({});\n    }\n  }\n}\n","import { AfterContentChecked, Component, ViewChild, ViewEncapsulation } from '@angular/core';\r\n\r\nimport SwiperCore, { Autoplay, Keyboard, Mousewheel, Navigation, Pagination, SwiperOptions } from 'swiper';\r\nimport { SwiperComponent } from 'swiper/angular';\r\n\r\nSwiperCore.use([Navigation, Pagination, Mousewheel, Keyboard, Autoplay]);\r\n\r\n@Component({\r\n  selector: 'app-slide',\r\n  templateUrl: './slide.component.html',\r\n  styleUrls: ['./slide.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SlideComponent implements AfterContentChecked  {\r\n\r\n  @ViewChild('swiper') swiper: SwiperComponent;\r\n\r\n  config: SwiperOptions = {\r\n    slidesPerView: 1,\r\n    spaceBetween: 50,\r\n    navigation: true,\r\n    loop: true,\r\n    autoplay: true\r\n  };\r\n\r\n  constructor() { }\r\n\r\n  ngAfterContentChecked(): void {\r\n    if (this.swiper) {\r\n      this.swiper.updateSwiper({});\r\n    }\r\n  }\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\nimport { EditarCategoriaPage } from 'src/app/pages/editar-categoria/editar-categoria.page';\nimport { NuevaCategoriaPage } from 'src/app/pages/nueva-categoria/nueva-categoria.page';\nimport { CategoriasService } from 'src/app/services/categorias.service';\n\n@Component({\n  selector: 'app-tabla-categorias',\n  templateUrl: './tabla-categorias.component.html',\n  styleUrls: ['./tabla-categorias.component.scss'],\n})\nexport class TablaCategoriasComponent implements OnInit, OnDestroy {\n  categorias: any;\n  categoriasSubscripcion: Subscription;\n  textoBuscar: string = '';\n\n  constructor(private categoriasService: CategoriasService, private modalController: ModalController) { }\n\n  ngOnInit() {\n    this.categoriasSubscripcion = this.categoriasService.getCategorias().subscribe(categorias => {\n      this.categorias = categorias;\n    });\n\n    this.categoriasSubscripcion = this.categoriasService.getCategoriasBorradas().subscribe(categorias => {\n      this.categorias = categorias;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.categoriasSubscripcion.unsubscribe();\n  }\n\n  onSearchChange($event) {\n    this.textoBuscar = $event.detail.value;\n  }\n\n  async agregarCategoria() {\n\n    const modal = await this.modalController.create({\n      component: NuevaCategoriaPage\n    });\n\n    await modal.present();\n  }\n\n  async editarCategoria(categoriaEditar) {\n\n    const modal = await this.modalController.create({\n      component: EditarCategoriaPage,\n      componentProps: {\n        categoriaEditar\n      }\n    });\n\n    await modal.present();\n  }\n\n  borrarCategoria(idCategoria: string) {\n    this.categoriasService.borrarCategoria(idCategoria).then().catch();\n  }\n\n\n  segmentChanged($event) {\n\n    if ($event.detail.value == 'activas') {\n      this.categoriasService.getCategorias();\n    }\n\n    if ($event.detail.value == 'borradas') {\n      this.categoriasService.getCategoriasBorradas();\n    }\n  }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\nimport { EditarEtiquetaPage } from 'src/app/pages/editar-etiqueta/editar-etiqueta.page';\nimport { NuevaEtiquetaPage } from 'src/app/pages/nueva-etiqueta/nueva-etiqueta.page';\nimport { EtiquetasService } from 'src/app/services/etiquetas.service';\n\n@Component({\n  selector: 'app-tabla-etiquetas',\n  templateUrl: './tabla-etiquetas.component.html',\n  styleUrls: ['./tabla-etiquetas.component.scss'],\n})\nexport class TablaEtiquetasComponent implements OnInit, OnDestroy {\n\n  etiquetas: any;\n  etiquetasSubscripcion: Subscription;\n  textoBuscar: string = '';\n\n  constructor(private etiquetasService: EtiquetasService, private modalController: ModalController) { }\n\n  ngOnInit() {\n    this.etiquetasSubscripcion = this.etiquetasService.getEtiquetas().subscribe(etiquetas => {\n      this.etiquetas = etiquetas;\n    });\n\n    this.etiquetasSubscripcion = this.etiquetasService.getEtiquetasBorradas().subscribe(etiquetas => {\n      this.etiquetas = etiquetas;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.etiquetasSubscripcion.unsubscribe();\n  }\n\n  onSearchChange($event) {\n    this.textoBuscar = $event.detail.value;\n  }\n\n  async agregarEtiqueta() {\n\n    const modal = await this.modalController.create({\n      component: NuevaEtiquetaPage\n    });\n\n    await modal.present();\n  }\n\n  async editarEtiqueta(etiquetaEditar) {\n\n    const modal = await this.modalController.create({\n      component: EditarEtiquetaPage,\n      componentProps: {\n        etiquetaEditar\n      }\n    });\n\n    await modal.present();\n  }\n\n  borrarEtiqueta(idEtiqueta: string) {\n    this.etiquetasService.borrarEtiqueta(idEtiqueta).then().catch();\n  }\n\n\n  segmentChanged($event) {\n\n   \n    if ($event.detail.value == 'activas') {\n      this.etiquetasService.getEtiquetas();\n    }\n\n    if ($event.detail.value == 'borradas') {\n      this.etiquetasService.getEtiquetasBorradas();\n    }\n  }\n\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Subscription } from 'rxjs';\r\nimport { EditarProductoPage } from 'src/app/pages/editar-producto/editar-producto.page';\r\nimport { NuevoProductoPage } from 'src/app/pages/nuevo-producto/nuevo-producto.page';\r\n\r\nimport { ProductosService } from 'src/app/services/productos.service';\r\n\r\n@Component({\r\n  selector: 'app-tabla-productos',\r\n  templateUrl: './tabla-productos.component.html',\r\n  styleUrls: ['./tabla-productos.component.scss'],\r\n})\r\nexport class TablaProductosComponent implements OnInit, OnDestroy {\r\n\r\n  productos: any;\r\n  productosSubscripcion: Subscription;\r\n  textoBuscar: string = '';\r\n\r\n  constructor(private productosService: ProductosService, private modalController: ModalController) { }\r\n\r\n  ngOnInit() {\r\n    this.productosSubscripcion = this.productosService.getProductos().subscribe(productos => {\r\n      this.productos = productos;\r\n    });\r\n\r\n    this.productosSubscripcion = this.productosService.getProductosBorrados().subscribe(productos => {\r\n      this.productos = productos;\r\n    });\r\n\r\n    this.productosSubscripcion = this.productosService.getProductosSinStock().subscribe(productos => {\r\n      this.productos = productos;\r\n    });\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.productosSubscripcion.unsubscribe();\r\n  }\r\n\r\n  onSearchChange($event) {\r\n    this.textoBuscar = $event.detail.value;\r\n  }\r\n\r\n  async agregarProducto() {\r\n\r\n    const modal = await this.modalController.create({\r\n      component: NuevoProductoPage\r\n    });\r\n\r\n    await modal.present();\r\n  }\r\n\r\n  async editarProducto(productoEditar) {\r\n    \r\n    const modal = await this.modalController.create({\r\n      component: EditarProductoPage,\r\n      componentProps: {\r\n        productoEditar\r\n      }\r\n    });\r\n\r\n    await modal.present();\r\n  }\r\n\r\n  borrarProducto(idProducto: string) {\r\n    this.productosService.borrarProducto(idProducto).then().catch();\r\n  }\r\n\r\n\r\n  segmentChanged($event) {\r\n    if ($event.detail.value == 'borrados') {\r\n      this.productosService.getProductosBorrados();\r\n    }\r\n\r\n    if ($event.detail.value == 'publicados') {\r\n      this.productosService.getProductos();\r\n    }\r\n    if ($event.detail.value == 'sin-stock') {\r\n      this.productosService.getProductosSinStock();\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-editar-categoria',\n  templateUrl: './editar-categoria.page.html',\n  styleUrls: ['./editar-categoria.page.scss'],\n})\nexport class EditarCategoriaPage implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-editar-etiqueta',\n  templateUrl: './editar-etiqueta.page.html',\n  styleUrls: ['./editar-etiqueta.page.scss'],\n})\nexport class EditarEtiquetaPage implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\nimport { Editor, Validators } from 'ngx-editor';\nimport { CategoriasService } from 'src/app/services/categorias.service';\nimport { EtiquetasService } from 'src/app/services/etiquetas.service';\nimport { ProductosService } from 'src/app/services/productos.service';\n\n@Component({\n  selector: 'app-editar-producto',\n  templateUrl: './editar-producto.page.html',\n  styleUrls: ['./editar-producto.page.scss'],\n})\nexport class EditarProductoPage implements OnInit, OnDestroy {\n  @Input() productoEditar: any;\n  fotoInput: string = '';\n\n  categorias: any;\n  etiquetas: any;\n  fotos: string[] = [];\n  producto: any;\n\n  editor: Editor;\n  html: '';\n\n\n  editarProductoFormulario: FormGroup = this.fb.group({\n    _id: [''],\n    nombre: ['', [Validators.required, Validators.minLength(5)]],\n    precio: ['', [Validators.required, Validators.minLength(8)]],\n    stock: ['', [Validators.required, Validators.minLength(3)]],\n    img: ['', [Validators.required, Validators.minLength(3)]],\n    descripcion: ['', [Validators.required, Validators.minLength(3)]],\n    categoria: [''],\n    etiquetas: [''],\n  });\n\n  constructor(public modalController: ModalController,\n    private fb: FormBuilder, private categoriasService: CategoriasService, private etiquetasService: EtiquetasService, private productosService: ProductosService) { }\n\n  ngOnDestroy(): void {\n    this.editor.destroy();\n  }\n\n  ngOnInit() {\n    this.cargarCategorias();\n    this.cargarEtiquetas();\n    this.editor = new Editor();\n    this.fotos = this.productoEditar.img;\n\n    this.editarProductoFormulario.reset({\n      nombre: this.productoEditar.nombre,\n      precio: this.productoEditar.precio,\n      stock: this.productoEditar.stock,\n      img: '',\n      descripcion: this.productoEditar.descripcion,\n      categoria: this.productoEditar.categoria,\n      etiquetas: this.productoEditar.etiquetas,\n    });\n  }\n\n  campoEsValido(campo: string) {\n    return this.editarProductoFormulario.controls[campo].errors && this.editarProductoFormulario.controls[campo].touched;\n  }\n\n  guardarProducto() {\n    this.editarProductoFormulario.value._id = this.productoEditar._id;\n    this.producto = this.editarProductoFormulario.value;\n    this.producto.img = this.fotos;\n    this.productosService.editarProducto(this.producto).then().catch(console.log);\n    this.modalController.dismiss();\n  }\n\n  async cargarCategorias() {\n    this.categoriasService.obtenerCategorias().then(categorias => this.categorias = categorias);\n  }\n\n  async cargarEtiquetas() {\n    this.etiquetasService.obtenerEtiquetas().then(etiquetas => this.etiquetas = etiquetas);\n  }\n\n  guardarFoto() {\n\n    let existe = false;\n\n    this.fotos.forEach(fotoGuardada => {\n      if (fotoGuardada == this.editarProductoFormulario.value.img) {\n        existe = true;\n      }\n    });\n\n    if (!existe) {\n      this.fotos.push(this.editarProductoFormulario.value.img);\n    }\n\n    this.fotoInput = '';\n  }\n\n  borrarFoto(indice: number) {\n    this.fotos.splice(indice, 1);\n  }\n\n  salir() {\n    this.modalController.dismiss();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\nimport { Validators } from 'ngx-editor';\nimport { CategoriasService } from 'src/app/services/categorias.service';\n\n@Component({\n  selector: 'app-nueva-categoria',\n  templateUrl: './nueva-categoria.page.html',\n  styleUrls: ['./nueva-categoria.page.scss'],\n})\nexport class NuevaCategoriaPage implements OnInit {\n\n  categoria: any;\n\n  nuevaCategoriaFormulario: FormGroup = this.fb.group({\n    nombre: ['', [Validators.required, Validators.minLength(5)]],\n    img: ['', [Validators.required, Validators.minLength(5)]],\n  });\n\n  constructor(private fb: FormBuilder, private categoriaService: CategoriasService, private modalControler: ModalController) { }\n\n  ngOnInit() {\n  }\n\n  guardarCategoria() {\n    this.categoria = this.nuevaCategoriaFormulario.value;\n    this.categoriaService.crearCategoria(this.categoria);\n    this.modalControler.dismiss();\n  }\n\n  campoEsValido(campo: string) {\n    return this.nuevaCategoriaFormulario.controls[campo].errors && this.nuevaCategoriaFormulario.controls[campo].touched;\n  }\n\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\nimport { EtiquetasService } from 'src/app/services/etiquetas.service';\n\n@Component({\n  selector: 'app-nueva-etiqueta',\n  templateUrl: './nueva-etiqueta.page.html',\n  styleUrls: ['./nueva-etiqueta.page.scss'],\n})\nexport class NuevaEtiquetaPage implements OnInit {\n\n  etiqueta: any;\n\n  nuevaEtiquetaFormulario: FormGroup = this.fb.group({\n    nombre: ['', [Validators.required, Validators.minLength(5)]],\n    titulo: ['', [Validators.required, Validators.minLength(5)]],\n  });\n\n  constructor(private fb: FormBuilder, private etiquetaService: EtiquetasService, private modalControler: ModalController) { }\n\n  ngOnInit() {\n  }\n\n  guardarEtiqueta() {\n    this.etiqueta = this.nuevaEtiquetaFormulario.value;\n    this.etiquetaService.crearEtiqueta(this.etiqueta).then(console.log).catch(console.log);\n    this.modalControler.dismiss();\n  }\n\n  campoEsValido(campo: string) {\n    return this.nuevaEtiquetaFormulario.controls[campo].errors && this.nuevaEtiquetaFormulario.controls[campo].touched;\n  }\n\n\n\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Editor, Validators } from 'ngx-editor';\r\n\r\nimport { CategoriasService } from 'src/app/services/categorias.service';\r\nimport { EtiquetasService } from 'src/app/services/etiquetas.service';\r\nimport { ProductosService } from 'src/app/services/productos.service';\r\n\r\n@Component({\r\n  selector: 'app-nuevo-producto',\r\n  templateUrl: './nuevo-producto.page.html',\r\n  styleUrls: ['./nuevo-producto.page.scss'],\r\n})\r\nexport class NuevoProductoPage implements OnInit, OnDestroy {\r\n\r\n  categorias: any;\r\n  etiquetas: any;\r\n  fotos: string[] = [];\r\n  producto: any;\r\n  fotoInput: string = '';\r\n\r\n  editor: Editor;\r\n  html: '';\r\n\r\n\r\n  nuevoProductoFormulario: FormGroup = this.fb.group({\r\n    nombre: ['', [Validators.required, Validators.minLength(5)]],\r\n    url: ['', [Validators.required, Validators.minLength(5)]],\r\n    precio: [0, [Validators.required, Validators.minLength(8)]],\r\n    stock: [0, [Validators.required, Validators.minLength(3)]],\r\n    img: ['', [Validators.required, Validators.minLength(3)]],\r\n    descripcion: ['', [Validators.required, Validators.minLength(3)]],\r\n    categoria: [''],\r\n    etiquetas: [''],\r\n  });\r\n\r\n  constructor(public modalController: ModalController,\r\n    private fb: FormBuilder, private categoriasService: CategoriasService, private etiquetasService: EtiquetasService, private productosService: ProductosService) { }\r\n\r\n  ngOnDestroy(): void {\r\n    this.editor.destroy();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.cargarCategorias();\r\n    this.cargarEtiquetas();\r\n    this.editor = new Editor();\r\n  }\r\n\r\n  campoEsValido(campo: string) {\r\n    return this.nuevoProductoFormulario.controls[campo].errors && this.nuevoProductoFormulario.controls[campo].touched;\r\n  }\r\n\r\n  guardarProducto() {\r\n    this.producto = this.nuevoProductoFormulario.value;\r\n    this.producto.img = this.fotos;\r\n    this.producto.url = this.producto.url.replace(\" \", \"-\");\r\n    this.productosService.guardarProducto(this.producto).then(console.log).catch(console.log);\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  cargarCategorias() {\r\n    this.categoriasService.obtenerCategorias().then(categorias => this.categorias = categorias);\r\n  }\r\n\r\n  cargarEtiquetas() {\r\n    this.etiquetasService.obtenerEtiquetas().then(etiquetas => this.etiquetas = etiquetas);\r\n  }\r\n\r\n  guardarFoto() {\r\n\r\n    let existe = false;\r\n\r\n    this.fotos.forEach(fotoGuardada => {\r\n      if (fotoGuardada == this.nuevoProductoFormulario.value.img) {\r\n        existe = true;\r\n      }\r\n    });\r\n\r\n    if (!existe) {\r\n      this.fotos.push(this.nuevoProductoFormulario.value.img);\r\n    }\r\n\r\n    this.fotoInput = '';\r\n\r\n  }\r\n\r\n  borrarFoto(indice: number) {\r\n    this.fotos.splice(indice, 1);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'filtroPipe'\r\n})\r\nexport class FiltroPipe implements PipeTransform {\r\n\r\n  transform(arreglo: any[], texto: string, columna: string = \"nombre\"): any[] {\r\n\r\n    if (texto === '') {\r\n      return arreglo;\r\n    }\r\n\r\n    if (!arreglo) {\r\n      return arreglo;\r\n    }\r\n\r\n    texto = texto.toLocaleLowerCase();\r\n\r\n    return arreglo.filter(\r\n      item => item[columna].toLocaleLowerCase().includes(texto)\r\n    )\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FiltroPipe } from './filtro-productos.pipe';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FiltroPipe\r\n  ],\r\n  exports: [\r\n    FiltroPipe\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ]\r\n})\r\nexport class PipesModule { }\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { environment } from 'src/environments/environment';\r\nimport { UsuarioService } from './usuario.service';\r\nimport { WebsocketService } from './websocket.service';\r\n\r\nconst URL = environment.url;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CategoriasService {\r\n\r\n  constructor(private http: HttpClient, private wsService: WebsocketService, private usuarioService: UsuarioService) { }\r\n\r\n  obtenerCategorias() {\r\n    return new Promise<boolean>(resolve => {\r\n      this.http.get(`${URL}/categorias`)\r\n        .subscribe(resp => {\r\n          if (resp['categorias']) {\r\n            resolve(resp['categorias']);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  getCategorias() {\r\n    this.wsService.emit('get-categorias');\r\n    return this.wsService.listen('categorias');\r\n  }\r\n\r\n  async borrarCategoria(idCategoria: string) {\r\n\r\n    await this.usuarioService.cargarToken();\r\n\r\n    const headers = new HttpHeaders({\r\n      'x-token': this.usuarioService.token\r\n    });\r\n\r\n    return new Promise(resolve => {\r\n      this.http.delete(`${URL}/categorias/${idCategoria}`, { headers })\r\n        .subscribe(async resp => {\r\n          if (resp['ok']) {\r\n            resolve(true);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        }, (err) => {\r\n          resolve(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getCategoriasBorradas() {\r\n    this.wsService.emit('get-categorias-borradas');\r\n    return this.wsService.listen('categorias-borradas');\r\n  }\r\n\r\n  async crearCategoria(categoria){\r\n\r\n    await this.usuarioService.cargarToken();\r\n\r\n\r\n    const headers = new HttpHeaders({\r\n      'x-token': this.usuarioService.token\r\n    });\r\n    return new Promise(resolve => {\r\n      this.http.post(`${URL}/categorias`, categoria, { headers })\r\n        .subscribe(resp => {\r\n          if (resp['ok']) {\r\n            resolve(true);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        }, (err) => {\r\n          resolve(err);\r\n        });\r\n    });\r\n\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { environment } from 'src/environments/environment';\r\nimport { UsuarioService } from './usuario.service';\r\nimport { WebsocketService } from './websocket.service';\r\n\r\nconst URL = environment.url;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EtiquetasService {\r\n\r\n  constructor(private http: HttpClient, private wsService: WebsocketService, private usuarioService: UsuarioService) { }\r\n\r\n  obtenerEtiquetas() {\r\n    return new Promise<boolean>(resolve => {\r\n      this.http.get(`${URL}/etiquetas`)\r\n        .subscribe(resp => {\r\n          if (resp['etiquetas']) {\r\n            resolve(resp['etiquetas']);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  getEtiquetas() {\r\n    this.wsService.emit('get-etiquetas');\r\n    return this.wsService.listen('etiquetas');\r\n  }\r\n\r\n  async borrarEtiqueta(idEtiqueta: string) {\r\n\r\n    await this.usuarioService.cargarToken();\r\n\r\n    const headers = new HttpHeaders({\r\n      'x-token': this.usuarioService.token\r\n    });\r\n\r\n    return new Promise(resolve => {\r\n      this.http.delete(`${URL}/etiquetas/${idEtiqueta}`, { headers })\r\n        .subscribe(async resp => {\r\n          if (resp['ok']) {\r\n            resolve(true);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        }, (err) => {\r\n          resolve(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getEtiquetasBorradas() {\r\n    this.wsService.emit('get-etiquetas-borradas');\r\n    return this.wsService.listen('etiquetas-borradas');\r\n  }\r\n\r\n\r\n  async crearEtiqueta(etiqueta) {\r\n\r\n    await this.usuarioService.cargarToken();  \r\n\r\n    const headers = new HttpHeaders({\r\n      'x-token': this.usuarioService.token\r\n    });\r\n\r\n    return new Promise(resolve => {\r\n      this.http.post(`${URL}/etiquetas`, etiqueta, { headers })\r\n        .subscribe(resp => {\r\n          if (resp['ok']) {\r\n            resolve(true);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        }, (err) => {\r\n          resolve(err);\r\n        });\r\n    });\r\n\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable, OnInit } from '@angular/core';\r\nimport { Storage } from '@ionic/storage-angular';\r\n\r\nimport { environment } from 'src/environments/environment';\r\nimport { UsuarioService } from './usuario.service';\r\nimport { WebsocketService } from './websocket.service';\r\n\r\nconst URL = environment.url;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProductosService implements OnInit {\r\n\r\n  token = '';\r\n\r\n  constructor(private wsService: WebsocketService, private storage: Storage, private http: HttpClient, private usuarioService: UsuarioService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  getProductos() {\r\n    this.wsService.emit('get-productos');\r\n    return this.wsService.listen('productos');\r\n  }\r\n\r\n  getProducto(idProducto: string) {\r\n    return new Promise(resolve => {\r\n      this.http.get(`${URL}/productos/${idProducto}`)\r\n        .subscribe(resp => {\r\n          if (resp['ok']) {\r\n            resolve(resp);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        }, (err) => {\r\n          resolve(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getProductosBorrados() {\r\n    this.wsService.emit('get-productos-borrados');\r\n    return this.wsService.listen('productos-borrados');\r\n  }\r\n\r\n  getProductosSinStock() {\r\n    this.wsService.emit('get-productos-sin-stock');\r\n    return this.wsService.listen('productos-sin-stock');\r\n  }\r\n\r\n  otenerTituloEtiqueta(etiquetaNombre: string = '') {\r\n    return new Promise<boolean>(resolve => {\r\n      this.http.get(`${URL}/etiquetas/${etiquetaNombre}`)\r\n        .subscribe(resp => {\r\n          resolve(resp[0].titulo);\r\n        });\r\n    });\r\n  }\r\n\r\n  async guardarProducto(producto) {\r\n\r\n    await this.usuarioService.cargarToken();\r\n\r\n\r\n    const headers = new HttpHeaders({\r\n      'x-token': this.usuarioService.token\r\n    });\r\n    return new Promise(resolve => {\r\n      this.http.post(`${URL}/productos`, producto, { headers })\r\n        .subscribe(resp => {\r\n          if (resp['ok']) {\r\n            resolve(true);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        }, (err) => {\r\n          resolve(err);\r\n        });\r\n    });\r\n\r\n  }\r\n\r\n  async borrarProducto(idProducto: string) {\r\n\r\n    await this.usuarioService.cargarToken();\r\n\r\n    const headers = new HttpHeaders({\r\n      'x-token': this.usuarioService.token\r\n    });\r\n\r\n    return new Promise(resolve => {\r\n      this.http.delete(`${URL}/productos/${idProducto}`, { headers })\r\n        .subscribe(async resp => {\r\n          if (resp['ok']) {\r\n            resolve(true);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        }, (err) => {\r\n          resolve(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  async cargarToken() {\r\n    this.token = await this.storage.get('token') || null;\r\n  }\r\n\r\n  async editarProducto(producto: any) {\r\n\r\n    await this.usuarioService.cargarToken();\r\n\r\n    const headers = new HttpHeaders({\r\n      'x-token': this.usuarioService.token\r\n    });\r\n    return new Promise(resolve => {\r\n      this.http.put(`${URL}/productos/${producto._id}`, producto, { headers })\r\n        .subscribe(resp => {\r\n          if (resp['ok']) {\r\n            resolve(true);\r\n          } else {\r\n            resolve(false);\r\n          }\r\n        }, (err) => {\r\n          resolve(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getProductoSlug(slug: string) {\r\n    return new Promise(resolve => {\r\n      this.http.get(`${URL}/productos/slug/${slug}`)\r\n        .subscribe(producto => {\r\n          resolve(producto);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","var GOOD_LEAF_SIZE = 200;\n\n// :: class<T> A rope sequence is a persistent sequence data structure\n// that supports appending, prepending, and slicing without doing a\n// full copy. It is represented as a mostly-balanced tree.\nvar RopeSequence = function RopeSequence () {};\n\nRopeSequence.prototype.append = function append (other) {\n  if (!other.length) { return this }\n  other = RopeSequence.from(other);\n\n  return (!this.length && other) ||\n    (other.length < GOOD_LEAF_SIZE && this.leafAppend(other)) ||\n    (this.length < GOOD_LEAF_SIZE && other.leafPrepend(this)) ||\n    this.appendInner(other)\n};\n\n// :: (union<[T], RopeSequence<T>>) → RopeSequence<T>\n// Prepend an array or other rope to this one, returning a new rope.\nRopeSequence.prototype.prepend = function prepend (other) {\n  if (!other.length) { return this }\n  return RopeSequence.from(other).append(this)\n};\n\nRopeSequence.prototype.appendInner = function appendInner (other) {\n  return new Append(this, other)\n};\n\n// :: (?number, ?number) → RopeSequence<T>\n// Create a rope repesenting a sub-sequence of this rope.\nRopeSequence.prototype.slice = function slice (from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from >= to) { return RopeSequence.empty }\n  return this.sliceInner(Math.max(0, from), Math.min(this.length, to))\n};\n\n// :: (number) → T\n// Retrieve the element at the given position from this rope.\nRopeSequence.prototype.get = function get (i) {\n  if (i < 0 || i >= this.length) { return undefined }\n  return this.getInner(i)\n};\n\n// :: ((element: T, index: number) → ?bool, ?number, ?number)\n// Call the given function for each element between the given\n// indices. This tends to be more efficient than looping over the\n// indices and calling `get`, because it doesn't have to descend the\n// tree for every element.\nRopeSequence.prototype.forEach = function forEach (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from <= to)\n    { this.forEachInner(f, from, to, 0); }\n  else\n    { this.forEachInvertedInner(f, from, to, 0); }\n};\n\n// :: ((element: T, index: number) → U, ?number, ?number) → [U]\n// Map the given functions over the elements of the rope, producing\n// a flat array.\nRopeSequence.prototype.map = function map (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  var result = [];\n  this.forEach(function (elt, i) { return result.push(f(elt, i)); }, from, to);\n  return result\n};\n\n// :: (?union<[T], RopeSequence<T>>) → RopeSequence<T>\n// Create a rope representing the given array, or return the rope\n// itself if a rope was given.\nRopeSequence.from = function from (values) {\n  if (values instanceof RopeSequence) { return values }\n  return values && values.length ? new Leaf(values) : RopeSequence.empty\n};\n\nvar Leaf = /*@__PURE__*/(function (RopeSequence) {\n  function Leaf(values) {\n    RopeSequence.call(this);\n    this.values = values;\n  }\n\n  if ( RopeSequence ) Leaf.__proto__ = RopeSequence;\n  Leaf.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Leaf.prototype.constructor = Leaf;\n\n  var prototypeAccessors = { length: { configurable: true },depth: { configurable: true } };\n\n  Leaf.prototype.flatten = function flatten () {\n    return this.values\n  };\n\n  Leaf.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    return new Leaf(this.values.slice(from, to))\n  };\n\n  Leaf.prototype.getInner = function getInner (i) {\n    return this.values[i]\n  };\n\n  Leaf.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    for (var i = from; i < to; i++)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    for (var i = from - 1; i >= to; i--)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.leafAppend = function leafAppend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(this.values.concat(other.flatten())) }\n  };\n\n  Leaf.prototype.leafPrepend = function leafPrepend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(other.flatten().concat(this.values)) }\n  };\n\n  prototypeAccessors.length.get = function () { return this.values.length };\n\n  prototypeAccessors.depth.get = function () { return 0 };\n\n  Object.defineProperties( Leaf.prototype, prototypeAccessors );\n\n  return Leaf;\n}(RopeSequence));\n\n// :: RopeSequence\n// The empty rope sequence.\nRopeSequence.empty = new Leaf([]);\n\nvar Append = /*@__PURE__*/(function (RopeSequence) {\n  function Append(left, right) {\n    RopeSequence.call(this);\n    this.left = left;\n    this.right = right;\n    this.length = left.length + right.length;\n    this.depth = Math.max(left.depth, right.depth) + 1;\n  }\n\n  if ( RopeSequence ) Append.__proto__ = RopeSequence;\n  Append.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Append.prototype.constructor = Append;\n\n  Append.prototype.flatten = function flatten () {\n    return this.left.flatten().concat(this.right.flatten())\n  };\n\n  Append.prototype.getInner = function getInner (i) {\n    return i < this.left.length ? this.left.get(i) : this.right.get(i - this.left.length)\n  };\n\n  Append.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from < leftLen &&\n        this.left.forEachInner(f, from, Math.min(to, leftLen), start) === false)\n      { return false }\n    if (to > leftLen &&\n        this.right.forEachInner(f, Math.max(from - leftLen, 0), Math.min(this.length, to) - leftLen, start + leftLen) === false)\n      { return false }\n  };\n\n  Append.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from > leftLen &&\n        this.right.forEachInvertedInner(f, from - leftLen, Math.max(to, leftLen) - leftLen, start + leftLen) === false)\n      { return false }\n    if (to < leftLen &&\n        this.left.forEachInvertedInner(f, Math.min(from, leftLen), to, start) === false)\n      { return false }\n  };\n\n  Append.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    var leftLen = this.left.length;\n    if (to <= leftLen) { return this.left.slice(from, to) }\n    if (from >= leftLen) { return this.right.slice(from - leftLen, to - leftLen) }\n    return this.left.slice(from, leftLen).append(this.right.slice(0, to - leftLen))\n  };\n\n  Append.prototype.leafAppend = function leafAppend (other) {\n    var inner = this.right.leafAppend(other);\n    if (inner) { return new Append(this.left, inner) }\n  };\n\n  Append.prototype.leafPrepend = function leafPrepend (other) {\n    var inner = this.left.leafPrepend(other);\n    if (inner) { return new Append(inner, this.right) }\n  };\n\n  Append.prototype.appendInner = function appendInner (other) {\n    if (this.left.depth >= Math.max(this.right.depth, other.depth) + 1)\n      { return new Append(this.left, new Append(this.right, other)) }\n    return new Append(this, other)\n  };\n\n  return Append;\n}(RopeSequence));\n\nvar ropeSequence = RopeSequence;\n\nexport default ropeSequence;\n","export class Scheduler {\n    constructor(SchedulerAction, now = Scheduler.now) {\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    schedule(work, delay = 0, state) {\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    }\n}\nScheduler.now = () => Date.now();\n","import { innerSubscribe, SimpleInnerSubscriber, SimpleOuterSubscriber } from '../innerSubscribe';\nexport function takeUntil(notifier) {\n    return (source) => source.lift(new TakeUntilOperator(notifier));\n}\nclass TakeUntilOperator {\n    constructor(notifier) {\n        this.notifier = notifier;\n    }\n    call(subscriber, source) {\n        const takeUntilSubscriber = new TakeUntilSubscriber(subscriber);\n        const notifierSubscription = innerSubscribe(this.notifier, new SimpleInnerSubscriber(takeUntilSubscriber));\n        if (notifierSubscription && !takeUntilSubscriber.seenValue) {\n            takeUntilSubscriber.add(notifierSubscription);\n            return source.subscribe(takeUntilSubscriber);\n        }\n        return takeUntilSubscriber;\n    }\n}\nclass TakeUntilSubscriber extends SimpleOuterSubscriber {\n    constructor(destination) {\n        super(destination);\n        this.seenValue = false;\n    }\n    notifyNext() {\n        this.seenValue = true;\n        this.complete();\n    }\n    notifyComplete() {\n    }\n}\n","import { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport const defaultThrottleConfig = {\n    leading: true,\n    trailing: false\n};\nexport function throttle(durationSelector, config = defaultThrottleConfig) {\n    return (source) => source.lift(new ThrottleOperator(durationSelector, !!config.leading, !!config.trailing));\n}\nclass ThrottleOperator {\n    constructor(durationSelector, leading, trailing) {\n        this.durationSelector = durationSelector;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));\n    }\n}\nclass ThrottleSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, durationSelector, _leading, _trailing) {\n        super(destination);\n        this.destination = destination;\n        this.durationSelector = durationSelector;\n        this._leading = _leading;\n        this._trailing = _trailing;\n        this._hasValue = false;\n    }\n    _next(value) {\n        this._hasValue = true;\n        this._sendValue = value;\n        if (!this._throttled) {\n            if (this._leading) {\n                this.send();\n            }\n            else {\n                this.throttle(value);\n            }\n        }\n    }\n    send() {\n        const { _hasValue, _sendValue } = this;\n        if (_hasValue) {\n            this.destination.next(_sendValue);\n            this.throttle(_sendValue);\n        }\n        this._hasValue = false;\n        this._sendValue = undefined;\n    }\n    throttle(value) {\n        const duration = this.tryDurationSelector(value);\n        if (!!duration) {\n            this.add(this._throttled = innerSubscribe(duration, new SimpleInnerSubscriber(this)));\n        }\n    }\n    tryDurationSelector(value) {\n        try {\n            return this.durationSelector(value);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return null;\n        }\n    }\n    throttlingDone() {\n        const { _throttled, _trailing } = this;\n        if (_throttled) {\n            _throttled.unsubscribe();\n        }\n        this._throttled = undefined;\n        if (_trailing) {\n            this.send();\n        }\n    }\n    notifyNext() {\n        this.throttlingDone();\n    }\n    notifyComplete() {\n        this.throttlingDone();\n    }\n}\n","import { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { defaultThrottleConfig } from './throttle';\nexport function throttleTime(duration, scheduler = async, config = defaultThrottleConfig) {\n    return (source) => source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));\n}\nclass ThrottleTimeOperator {\n    constructor(duration, scheduler, leading, trailing) {\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n    }\n}\nclass ThrottleTimeSubscriber extends Subscriber {\n    constructor(destination, duration, scheduler, leading, trailing) {\n        super(destination);\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n        this._hasTrailingValue = false;\n        this._trailingValue = null;\n    }\n    _next(value) {\n        if (this.throttled) {\n            if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n        else {\n            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));\n            if (this.leading) {\n                this.destination.next(value);\n            }\n            else if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n    }\n    _complete() {\n        if (this._hasTrailingValue) {\n            this.destination.next(this._trailingValue);\n            this.destination.complete();\n        }\n        else {\n            this.destination.complete();\n        }\n    }\n    clearThrottle() {\n        const throttled = this.throttled;\n        if (throttled) {\n            if (this.trailing && this._hasTrailingValue) {\n                this.destination.next(this._trailingValue);\n                this._trailingValue = null;\n                this._hasTrailingValue = false;\n            }\n            throttled.unsubscribe();\n            this.remove(throttled);\n            this.throttled = null;\n        }\n    }\n}\nfunction dispatchNext(arg) {\n    const { subscriber } = arg;\n    subscriber.clearThrottle();\n}\n","import { Subscription } from '../Subscription';\nexport class Action extends Subscription {\n    constructor(scheduler, work) {\n        super();\n    }\n    schedule(state, delay = 0) {\n        return this;\n    }\n}\n","import { Action } from './Action';\nexport class AsyncAction extends Action {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    schedule(state, delay = 0) {\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        const id = this.id;\n        const scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    }\n    requestAsyncId(scheduler, id, delay = 0) {\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    }\n    recycleAsyncId(scheduler, id, delay = 0) {\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        clearInterval(id);\n        return undefined;\n    }\n    execute(state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        const error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    }\n    _execute(state, delay) {\n        let errored = false;\n        let errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    }\n    _unsubscribe() {\n        const id = this.id;\n        const scheduler = this.scheduler;\n        const actions = scheduler.actions;\n        const index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    }\n}\n","import { Scheduler } from '../Scheduler';\nexport class AsyncScheduler extends Scheduler {\n    constructor(SchedulerAction, now = Scheduler.now) {\n        super(SchedulerAction, () => {\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n                return AsyncScheduler.delegate.now();\n            }\n            else {\n                return now();\n            }\n        });\n        this.actions = [];\n        this.active = false;\n        this.scheduled = undefined;\n    }\n    schedule(work, delay = 0, state) {\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n            return AsyncScheduler.delegate.schedule(work, delay, state);\n        }\n        else {\n            return super.schedule(work, delay, state);\n        }\n    }\n    flush(action) {\n        const { actions } = this;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        let error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift());\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport const asyncScheduler = new AsyncScheduler(AsyncAction);\nexport const async = asyncScheduler;\n","function getSide(placement) {\n  return placement.split('-')[0];\n}\n\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'x' : 'y';\n}\n\nfunction getLengthFromAxis(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  const commonAlign = reference[length] / 2 - floating[length] / 2;\n  const side = getSide(placement);\n  const isVertical = mainAxis === 'x';\n  let coords;\n\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n\n    case 'end':\n      coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\n\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n\n  {\n    if (platform == null) {\n      console.error(['Floating UI: `platform` property was not passed to config. If you', 'want to use Floating UI on the web, install @floating-ui/dom', 'instead of the /core package. Otherwise, you can create your own', '`platform`: https://floating-ui.com/docs/platform'].join(' '));\n    }\n\n    if (middleware.filter(_ref => {\n      let {\n        name\n      } = _ref;\n      return name === 'autoPlacement' || name === 'flip';\n    }).length > 1) {\n      throw new Error(['Floating UI: duplicate `flip` and/or `autoPlacement`', 'middleware detected. This will lead to an infinite loop. Ensure only', 'one of either has been passed to the `middleware` array.'].join(' '));\n    }\n  }\n\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n\n  for (let i = 0; i < middleware.length; i++) {\n    const {\n      name,\n      fn\n    } = middleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = { ...middlewareData,\n      [name]: { ...middlewareData[name],\n        ...data\n      }\n    };\n\n    {\n      if (resetCount > 50) {\n        console.warn(['Floating UI: The middleware lifecycle appears to be running in an', 'infinite loop. This is usually caused by a `reset` continually', 'being returned without a break condition.'].join(' '));\n      }\n    }\n\n    if (reset && resetCount <= 50) {\n      resetCount++;\n\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n\n      i = -1;\n      continue;\n    }\n  }\n\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\n\nfunction getSideObjectFromPadding(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\n\nfunction rectToClientRect(rect) {\n  return { ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(middlewareArguments, options) {\n  var _await$platform$isEle;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = middlewareArguments;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = options;\n  const paddingObject = getSideObjectFromPadding(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect: elementContext === 'floating' ? { ...rects.floating,\n      x,\n      y\n    } : rects.reference,\n    offsetParent: await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating)),\n    strategy\n  }) : rects[elementContext]);\n  return {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n}\n\nconst min = Math.min;\nconst max = Math.max;\n\nfunction within(min$1, value, max$1) {\n  return max(min$1, min(value, max$1));\n}\n\n/**\n * Positions an inner element of the floating element such that it is centered\n * to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n\n  async fn(middlewareArguments) {\n    // Since `element` is required, we don't Partial<> the type\n    const {\n      element,\n      padding = 0\n    } = options != null ? options : {};\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform\n    } = middlewareArguments;\n\n    if (element == null) {\n      {\n        console.warn('Floating UI: No `element` was passed to the `arrow` middleware.');\n      }\n\n      return {};\n    }\n\n    const paddingObject = getSideObjectFromPadding(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getMainAxisFromPlacement(placement);\n    const alignment = getAlignment(placement);\n    const length = getLengthFromAxis(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const minProp = axis === 'y' ? 'top' : 'left';\n    const maxProp = axis === 'y' ? 'bottom' : 'right';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n\n    if (clientSize === 0) {\n      clientSize = rects.floating[length];\n    }\n\n    const centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds\n\n    const min = paddingObject[minProp];\n    const max = clientSize - arrowDimensions[length] - paddingObject[maxProp];\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = within(min, center, max); // Make sure that arrow points at the reference\n\n    const alignmentPadding = alignment === 'start' ? paddingObject[minProp] : paddingObject[maxProp];\n    const shouldAddOffset = alignmentPadding > 0 && center !== offset && rects.reference[length] <= rects.floating[length];\n    const alignmentOffset = shouldAddOffset ? center < min ? min - center : max - center : 0;\n    return {\n      [axis]: coords[axis] - alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset\n      }\n    };\n  }\n\n});\n\nconst hash$1 = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, matched => hash$1[matched]);\n}\n\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n\n  const alignment = getAlignment(placement);\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  let mainAlignmentSide = mainAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n\n  return {\n    main: mainAlignmentSide,\n    cross: getOppositePlacement(mainAlignmentSide)\n  };\n}\n\nconst hash = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, matched => hash[matched]);\n}\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst allPlacements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-start\", side + \"-end\"), []);\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n\n    return true;\n  });\n}\n\n/**\n * Automatically chooses the `placement` which has the most space available.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'autoPlacement',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _middlewareData$autoP3, _middlewareData$autoP4, _placementsSortedByLe;\n\n      const {\n        x,\n        y,\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        alignment = null,\n        allowedPlacements = allPlacements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const placements = getPlacementList(alignment, autoAlignment, allowedPlacements);\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const currentIndex = (_middlewareData$autoP = (_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.index) != null ? _middlewareData$autoP : 0;\n      const currentPlacement = placements[currentIndex];\n\n      if (currentPlacement == null) {\n        return {};\n      }\n\n      const {\n        main,\n        cross\n      } = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))); // Make `computeCoords` start from the right place\n\n      if (placement !== currentPlacement) {\n        return {\n          x,\n          y,\n          reset: {\n            placement: placements[0]\n          }\n        };\n      }\n\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[main], overflow[cross]];\n      const allOverflows = [...((_middlewareData$autoP3 = (_middlewareData$autoP4 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP4.overflows) != null ? _middlewareData$autoP3 : []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements[currentIndex + 1]; // There are more placements to check\n\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n\n      const placementsSortedByLeastOverflow = allOverflows.slice().sort((a, b) => a.overflows[0] - b.overflows[0]);\n      const placementThatFitsOnAllSides = (_placementsSortedByLe = placementsSortedByLeastOverflow.find(_ref => {\n        let {\n          overflows\n        } = _ref;\n        return overflows.every(overflow => overflow <= 0);\n      })) == null ? void 0 : _placementsSortedByLe.placement;\n      const resetPlacement = placementThatFitsOnAllSides != null ? placementThatFitsOnAllSides : placementsSortedByLeastOverflow[0].placement;\n\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\n\n/**\n * Changes the placement of the floating element to one that will fit if the\n * initially specified `placement` does not.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'flip',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$flip;\n\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const side = getSide(placement);\n      const isBasePlacement = side === initialPlacement;\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n\n      if (checkCrossAxis) {\n        const {\n          main,\n          cross\n        } = getAlignmentSides(placement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n        overflows.push(overflow[main], overflow[cross]);\n      }\n\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }]; // One or more sides is overflowing\n\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip$, _middlewareData$flip2;\n\n        const nextIndex = ((_middlewareData$flip$ = (_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) != null ? _middlewareData$flip$ : 0) + 1;\n        const nextPlacement = placements[nextIndex];\n\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        let resetPlacement = 'bottom';\n\n        switch (fallbackStrategy) {\n          case 'bestFit':\n            {\n              var _overflowsData$map$so;\n\n              const placement = (_overflowsData$map$so = overflowsData.map(d => [d, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0].placement;\n\n              if (placement) {\n                resetPlacement = placement;\n              }\n\n              break;\n            }\n\n          case 'initialPlacement':\n            resetPlacement = initialPlacement;\n            break;\n        }\n\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (_temp) {\n  let {\n    strategy = 'referenceHidden',\n    ...detectOverflowOptions\n  } = _temp === void 0 ? {} : _temp;\n  return {\n    name: 'hide',\n\n    async fn(middlewareArguments) {\n      const {\n        rects\n      } = middlewareArguments;\n\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        default:\n          {\n            return {};\n          }\n      }\n    }\n\n  };\n};\n\nasync function convertValueToCoords(middlewareArguments, value) {\n  const {\n    placement,\n    platform,\n    elements\n  } = middlewareArguments;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getMainAxisFromPlacement(placement) === 'x';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = typeof value === 'function' ? value(middlewareArguments) : value; // eslint-disable-next-line prefer-const\n\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n/**\n * Displaces the floating element from its reference element.\n * @see https://floating-ui.com/docs/offset\n */\n\nconst offset = function (value) {\n  if (value === void 0) {\n    value = 0;\n  }\n\n  return {\n    name: 'offset',\n    options: value,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y\n      } = middlewareArguments;\n      const diffCoords = await convertValueToCoords(middlewareArguments, value);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n\n  };\n};\n\nfunction getCrossAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Shifts the floating element in order to keep it in view when it will overflow\n * a clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'shift',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const mainAxis = getMainAxisFromPlacement(getSide(placement));\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = within(min, mainAxisCoord, max);\n      }\n\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = within(min, crossAxisCoord, max);\n      }\n\n      const limitedCoords = limiter.fn({ ...middlewareArguments,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return { ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n\n  };\n};\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    options,\n\n    fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = middlewareArguments;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const mainAxis = getMainAxisFromPlacement(placement);\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = typeof offset === 'function' ? offset(middlewareArguments) : offset;\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2, _middlewareData$offse3, _middlewareData$offse4;\n\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? (_middlewareData$offse = (_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) != null ? _middlewareData$offse : 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : (_middlewareData$offse3 = (_middlewareData$offse4 = middlewareData.offset) == null ? void 0 : _middlewareData$offse4[crossAxis]) != null ? _middlewareData$offse3 : 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n\n  };\n};\n\n/**\n * Provides data to change the size of the floating element. For instance,\n * prevent it from overflowing its clipping boundary or match the width of the\n * reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'size',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = options;\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      let heightSide;\n      let widthSide;\n\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n\n      const xMin = max(overflow.left, 0);\n      const xMax = max(overflow.right, 0);\n      const yMin = max(overflow.top, 0);\n      const yMax = max(overflow.bottom, 0);\n      const dimensions = {\n        availableHeight: rects.floating.height - (['left', 'right'].includes(placement) ? 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom)) : overflow[heightSide]),\n        availableWidth: rects.floating.width - (['top', 'bottom'].includes(placement) ? 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right)) : overflow[widthSide])\n      };\n      await apply({ ...middlewareArguments,\n        ...dimensions\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n\n      if (rects.floating.width !== nextDimensions.width || rects.floating.height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'inline',\n    options,\n\n    async fn(middlewareArguments) {\n      var _await$platform$getCl;\n\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = middlewareArguments; // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n\n      const {\n        padding = 2,\n        x,\n        y\n      } = options;\n      const fallback = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n        rect: rects.reference,\n        offsetParent: await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating)),\n        strategy\n      }) : rects.reference);\n      const clientRects = (_await$platform$getCl = await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) != null ? _await$platform$getCl : [];\n      const paddingObject = getSideObjectFromPadding(padding);\n\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          var _clientRects$find;\n\n          // Find the first rect in which the point is fully inside\n          return (_clientRects$find = clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom)) != null ? _clientRects$find : fallback;\n        } // There are 2 or more connected rects\n\n\n        if (clientRects.length >= 2) {\n          if (getMainAxisFromPlacement(placement) === 'x') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n\n        return fallback;\n      }\n\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, rectToClientRect, shift, size };\n","import { rectToClientRect, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { arrow, autoPlacement, detectOverflow, flip, hide, inline, limitShift, offset, shift, size } from '@floating-ui/core';\n\nfunction isWindow(value) {\n  return value && value.document && value.location && value.alert && value.setInterval;\n}\nfunction getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (!isWindow(node)) {\n    const ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}\n\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\nfunction getNodeName(node) {\n  return isWindow(node) ? '' : node ? (node.nodeName || '').toLowerCase() : '';\n}\n\nfunction getUAString() {\n  const uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands) {\n    return uaData.brands.map(item => item.brand + \"/\" + item.version).join(' ');\n  }\n\n  return navigator.userAgent;\n}\n\nfunction isHTMLElement(value) {\n  return value instanceof getWindow(value).HTMLElement;\n}\nfunction isElement(value) {\n  return value instanceof getWindow(value).Element;\n}\nfunction isNode(value) {\n  return value instanceof getWindow(value).Node;\n}\nfunction isShadowRoot(node) {\n  // Browsers without `ShadowRoot` support\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  const OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  const {\n    overflow,\n    overflowX,\n    overflowY\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  // TODO: Try and use feature detection here instead\n  const isFirefox = /firefox/i.test(getUAString());\n  const css = getComputedStyle$1(element); // This is non-exhaustive but covers the most common CSS properties that\n  // create a containing block.\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n  return css.transform !== 'none' || css.perspective !== 'none' || // @ts-ignore (TS 4.1 compat)\n  css.contain === 'paint' || ['transform', 'perspective'].includes(css.willChange) || isFirefox && css.willChange === 'filter' || isFirefox && (css.filter ? css.filter !== 'none' : false);\n}\nfunction isLayoutViewport() {\n  // Not Safari\n  return !/^((?!chrome|android).)*safari/i.test(getUAString()); // Feature detection for this fails in various ways\n  // • Always-visible scrollbar or not\n  // • Width of <html>, etc.\n  // const vV = win.visualViewport;\n  // return vV ? Math.abs(win.innerWidth / vV.scale - vV.width) < 0.5 : true;\n}\n\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  var _win$visualViewport$o, _win$visualViewport, _win$visualViewport$o2, _win$visualViewport2;\n\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  const clientRect = element.getBoundingClientRect();\n  let scaleX = 1;\n  let scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  const win = isElement(element) ? getWindow(element) : window;\n  const addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  const x = (clientRect.left + (addVisualOffsets ? (_win$visualViewport$o = (_win$visualViewport = win.visualViewport) == null ? void 0 : _win$visualViewport.offsetLeft) != null ? _win$visualViewport$o : 0 : 0)) / scaleX;\n  const y = (clientRect.top + (addVisualOffsets ? (_win$visualViewport$o2 = (_win$visualViewport2 = win.visualViewport) == null ? void 0 : _win$visualViewport2.offsetTop) != null ? _win$visualViewport$o2 : 0 : 0)) / scaleY;\n  const width = clientRect.width / scaleX;\n  const height = clientRect.height / scaleY;\n  return {\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x,\n    y\n  };\n}\n\nfunction getDocumentElement(node) {\n  return ((isNode(node) ? node.ownerDocument : node.document) || window.document).documentElement;\n}\n\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\nfunction isScaled(element) {\n  const rect = getBoundingClientRect(element);\n  return round(rect.width) !== element.offsetWidth || round(rect.height) !== element.offsetHeight;\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const rect = getBoundingClientRect(element, // @ts-ignore - checked above (TS 4.1 compat)\n  isOffsetParentAnElement && isScaled(offsetParent), strategy === 'fixed');\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // @ts-ignore\n    node.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    node.parentNode || ( // DOM Element detected\n    isShadowRoot(node) ? node.host : null) || // ShadowRoot detected\n    getDocumentElement(node) // fallback\n\n  );\n}\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && !['html', 'body'].includes(getNodeName(currentNode))) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nfunction getOffsetParent(element) {\n  const window = getWindow(element);\n  let offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nfunction getDimensions(element) {\n  if (isHTMLElement(element)) {\n    return {\n      width: element.offsetWidth,\n      height: element.offsetHeight\n    };\n  }\n\n  const rect = getBoundingClientRect(element);\n  return {\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } // This doesn't appear to be need to be negated.\n    // else if (documentElement) {\n    //   offsets.x = getWindowScrollBarX(documentElement);\n    // }\n\n  }\n\n  return { ...rect,\n    x: rect.x - scroll.scrollLeft + offsets.x,\n    y: rect.y - scroll.scrollTop + offsets.y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nfunction getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  const width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  const height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n\n  if (getComputedStyle$1(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n\n  if (['html', 'body', '#document'].includes(getNodeName(parentNode))) {\n    // @ts-ignore assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n\n  return getNearestOverflowAncestor(parentNode);\n}\n\nfunction getOverflowAncestors(node, list) {\n  var _node$ownerDocument;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.body);\n  const win = getWindow(scrollableAncestor);\n  const target = isBody ? [win].concat(win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []) : scrollableAncestor;\n  const updatedList = list.concat(target);\n  return isBody ? updatedList : // @ts-ignore: isBody tells us target will be an HTMLElement here\n  updatedList.concat(getOverflowAncestors(target));\n}\n\nfunction contains(parent, child) {\n  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n\n    do {\n      // use `===` replace node.isSameNode()\n      if (next && parent === next) {\n        return true;\n      } // @ts-ignore: need a better way to handle this...\n\n\n      next = next.parentNode || next.host;\n    } while (next);\n  }\n\n  return false;\n}\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, false, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  return {\n    top,\n    left,\n    x: left,\n    y: top,\n    right: left + element.clientWidth,\n    bottom: top + element.clientHeight,\n    width: element.clientWidth,\n    height: element.clientHeight\n  };\n}\n\nfunction getClientRectFromClippingAncestor(element, clippingParent, strategy) {\n  if (clippingParent === 'viewport') {\n    return rectToClientRect(getViewportRect(element, strategy));\n  }\n\n  if (isElement(clippingParent)) {\n    return getInnerBoundingClientRect(clippingParent, strategy);\n  }\n\n  return rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping ancestor\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingAncestors(element) {\n  const clippingAncestors = getOverflowAncestors(element);\n  const canEscapeClipping = ['absolute', 'fixed'].includes(getComputedStyle$1(element).position);\n  const clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // @ts-ignore isElement check ensures we return Array<Element>\n\n\n  return clippingAncestors.filter(clippingAncestors => isElement(clippingAncestors) && contains(clippingAncestors, clipperElement) && getNodeName(clippingAncestors) !== 'body');\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors\n\n\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const mainClippingAncestors = boundary === 'clippingAncestors' ? getClippingAncestors(element) : [].concat(boundary);\n  const clippingAncestors = [...mainClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nconst platform = {\n  getClippingRect,\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  isElement,\n  getDimensions,\n  getOffsetParent,\n  getDocumentElement,\n  getElementRects: _ref => {\n    let {\n      reference,\n      floating,\n      strategy\n    } = _ref;\n    return {\n      reference: getRectRelativeToOffsetParent(reference, getOffsetParent(floating), strategy),\n      floating: { ...getDimensions(floating),\n        x: 0,\n        y: 0\n      }\n    };\n  },\n  getClientRects: element => Array.from(element.getClientRects()),\n  isRTL: element => getComputedStyle$1(element).direction === 'rtl'\n};\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    ancestorScroll: _ancestorScroll = true,\n    ancestorResize: _ancestorResize = true,\n    elementResize = true,\n    animationFrame = false\n  } = options;\n  const ancestorScroll = _ancestorScroll && !animationFrame;\n  const ancestorResize = _ancestorResize && !animationFrame;\n  const ancestors = ancestorScroll || ancestorResize ? [...(isElement(reference) ? getOverflowAncestors(reference) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  let observer = null;\n\n  if (elementResize) {\n    let initialUpdate = true;\n    observer = new ResizeObserver(() => {\n      if (!initialUpdate) {\n        update();\n      }\n\n      initialUpdate = false;\n    });\n    isElement(reference) && !animationFrame && observer.observe(reference);\n    observer.observe(floating);\n  }\n\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n\n  if (animationFrame) {\n    frameLoop();\n  }\n\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n\n  update();\n  return () => {\n    var _observer;\n\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    (_observer = observer) == null ? void 0 : _observer.disconnect();\n    observer = null;\n\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\n\nconst computePosition = (reference, floating, options) => computePosition$1(reference, floating, {\n  platform,\n  ...options\n});\n\nexport { autoUpdate, computePosition, getOverflowAncestors };\n","/**\n * Dom7 4.0.4\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2022, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: January 11, 2022\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { TextSelection } from 'prosemirror-state';\nimport { markApplies } from 'ngx-editor/helpers';\n\nconst removeLink = () => {\n    return (state, dispatch) => {\n        const { doc, selection, tr } = state;\n        const { $head: { pos }, from, to } = selection;\n        // if the cursor is on the link without any selection\n        if (from === to) {\n            const $pos = doc.resolve(pos);\n            const linkStart = pos - $pos.textOffset;\n            const linkEnd = linkStart + $pos.parent.child($pos.index()).nodeSize;\n            tr.removeMark(linkStart, linkEnd);\n        }\n        else {\n            tr.removeMark(from, to);\n        }\n        if (!tr.docChanged) {\n            return false;\n        }\n        dispatch?.(tr);\n        return true;\n    };\n};\n\n// Ref: https://github.com/ProseMirror/prosemirror-commands/blob/master/src/commands.js\nconst applyMark = (type, attrs = {}) => {\n    return (state, dispatch) => {\n        const { tr, selection } = state;\n        const { empty, ranges, $from, $to } = selection;\n        if (empty && selection instanceof TextSelection) {\n            const { $cursor } = selection;\n            if (!$cursor || !markApplies(state.doc, ranges, type)) {\n                return false;\n            }\n            tr.addStoredMark(type.create(attrs));\n            if (!tr.storedMarksSet) {\n                return false;\n            }\n            dispatch?.(tr);\n        }\n        else {\n            tr.addMark($from.pos, $to.pos, type.create(attrs));\n            if (!tr.docChanged) {\n                return false;\n            }\n            dispatch?.(tr.scrollIntoView());\n        }\n        return true;\n    };\n};\n\nconst removeMark = (type) => {\n    return (state, dispatch) => {\n        const { tr, selection, storedMarks, doc } = state;\n        const { empty, ranges } = selection;\n        if (empty && selection instanceof TextSelection) {\n            const { $cursor } = selection;\n            if (!$cursor || !markApplies(state.doc, ranges, type)) {\n                return false;\n            }\n            if (type.isInSet(storedMarks || $cursor.marks())) {\n                tr.removeStoredMark(type);\n                dispatch?.(tr);\n                return true;\n            }\n        }\n        else {\n            for (const range of ranges) {\n                const { $from, $to } = range;\n                const hasMark = doc.rangeHasMark($from.pos, $to.pos, type);\n                if (hasMark) {\n                    tr.removeMark($from.pos, $to.pos, type);\n                }\n            }\n            if (!tr.docChanged) {\n                return false;\n            }\n            dispatch?.(tr.scrollIntoView());\n        }\n        return false;\n    };\n};\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { applyMark, removeLink, removeMark };\n","import { InputRule } from 'prosemirror-inputrules';\n\nconst isMarkActive = (state, type) => {\n    const { from, $from, to, empty } = state.selection;\n    if (empty) {\n        return Boolean(type.isInSet(state.storedMarks || $from.marks()));\n    }\n    return state.doc.rangeHasMark(from, to, type);\n};\n\nconst findNodeType = (type, $from) => {\n    for (let i = $from.depth; i > 0; i -= 1) {\n        if ($from.node(i).type === type) {\n            return $from.node(i).type;\n        }\n    }\n    return null;\n};\nconst isNodeActive = (state, type, attrs = {}) => {\n    const { selection } = state;\n    const { $from, to } = selection;\n    const node = findNodeType(type, $from);\n    if (!Object.entries(attrs).length || !node) {\n        return Boolean(node);\n    }\n    return to <= $from.end() && $from.parent.hasMarkup(type, attrs);\n};\n\nconst getSelectionMarks = (state) => {\n    let marks = [];\n    const { selection, storedMarks } = state;\n    const { from, to, empty, $from } = selection;\n    if (empty) {\n        marks = storedMarks || $from.marks();\n    }\n    else {\n        state.doc.nodesBetween(from, to, (node) => {\n            marks = [...marks, ...node.marks];\n        });\n    }\n    return marks;\n};\n\nconst getSelectionNodes = (state) => {\n    const nodes = [];\n    const { selection: { from, to } } = state;\n    state.doc.nodesBetween(from, to, (node) => {\n        nodes.push(node);\n    });\n    return nodes;\n};\n\n// Ref: https://github.com/ProseMirror/prosemirror-commands/blob/master/src/commands.js\nconst markApplies = (doc, ranges, type) => {\n    for (const range of ranges) {\n        const { $from, $to } = range;\n        let canApply = $from.depth === 0 ? doc.type.allowsMarkType(type) : false;\n        doc.nodesBetween($from.pos, $to.pos, (node) => {\n            if (canApply) {\n                return false;\n            }\n            canApply = node.inlineContent && node.type.allowsMarkType(type);\n            return true;\n        });\n        if (canApply) {\n            return true;\n        }\n    }\n    return false;\n};\n\nconst markInputRule = (regexp, markType, attrs) => {\n    return new InputRule(regexp, (state, match, start, end) => {\n        const { tr } = state;\n        const from = start;\n        let to = end;\n        if (match[2]) {\n            const textStart = start + match[0].indexOf(match[2]);\n            const textEnd = textStart + match[2].length;\n            if (textEnd < end) {\n                tr.delete(textEnd, end);\n            }\n            if (textStart > start) {\n                tr.delete(start, textStart);\n            }\n            to = start + match[2].length;\n        }\n        return tr.addMark(from, to, markType.create(attrs));\n    });\n};\n\nconst canInsert = (state, nodeType) => {\n    const { $from } = state.selection;\n    for (let d = $from.depth; d >= 0; d -= 1) {\n        const index = $from.index(d);\n        if ($from.node(d).canReplaceWith(index, index, nodeType)) {\n            return true;\n        }\n    }\n    return false;\n};\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { canInsert, getSelectionMarks, getSelectionNodes, isMarkActive, isNodeActive, markApplies, markInputRule };\n","import * as sl from 'prosemirror-schema-list';\nimport { toStyleString } from 'ngx-editor/utils';\nimport { Schema } from 'prosemirror-model';\n\n// :: MarkSpec A link. Has `href` and `title` attributes. `title`\n// defaults to the empty string. Rendered and parsed as an `<a>`\n// element.\nconst link = {\n    attrs: {\n        href: {},\n        title: { default: null },\n        target: { default: '_blank' },\n    },\n    inclusive: false,\n    parseDOM: [\n        {\n            tag: 'a[href]',\n            getAttrs(dom) {\n                return {\n                    href: dom.getAttribute('href'),\n                    title: dom.getAttribute('title'),\n                    target: dom.getAttribute('target'),\n                };\n            },\n        },\n    ],\n    toDOM(node) {\n        const { href, title, target } = node.attrs;\n        return ['a', { href, title, target }, 0];\n    },\n};\n// :: MarkSpec An emphasis mark. Rendered as an `<em>` element.\n// Has parse rules that also match `<i>` and `font-style: italic`.\nconst em = {\n    parseDOM: [\n        { tag: 'i' },\n        { tag: 'em' },\n        { style: 'font-style=italic' },\n    ],\n    toDOM() {\n        return ['em', 0];\n    },\n};\n// :: MarkSpec A strong mark. Rendered as `<strong>`, parse rules\n// also match `<b>` and `font-weight: bold`.\nconst strong = {\n    parseDOM: [\n        { tag: 'strong' },\n        // This works around a Google Docs misbehavior where\n        // pasted content will be inexplicably wrapped in `<b>`\n        // tags with a font-weight normal.\n        {\n            tag: 'b',\n            getAttrs: (dom) => {\n                return dom.style.fontWeight !== 'normal' && null;\n            },\n        },\n        {\n            style: 'font-weight',\n            getAttrs: (value) => {\n                return (/^(?:bold(?:er)?|[5-9]\\d{2,})$/).test(value) && null;\n            },\n        },\n    ],\n    toDOM() {\n        return ['strong', 0];\n    },\n};\n// :: MarkSpec Code font mark. Represented as a `<code>` element.\nconst code = {\n    parseDOM: [\n        { tag: 'code' },\n    ],\n    toDOM() {\n        return ['code', 0];\n    },\n};\n// :: MarkSpec An underline mark. Rendered as an `<u>` element.\n// Has parse rules that also match `text-decoration: underline`.\nconst u = {\n    parseDOM: [\n        { tag: 'u' },\n        {\n            style: 'text-decoration=underline',\n            consuming: false,\n        },\n    ],\n    toDOM() {\n        return ['u', 0];\n    },\n};\n// :: MarkSpec An underline mark. Rendered as an `<s>` element.\n// Has parse rules that also match `strike`, `del` tag and css property `text-decoration: line-through`.\nconst s = {\n    parseDOM: [\n        { tag: 's' },\n        { tag: 'strike' },\n        { style: 'text-decoration=line-through' },\n    ],\n    toDOM() {\n        return ['s', 0];\n    },\n};\nconst textColor = {\n    attrs: {\n        color: {\n            default: null,\n        },\n    },\n    parseDOM: [\n        {\n            style: 'color',\n            getAttrs: (value) => {\n                return { color: value };\n            },\n        },\n    ],\n    toDOM(mark) {\n        const { color } = mark.attrs;\n        return ['span', { style: `color:${color};` }, 0];\n    },\n};\nconst textBackgroundColor = {\n    attrs: {\n        backgroundColor: {\n            default: null,\n        },\n    },\n    parseDOM: [\n        {\n            style: 'background-color',\n            getAttrs: (value) => {\n                return { backgroundColor: value };\n            },\n        },\n    ],\n    toDOM(mark) {\n        const { backgroundColor } = mark.attrs;\n        return ['span', { style: `background-color:${backgroundColor};` }, 0];\n    },\n};\nconst marks = {\n    link,\n    em,\n    strong,\n    code,\n    u,\n    s,\n    text_color: textColor,\n    text_background_color: textBackgroundColor,\n};\n\nconst doc = {\n    content: 'block+',\n};\n// :: NodeSpec The text node.\nconst text = {\n    group: 'inline',\n};\n// :: NodeSpec A plain paragraph textblock. Represented in the DOM\n// as a `<p>` element.\nconst paragraph = {\n    content: 'inline*',\n    group: 'block',\n    attrs: {\n        align: {\n            default: null,\n        },\n    },\n    parseDOM: [\n        {\n            tag: 'p',\n            getAttrs(dom) {\n                const { textAlign } = dom.style;\n                const align = dom.getAttribute('align') || textAlign || null;\n                return {\n                    align,\n                };\n            },\n        },\n    ],\n    toDOM(node) {\n        const { align } = node.attrs;\n        const styles = {\n            textAlign: align !== 'left' ? align : null,\n        };\n        const style = toStyleString(styles) || null;\n        return ['p', { style }, 0];\n    },\n};\n// :: NodeSpec A blockquote (`<blockquote>`) wrapping one or more blocks.\nconst blockquote = {\n    content: 'block+',\n    group: 'block',\n    defining: true,\n    parseDOM: [{ tag: 'blockquote' }],\n    toDOM() {\n        return ['blockquote', 0];\n    },\n};\n// :: NodeSpec A horizontal rule (`<hr>`).\nconst horizontalRule = {\n    group: 'block',\n    parseDOM: [{ tag: 'hr' }],\n    toDOM() {\n        return ['hr'];\n    },\n};\n// :: NodeSpec A heading textblock, with a `level` attribute that\n// should hold the number 1 to 6. Parsed and serialized as `<h1>` to\n// `<h6>` elements.\nconst heading = {\n    attrs: {\n        level: {\n            default: 1,\n        },\n        align: {\n            default: null,\n        },\n    },\n    content: 'inline*',\n    group: 'block',\n    defining: true,\n    parseDOM: [\n        {\n            tag: 'h1',\n            getAttrs(dom) {\n                const { textAlign } = dom.style;\n                const align = dom.getAttribute('align') || textAlign || null;\n                return {\n                    level: 1,\n                    align,\n                };\n            },\n        },\n        {\n            tag: 'h2',\n            getAttrs(dom) {\n                const { textAlign } = dom.style;\n                const align = dom.getAttribute('align') || textAlign || null;\n                return {\n                    level: 2,\n                    align,\n                };\n            },\n        },\n        {\n            tag: 'h3',\n            getAttrs(dom) {\n                const { textAlign } = dom.style;\n                const align = dom.getAttribute('align') || textAlign || null;\n                return {\n                    level: 3,\n                    align,\n                };\n            },\n        },\n        {\n            tag: 'h4',\n            getAttrs(dom) {\n                const { textAlign } = dom.style;\n                const align = dom.getAttribute('align') || textAlign || null;\n                return {\n                    level: 4,\n                    align,\n                };\n            },\n        },\n        {\n            tag: 'h5',\n            getAttrs(dom) {\n                const { textAlign } = dom.style;\n                const align = dom.getAttribute('align') || textAlign || null;\n                return {\n                    level: 5,\n                    align,\n                };\n            },\n        },\n        {\n            tag: 'h6',\n            getAttrs(dom) {\n                const { textAlign } = dom.style;\n                const align = dom.getAttribute('align') || textAlign || null;\n                return {\n                    level: 6,\n                    align,\n                };\n            },\n        },\n    ],\n    toDOM(node) {\n        const { level, align } = node.attrs;\n        const styles = {\n            textAlign: align !== 'left' ? align : null,\n        };\n        const style = toStyleString(styles) || null;\n        return [`h${level}`, { style }, 0];\n    },\n};\n// :: NodeSpec A code listing. Disallows marks or non-text inline\n// nodes by default. Represented as a `<pre>` element with a\n// `<code>` element inside of it.\nconst codeBlock = {\n    content: 'text*',\n    marks: '',\n    group: 'block',\n    code: true,\n    defining: true,\n    parseDOM: [\n        {\n            tag: 'pre',\n            preserveWhitespace: 'full',\n        },\n    ],\n    toDOM() {\n        return ['pre', ['code', 0]];\n    },\n};\n// :: NodeSpec A hard line break, represented in the DOM as `<br>`.\nconst hardBreak = {\n    inline: true,\n    group: 'inline',\n    selectable: false,\n    parseDOM: [{ tag: 'br' }],\n    toDOM() {\n        return ['br'];\n    },\n};\n// :: NodeSpec An inline image (`<img>`) node. Supports `src`,\n// `alt`, and `href` attributes. The latter two default to the empty\n// string.\nconst image = {\n    inline: true,\n    attrs: {\n        src: {},\n        alt: { default: null },\n        title: { default: null },\n        width: { default: null },\n    },\n    group: 'inline',\n    draggable: true,\n    parseDOM: [\n        {\n            tag: 'img[src]',\n            getAttrs(dom) {\n                return {\n                    src: dom.getAttribute('src'),\n                    title: dom.getAttribute('title'),\n                    alt: dom.getAttribute('alt'),\n                    width: dom.getAttribute('width'),\n                };\n            },\n        },\n    ],\n    toDOM(node) {\n        const { src, alt, title, width } = node.attrs;\n        return ['img', { src, alt, title, width }];\n    },\n};\nconst listItem = {\n    ...sl.listItem,\n    content: 'paragraph block*',\n};\nconst orderedList = {\n    ...sl.orderedList,\n    content: 'list_item+',\n    group: 'block',\n};\nconst bulletList = {\n    ...sl.bulletList,\n    content: 'list_item+',\n    group: 'block',\n};\nconst nodes = {\n    doc,\n    text,\n    paragraph,\n    blockquote,\n    horizontal_rule: horizontalRule,\n    heading,\n    hard_break: hardBreak,\n    code_block: codeBlock,\n    image,\n    list_item: listItem,\n    ordered_list: orderedList,\n    bullet_list: bulletList,\n};\n\nconst schema = new Schema({\n    marks,\n    nodes,\n});\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { marks, nodes, schema };\n","const isNil = (val) => {\n    return typeof val === 'undefined' || val === null;\n};\n\nconst camelToDashed = (str) => {\n    return str.replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`);\n};\nconst cleanObject = (obj) => {\n    const cleanObj = {};\n    Object.keys(obj).forEach((prop) => {\n        if (obj[prop]) {\n            cleanObj[prop] = obj[prop];\n        }\n    });\n    return cleanObj;\n};\nconst toStyleString = (obj) => {\n    const styles = cleanObject(obj);\n    return Object.entries(styles).map(([k, v]) => `${camelToDashed(k)}:${v}`).join(';');\n};\n\nclass NgxEditorError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = this.constructor.name;\n    }\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NgxEditorError, isNil, toStyleString };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Component, Input, Output, ViewChild, ComponentFactoryResolver, ApplicationRef, forwardRef, ViewEncapsulation, Injectable, Optional, Pipe, HostListener, HostBinding, NgModule, InjectionToken } from '@angular/core';\nimport * as i4 from '@angular/forms';\nimport { NG_VALUE_ACCESSOR, FormGroup, FormControl, Validators as Validators$1, ReactiveFormsModule } from '@angular/forms';\nimport { Subject, fromEvent, asyncScheduler } from 'rxjs';\nimport { takeUntil, throttleTime } from 'rxjs/operators';\nimport { NgxEditorError, isNil } from 'ngx-editor/utils';\nimport { Plugin, PluginKey, NodeSelection, EditorState } from 'prosemirror-state';\nimport { DecorationSet, Decoration, EditorView } from 'prosemirror-view';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { Fragment, Slice, DOMSerializer, DOMParser } from 'prosemirror-model';\nimport { schema } from 'ngx-editor/schema';\nexport { marks, nodes, schema } from 'ngx-editor/schema';\nimport { toggleMark, lift, wrapIn, setBlockType, newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock, chainCommands, exitCode, baseKeymap } from 'prosemirror-commands';\nimport { applyMark, removeLink, removeMark } from 'ngx-editor/commands';\nimport { isMarkActive, isNodeActive, canInsert, getSelectionNodes, getSelectionMarks, markInputRule } from 'ngx-editor/helpers';\nimport { liftListItem, wrapInList, splitListItem, sinkListItem } from 'prosemirror-schema-list';\nimport * as i1 from '@angular/platform-browser';\nimport { computePosition, offset, autoPlacement, detectOverflow } from '@floating-ui/dom';\nimport { keymap } from 'prosemirror-keymap';\nimport { undo, redo, history } from 'prosemirror-history';\nimport { wrappingInputRule, textblockTypeInputRule, smartQuotes, ellipsis, emDash, inputRules } from 'prosemirror-inputrules';\n\nconst editablePlugin = (editable = true) => {\n    return new Plugin({\n        key: new PluginKey('editable'),\n        state: {\n            init() {\n                return editable;\n            },\n            apply(tr, previousVal) {\n                return tr.getMeta('UPDATE_EDITABLE') ?? previousVal;\n            },\n        },\n        props: {\n            editable(state) {\n                return this.getState(state);\n            },\n            attributes(state) {\n                const isEnabled = this.getState(state);\n                if (isEnabled) {\n                    return null;\n                }\n                return {\n                    class: 'NgxEditor__Content--Disabled',\n                };\n            },\n        },\n    });\n};\n\nconst PLACEHOLDER_CLASSNAME = 'NgxEditor__Placeholder';\nconst placeholderPlugin = (text) => {\n    return new Plugin({\n        key: new PluginKey('placeholder'),\n        state: {\n            init() {\n                return text ?? '';\n            },\n            apply(tr, previousVal) {\n                const placeholder = tr.getMeta('UPDATE_PLACEHOLDER') ?? previousVal;\n                return placeholder;\n            },\n        },\n        props: {\n            decorations(state) {\n                const { doc } = state;\n                const { textContent, childCount } = doc;\n                const placeholder = this.getState(state);\n                if (!placeholder || childCount > 1) {\n                    return DecorationSet.empty;\n                }\n                const decorations = [];\n                const decorate = (node, pos) => {\n                    if (node.type.isBlock && node.childCount === 0 && textContent.length === 0) {\n                        const from = pos;\n                        const to = pos + node.nodeSize;\n                        const placeholderNode = Decoration.node(from, to, {\n                            'class': PLACEHOLDER_CLASSNAME,\n                            'data-placeholder': placeholder,\n                            'data-align': node.attrs['align'] ?? null,\n                        });\n                        decorations.push(placeholderNode);\n                    }\n                    return false;\n                };\n                doc.descendants(decorate);\n                return DecorationSet.create(doc, decorations);\n            },\n        },\n    });\n};\n\nconst attributesPlugin = (attributes = {}) => {\n    return new Plugin({\n        key: new PluginKey('attributes'),\n        props: {\n            attributes,\n        },\n    });\n};\n\nconst focusPlugin = (cb) => {\n    return new Plugin({\n        key: new PluginKey('focus'),\n        props: {\n            handleDOMEvents: {\n                focus: () => {\n                    cb();\n                    return false;\n                },\n            },\n        },\n    });\n};\n\nconst blurPlugin = (cb) => {\n    return new Plugin({\n        key: new PluginKey('blur'),\n        props: {\n            handleDOMEvents: {\n                blur: () => {\n                    cb();\n                    return false;\n                },\n            },\n        },\n    });\n};\n\nclass ImageViewComponent {\n    constructor() {\n        this.alt = '';\n        this.title = '';\n        this.outerWidth = '';\n        this.selected = false;\n        this.imageResize = new EventEmitter();\n    }\n    startResizing(e, direction) {\n        e.preventDefault();\n        this.resizeImage(e, direction);\n    }\n    resizeImage(evt, direction) {\n        const startX = evt.pageX;\n        const startWidth = this.imgEl.nativeElement.clientWidth;\n        const isLeftResize = direction === 'left';\n        const { width } = window.getComputedStyle(this.view.dom);\n        const editorWidth = parseInt(width, 10);\n        const onMouseMove = (e) => {\n            const currentX = e.pageX;\n            const diffInPx = currentX - startX;\n            const computedWidth = isLeftResize ? startWidth - diffInPx : startWidth + diffInPx;\n            // prevent image overflow the editor\n            // prevent resizng below 20px\n            if (computedWidth > editorWidth || computedWidth < 20) {\n                return;\n            }\n            this.outerWidth = `${computedWidth}px`;\n        };\n        const onMouseUp = (e) => {\n            e.preventDefault();\n            document.removeEventListener('mousemove', onMouseMove);\n            document.removeEventListener('mouseup', onMouseUp);\n            this.imageResize.emit();\n        };\n        document.addEventListener('mousemove', onMouseMove);\n        document.addEventListener('mouseup', onMouseUp);\n    }\n}\nImageViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: ImageViewComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nImageViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: ImageViewComponent, selector: \"ngx-image-view\", inputs: { src: \"src\", alt: \"alt\", title: \"title\", outerWidth: \"outerWidth\", selected: \"selected\", view: \"view\" }, outputs: { imageResize: \"imageResize\" }, viewQueries: [{ propertyName: \"imgEl\", first: true, predicate: [\"imgEl\"], descendants: true, static: true }], ngImport: i0, template: \"<span class=\\\"NgxEditor__ImageWrapper\\\" [ngClass]=\\\"{'NgxEditor__Resizer--Active': selected}\\\" [style.width]=\\\"outerWidth\\\">\\n  <span class=\\\"NgxEditor__ResizeHandle\\\" *ngIf=\\\"selected\\\">\\n    <span class=\\\"NgxEditor__ResizeHandle--TL\\\"  (mousedown)=\\\"startResizing($event, 'left')\\\"></span>\\n    <span class=\\\"NgxEditor__ResizeHandle--TR\\\" (mousedown)=\\\"startResizing($event, 'right')\\\"></span>\\n    <span class=\\\"NgxEditor__ResizeHandle--BL\\\" (mousedown)=\\\"startResizing($event, 'left')\\\"></span>\\n    <span class=\\\"NgxEditor__ResizeHandle--BR\\\" (mousedown)=\\\"startResizing($event, 'right')\\\"></span>\\n  </span>\\n  <img [src]=\\\"src\\\" [alt]=\\\"alt\\\" [title]=\\\"title\\\" #imgEl />\\n</span>\\n\", styles: [\"*,*:before,*:after{box-sizing:border-box}img{width:100%;height:100%}.NgxEditor__ImageWrapper{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL{bottom:-5px;left:-5px;cursor:sw-resize}\\n\"], dependencies: [{ kind: \"directive\", type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: ImageViewComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-image-view', template: \"<span class=\\\"NgxEditor__ImageWrapper\\\" [ngClass]=\\\"{'NgxEditor__Resizer--Active': selected}\\\" [style.width]=\\\"outerWidth\\\">\\n  <span class=\\\"NgxEditor__ResizeHandle\\\" *ngIf=\\\"selected\\\">\\n    <span class=\\\"NgxEditor__ResizeHandle--TL\\\"  (mousedown)=\\\"startResizing($event, 'left')\\\"></span>\\n    <span class=\\\"NgxEditor__ResizeHandle--TR\\\" (mousedown)=\\\"startResizing($event, 'right')\\\"></span>\\n    <span class=\\\"NgxEditor__ResizeHandle--BL\\\" (mousedown)=\\\"startResizing($event, 'left')\\\"></span>\\n    <span class=\\\"NgxEditor__ResizeHandle--BR\\\" (mousedown)=\\\"startResizing($event, 'right')\\\"></span>\\n  </span>\\n  <img [src]=\\\"src\\\" [alt]=\\\"alt\\\" [title]=\\\"title\\\" #imgEl />\\n</span>\\n\", styles: [\"*,*:before,*:after{box-sizing:border-box}img{width:100%;height:100%}.NgxEditor__ImageWrapper{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL{bottom:-5px;left:-5px;cursor:sw-resize}\\n\"] }]\n        }], propDecorators: { src: [{\n                type: Input\n            }], alt: [{\n                type: Input\n            }], title: [{\n                type: Input\n            }], outerWidth: [{\n                type: Input\n            }], selected: [{\n                type: Input\n            }], view: [{\n                type: Input\n            }], imageResize: [{\n                type: Output\n            }], imgEl: [{\n                type: ViewChild,\n                args: ['imgEl', { static: true }]\n            }] } });\n\nclass ImageRezieView {\n    constructor(node, view, getPos, injector) {\n        this.updating = false;\n        this.handleResize = () => {\n            if (this.updating) {\n                return;\n            }\n            const { state, dispatch } = this.view;\n            const { tr } = state;\n            const transaction = tr.setNodeMarkup(this.getPos(), undefined, {\n                ...this.node.attrs,\n                width: this.imageComponentRef.instance.outerWidth,\n            });\n            const resolvedPos = transaction.doc.resolve(this.getPos());\n            const newSelection = new NodeSelection(resolvedPos);\n            transaction.setSelection(newSelection);\n            dispatch(transaction);\n        };\n        const componentFactoryResolver = injector.get(ComponentFactoryResolver);\n        this.applicationRef = injector.get(ApplicationRef);\n        // Create the component and wire it up with the element\n        const factory = componentFactoryResolver.resolveComponentFactory(ImageViewComponent);\n        this.imageComponentRef = factory.create(injector, []);\n        // Attach to the view so that the change detector knows to run\n        this.applicationRef.attachView(this.imageComponentRef.hostView);\n        // Possible alternate for deprecated ComponentFactoryResolver\n        // const viewContainerRef = injector.get(ViewContainerRef);\n        // this.imageComponentRef = viewContainerRef.createComponent(ImageViewComponent, { injector });\n        this.setNodeAttributes(node.attrs);\n        this.imageComponentRef.instance.view = view;\n        this.dom = this.imageComponentRef.location.nativeElement;\n        this.view = view;\n        this.node = node;\n        this.getPos = getPos;\n        this.resizeSubscription = this.imageComponentRef.instance.imageResize.subscribe(() => {\n            this.handleResize();\n        });\n    }\n    computeChanges(prevAttrs, newAttrs) {\n        return JSON.stringify(prevAttrs) === JSON.stringify(newAttrs);\n    }\n    setNodeAttributes(attrs) {\n        this.imageComponentRef.instance.src = attrs['src'];\n        this.imageComponentRef.instance.alt = attrs['alt'];\n        this.imageComponentRef.instance.title = attrs['title'];\n        this.imageComponentRef.instance.outerWidth = attrs['width'];\n    }\n    update(node) {\n        if (node.type !== this.node.type) {\n            return false;\n        }\n        this.node = node;\n        const changed = this.computeChanges(this.node.attrs, node.attrs);\n        if (changed) {\n            this.updating = true;\n            this.setNodeAttributes(node.attrs);\n            this.updating = false;\n        }\n        return true;\n    }\n    ignoreMutation() {\n        return true;\n    }\n    selectNode() {\n        this.imageComponentRef.instance.selected = true;\n    }\n    deselectNode() {\n        this.imageComponentRef.instance.selected = false;\n    }\n    destroy() {\n        this.resizeSubscription.unsubscribe();\n        this.applicationRef.detachView(this.imageComponentRef.hostView);\n    }\n}\nconst imageResizePlugin = (injector) => {\n    return new Plugin({\n        key: new PluginKey('image-resize'),\n        props: {\n            nodeViews: {\n                image: (node, view, getPos) => {\n                    return new ImageRezieView(node, view, getPos, injector);\n                },\n            },\n        },\n    });\n};\n\nconst HTTP_LINK_REGEX = /(?:https?:\\/\\/)?[\\w-]+(?:\\.[\\w-]+)+\\.?(?:\\d+)?(?:\\/\\S*)?$/;\nconst linkify = (fragment) => {\n    const linkified = [];\n    fragment.forEach((child) => {\n        if (child.isText) {\n            const text = child.text;\n            let pos = 0;\n            const match = HTTP_LINK_REGEX.exec(text);\n            if (match) {\n                const start = match.index;\n                const end = start + match[0].length;\n                const { link } = child.type.schema.marks;\n                if (start > 0) {\n                    linkified.push(child.cut(pos, start));\n                }\n                const urlText = text.slice(start, end);\n                linkified.push(child.cut(start, end).mark(link.create({ href: urlText }).addToSet(child.marks)));\n                pos = end;\n            }\n            if (pos < text.length) {\n                linkified.push(child.cut(pos));\n            }\n        }\n        else {\n            linkified.push(child.copy(linkify(child.content)));\n        }\n    });\n    return Fragment.fromArray(linkified);\n};\nconst linkifyPlugin = () => {\n    return new Plugin({\n        key: new PluginKey('linkify'),\n        props: {\n            transformPasted: (slice) => {\n                return new Slice(linkify(slice.content), slice.openStart, slice.openEnd);\n            },\n        },\n    });\n};\n\nconst emptyDoc = {\n    type: 'doc',\n    content: [\n        {\n            type: 'paragraph',\n        },\n    ],\n};\n// https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment\nconst toHTML = (json, inputSchema) => {\n    const schema$1 = inputSchema ?? schema;\n    const contentNode = schema$1.nodeFromJSON(json);\n    const html = DOMSerializer.fromSchema(schema$1).serializeFragment(contentNode.content);\n    const div = document.createElement('div');\n    div.appendChild(html);\n    return div.innerHTML;\n};\nconst toDoc = (html, inputSchema) => {\n    const schema$1 = inputSchema ?? schema;\n    const el = document.createElement('div');\n    el.innerHTML = html;\n    return DOMParser.fromSchema(schema$1).parse(el).toJSON();\n};\nconst parseContent = (value, schema) => {\n    if (!value) {\n        return schema.nodeFromJSON(emptyDoc);\n    }\n    if (typeof value !== 'string') {\n        return schema.nodeFromJSON(value);\n    }\n    const docJson = toDoc(value, schema);\n    return schema.nodeFromJSON(docJson);\n};\n\nclass NgxEditorComponent {\n    constructor(renderer, injector, elementRef) {\n        this.renderer = renderer;\n        this.injector = injector;\n        this.elementRef = elementRef;\n        this.placeholder = 'Type Here...';\n        this.focusOut = new EventEmitter();\n        this.focusIn = new EventEmitter();\n        this.unsubscribe = new Subject();\n        this.onChange = () => { };\n        this.onTouched = () => { };\n    }\n    writeValue(value) {\n        if (!this.outputFormat && typeof value === 'string') {\n            this.outputFormat = 'html';\n        }\n        this.editor.setContent(value ?? '');\n    }\n    registerOnChange(fn) {\n        this.onChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n        this.setMeta('UPDATE_EDITABLE', !isDisabled);\n        this.renderer.setProperty(this.elementRef.nativeElement, 'disabled', isDisabled);\n    }\n    handleChange(jsonDoc) {\n        if (this.outputFormat === 'html') {\n            const html = toHTML(jsonDoc, this.editor.schema);\n            this.onChange(html);\n            return;\n        }\n        this.onChange(jsonDoc);\n    }\n    setMeta(key, value) {\n        const { dispatch, state: { tr } } = this.editor.view;\n        dispatch(tr.setMeta(key, value));\n    }\n    setPlaceholder(placeholder) {\n        this.setMeta('UPDATE_PLACEHOLDER', placeholder);\n    }\n    registerPlugins() {\n        this.editor.registerPlugin(editablePlugin());\n        this.editor.registerPlugin(placeholderPlugin(this.placeholder));\n        this.editor.registerPlugin(attributesPlugin({\n            class: 'NgxEditor__Content',\n        }));\n        this.editor.registerPlugin(focusPlugin(() => {\n            this.focusIn.emit();\n        }));\n        this.editor.registerPlugin(blurPlugin(() => {\n            this.focusOut.emit();\n            this.onTouched();\n        }));\n        if (this.editor.features.resizeImage) {\n            this.editor.registerPlugin(imageResizePlugin(this.injector));\n        }\n        if (this.editor.features.linkOnPaste) {\n            this.editor.registerPlugin(linkifyPlugin());\n        }\n    }\n    ngOnInit() {\n        if (!this.editor) {\n            throw new NgxEditorError('Required editor instance for initializing editor component');\n        }\n        this.registerPlugins();\n        this.renderer.appendChild(this.ngxEditor.nativeElement, this.editor.view.dom);\n        this.editor.valueChanges\n            .pipe(takeUntil(this.unsubscribe))\n            .subscribe((jsonDoc) => {\n            this.handleChange(jsonDoc);\n        });\n    }\n    ngOnChanges(changes) {\n        if (changes['placeholder'] && !changes['placeholder'].isFirstChange()) {\n            this.setPlaceholder(changes['placeholder'].currentValue);\n        }\n    }\n    ngOnDestroy() {\n        this.unsubscribe.next();\n        this.unsubscribe.complete();\n    }\n}\nNgxEditorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorComponent, deps: [{ token: i0.Renderer2 }, { token: i0.Injector }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nNgxEditorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: NgxEditorComponent, selector: \"ngx-editor\", inputs: { editor: \"editor\", outputFormat: \"outputFormat\", placeholder: \"placeholder\" }, outputs: { focusOut: \"focusOut\", focusIn: \"focusIn\" }, providers: [{\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => NgxEditorComponent),\n            multi: true,\n        }], viewQueries: [{ propertyName: \"ngxEditor\", first: true, predicate: [\"ngxEditor\"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"NgxEditor\\\" #ngxEditor>\\n  <ng-content></ng-content>\\n</div>\\n\", styles: [\".NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:\\\"liga\\\" 0,none}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:\\\"\\\";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\\n\"], encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-editor', providers: [{\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: forwardRef(() => NgxEditorComponent),\n                            multi: true,\n                        }], encapsulation: ViewEncapsulation.None, template: \"<div class=\\\"NgxEditor\\\" #ngxEditor>\\n  <ng-content></ng-content>\\n</div>\\n\", styles: [\".NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:\\\"liga\\\" 0,none}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:\\\"\\\";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.Injector }, { type: i0.ElementRef }]; }, propDecorators: { ngxEditor: [{\n                type: ViewChild,\n                args: ['ngxEditor', { static: true }]\n            }], editor: [{\n                type: Input\n            }], outputFormat: [{\n                type: Input\n            }], placeholder: [{\n                type: Input\n            }], focusOut: [{\n                type: Output\n            }], focusIn: [{\n                type: Output\n            }] } });\n\nclass MenuService {\n    constructor() {\n        this.customMenuRefChange = new Subject();\n    }\n    setCustomMenuRef(c) {\n        this.customMenuRefChange.next(c);\n    }\n}\nMenuService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: MenuService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nMenuService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: MenuService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: MenuService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nvar bold = `\n  <path d=\"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\" />\n`;\n\nvar italic = `\n  <path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\" />\n`;\n\nvar code = `\n<path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/>\n`;\n\nvar underline = `\n<path d=\"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\"/>\n`;\n\nvar strike = `\n<path d=\"M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z\"/>\n`;\n\nvar orderedList = `\n<path d=\"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"/>\n`;\n\nvar bulletList = `\n<path d=\"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"/>\n`;\n\nvar quote = `\n<path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z\"/>\n`;\n\nvar link = `\n<path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"/>\n`;\n\nvar unlink = `\n<path d=\"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z\"/>\n`;\n\nvar image = `\n<path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/>\n`;\n\nvar alignLeft = `\n<path d=\"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z\"/>\n`;\n\nvar alignCenter = `\n<path d=\"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z\"/>\n`;\n\nvar alignRight = `\n<path d=\"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z\"/>\n`;\n\nvar alignJustify = `\n<path d=\"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z\"/>\n`;\n\nvar textColor = `\n<path d=\"M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z\"/>\n`;\n\nvar colorFill = `\n<path d=\"M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z\"/>\n`;\n\nvar horizontalRule = `\n  <g>\n    <rect fill=\"none\" fill-rule=\"evenodd\" height=\"24\" width=\"24\"/>\n    <rect fill-rule=\"evenodd\" height=\"2\" width=\"16\" x=\"4\" y=\"11\"/>\n  </g>\n`;\n\nvar formatClear = `\n<path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z\"/>\n`;\n\n// Icons source: https://material.io/\nconst DEFAULT_ICON_HEIGHT = 20;\nconst DEFAULT_ICON_WIDTH = 20;\nconst DEFAULT_ICON_FILL = 'currentColor';\nconst icons = {\n    bold,\n    italic,\n    code,\n    underline,\n    strike,\n    ordered_list: orderedList,\n    bullet_list: bulletList,\n    blockquote: quote,\n    link,\n    unlink,\n    image,\n    align_left: alignLeft,\n    align_center: alignCenter,\n    align_right: alignRight,\n    align_justify: alignJustify,\n    text_color: textColor,\n    color_fill: colorFill,\n    horizontal_rule: horizontalRule,\n    format_clear: formatClear,\n};\nclass Icon {\n    static get(name, fill = DEFAULT_ICON_FILL) {\n        const path = icons[name] || '<path></path>';\n        return `\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        fill=${fill}\n        height=${DEFAULT_ICON_HEIGHT}\n        width=${DEFAULT_ICON_WIDTH}\n      >\n        ${path}\n      </svg>\n    `;\n    }\n}\n\nclass Mark {\n    constructor(name) {\n        this.name = name;\n    }\n    apply() {\n        return (state, dispatch) => {\n            const { schema } = state;\n            const type = schema.marks[this.name];\n            if (!type) {\n                return false;\n            }\n            return applyMark(type)(state, dispatch);\n        };\n    }\n    toggle() {\n        return (state, dispatch) => {\n            const { schema } = state;\n            const type = schema.marks[this.name];\n            if (!type) {\n                return false;\n            }\n            return toggleMark(type)(state, dispatch);\n        };\n    }\n    isActive(state) {\n        const { schema } = state;\n        const type = schema.marks[this.name];\n        if (!type) {\n            return false;\n        }\n        return isMarkActive(state, type);\n    }\n    canExecute(state) {\n        return this.toggle()(state);\n    }\n}\n\nclass Blockqote {\n    toggle() {\n        return (state, dispatch) => {\n            const { schema } = state;\n            const type = schema.nodes['blockquote'];\n            if (!type) {\n                return false;\n            }\n            if (this.isActive(state)) {\n                return lift(state, dispatch);\n            }\n            return wrapIn(type)(state, dispatch);\n        };\n    }\n    isActive(state) {\n        const { schema } = state;\n        const type = schema.nodes['blockquote'];\n        if (!type) {\n            return false;\n        }\n        return isNodeActive(state, type);\n    }\n    canExecute(state) {\n        return this.toggle()(state);\n    }\n}\n\nclass HorizontalRule {\n    insert() {\n        return (state, dispatch) => {\n            const { schema, tr } = state;\n            const type = schema.nodes['horizontal_rule'];\n            if (!type) {\n                return false;\n            }\n            dispatch(tr.replaceSelectionWith(type.create()).scrollIntoView());\n            return true;\n        };\n    }\n    canExecute(state) {\n        return canInsert(state, state.schema.nodes['horizontal_rule']);\n    }\n}\n\nclass ListItem {\n    constructor(isBulletList = false) {\n        this.isBulletList = false;\n        this.isBulletList = isBulletList;\n    }\n    getType(schema) {\n        return this.isBulletList ? schema.nodes['bullet_list'] : schema.nodes['ordered_list'];\n    }\n    toggle() {\n        return (state, dispatch) => {\n            const { schema } = state;\n            const type = this.getType(schema);\n            if (!type) {\n                return false;\n            }\n            if (this.isActive(state)) {\n                return liftListItem(schema.nodes['list_item'])(state, dispatch);\n            }\n            return wrapInList(type)(state, dispatch);\n        };\n    }\n    isActive(state) {\n        const { schema } = state;\n        const type = this.getType(schema);\n        if (!type) {\n            return false;\n        }\n        return isNodeActive(state, type);\n    }\n    canExecute(state) {\n        return this.toggle()(state);\n    }\n}\n\nclass Heading {\n    constructor(level) {\n        this.level = level;\n    }\n    apply() {\n        return (state, dispatch) => {\n            const { schema } = state;\n            const type = schema.nodes['heading'];\n            if (!type) {\n                return false;\n            }\n            return setBlockType(type)(state, dispatch);\n        };\n    }\n    toggle() {\n        return (state, dispatch) => {\n            const { schema, selection, doc } = state;\n            const type = schema.nodes['heading'];\n            if (!type) {\n                return false;\n            }\n            const nodePos = selection.$from.before(1);\n            const node = doc.nodeAt(nodePos);\n            const attrs = node?.attrs ?? {};\n            if (this.isActive(state)) {\n                return setBlockType(schema.nodes['paragraph'], attrs)(state, dispatch);\n            }\n            return setBlockType(type, { ...attrs, level: this.level })(state, dispatch);\n        };\n    }\n    isActive(state) {\n        const { schema } = state;\n        const nodesInSelection = getSelectionNodes(state);\n        const type = schema.nodes['heading'];\n        if (!type) {\n            return false;\n        }\n        const supportedNodes = [\n            type,\n            schema.nodes['text'],\n            schema.nodes['blockquote'],\n        ];\n        // heading is a text node\n        // don't mark as active when it has more nodes\n        const nodes = nodesInSelection.filter((node) => {\n            return supportedNodes.includes(node.type);\n        });\n        const acitveNode = nodes.find((node) => {\n            return node.attrs['level'] === this.level;\n        });\n        return Boolean(acitveNode);\n    }\n    canExecute(state) {\n        return this.toggle()(state);\n    }\n}\n\nclass TextAlign {\n    constructor(align) {\n        this.align = align;\n    }\n    toggle() {\n        return (state, dispatch) => {\n            const { doc, selection, tr, schema } = state;\n            const { from, to } = selection;\n            let applicable = false;\n            doc.nodesBetween(from, to, (node, pos) => {\n                const nodeType = node.type;\n                if ([schema.nodes['paragraph'], schema.nodes['heading']].includes(nodeType)) {\n                    applicable = true;\n                    tr.setNodeMarkup(pos, nodeType, { ...node.attrs, align: this.align });\n                }\n                return true;\n            });\n            if (!applicable) {\n                return false;\n            }\n            if (tr.docChanged) {\n                dispatch?.(tr);\n            }\n            return true;\n        };\n    }\n    isActive(state) {\n        const nodes = getSelectionNodes(state);\n        const active = nodes.find((node) => {\n            return node.attrs['align'] === this.align;\n        });\n        return Boolean(active);\n    }\n    canExecute(state) {\n        return this.toggle()(state);\n    }\n}\n\nconst defaultOptions = {\n    strict: true,\n};\nclass Link$1 {\n    update(attrs) {\n        return (state, dispatch) => {\n            const { schema, selection } = state;\n            const type = schema.marks['link'];\n            if (!type) {\n                return false;\n            }\n            if (selection.empty) {\n                return false;\n            }\n            return toggleMark(type, attrs)(state, dispatch);\n        };\n    }\n    insert(text, attrs) {\n        return (state, dispatch) => {\n            const { schema, tr } = state;\n            const type = schema.marks['link'];\n            if (!type) {\n                return false;\n            }\n            const linkAttrs = {\n                href: attrs.href,\n                title: attrs.title ?? text,\n                target: attrs.target ?? '_blank',\n            };\n            const node = schema.text(text, [schema.marks['link'].create(linkAttrs)]);\n            tr.replaceSelectionWith(node, false)\n                .scrollIntoView();\n            if (tr.docChanged) {\n                dispatch?.(tr);\n                return true;\n            }\n            return false;\n        };\n    }\n    isActive(state, options = defaultOptions) {\n        if (options.strict) {\n            return true;\n        }\n        const { schema } = state;\n        const type = schema.marks['link'];\n        if (!type) {\n            return false;\n        }\n        return isMarkActive(state, type);\n    }\n    remove(state, dispatch) {\n        return removeLink()(state, dispatch);\n    }\n    canExecute(state) {\n        const testAttrs = {\n            href: '',\n        };\n        return this.insert('Exec', testAttrs)(state) || this.update(testAttrs)(state);\n    }\n}\n\nclass Image$1 {\n    insert(src, attrs) {\n        return (state, dispatch) => {\n            const { schema, tr, selection } = state;\n            const type = schema.nodes['image'];\n            if (!type) {\n                return false;\n            }\n            const imageAttrs = {\n                width: null,\n                src,\n                ...attrs,\n            };\n            if (!imageAttrs.width && selection instanceof NodeSelection && selection.node.type === type) {\n                imageAttrs.width = selection.node.attrs['width'];\n            }\n            tr.replaceSelectionWith(type.createAndFill(imageAttrs));\n            const resolvedPos = tr.doc.resolve(tr.selection.anchor - tr.selection.$anchor.nodeBefore.nodeSize);\n            tr\n                .setSelection(new NodeSelection(resolvedPos))\n                .scrollIntoView();\n            if (tr.docChanged) {\n                dispatch?.(tr);\n                return true;\n            }\n            return false;\n        };\n    }\n    isActive(state) {\n        const { selection } = state;\n        if (selection instanceof NodeSelection) {\n            return selection.node.type.name === 'image';\n        }\n        return false;\n    }\n}\n\nclass TextColor$1 {\n    constructor(name, attrName = 'color') {\n        this.name = name;\n        this.attrName = attrName;\n    }\n    apply(attrs) {\n        return (state, dispatch) => {\n            const { schema, selection, doc } = state;\n            const type = schema.marks[this.name];\n            if (!type) {\n                return false;\n            }\n            const { from, to, empty } = selection;\n            if (!empty && (from + 1 === to)) {\n                const node = doc.nodeAt(from);\n                if (node?.isAtom && !node.isText && node.isLeaf) {\n                    // An atomic node (e.g. Image) is selected.\n                    return false;\n                }\n            }\n            return applyMark(type, attrs)(state, dispatch);\n        };\n    }\n    isActive(state) {\n        const { schema } = state;\n        const type = schema.marks[this.name];\n        if (!type) {\n            return false;\n        }\n        return isMarkActive(state, type);\n    }\n    getActiveColors(state) {\n        if (!this.isActive(state)) {\n            return [];\n        }\n        const { schema } = state;\n        const marks = getSelectionMarks(state);\n        const colors = marks\n            .filter((mark) => mark.type === schema.marks[this.name])\n            .map((mark) => {\n            return mark.attrs[this.attrName];\n        })\n            .filter(Boolean);\n        return colors;\n    }\n    remove() {\n        return (state, dispatch) => {\n            const { schema } = state;\n            const type = schema.marks[this.name];\n            if (!type) {\n                return false;\n            }\n            return removeMark(type)(state, dispatch);\n        };\n    }\n    canExecute(state) {\n        const attrs = this.name === 'text_color' ? { color: '' } : { backgroundColor: '' };\n        return this.apply(attrs)(state);\n    }\n}\n\nconst SAFE_MARKS = ['link'];\nclass FormatClear {\n    insert() {\n        return (state, dispatch) => {\n            const { tr } = state;\n            const { ranges, empty } = tr.selection;\n            if (empty) {\n                return true;\n            }\n            Object.entries(state.schema.marks).forEach(([markType, mark]) => {\n                if (SAFE_MARKS.includes(markType)) {\n                    return;\n                }\n                ranges.forEach((range) => {\n                    tr.removeMark(range.$from.pos, range.$to.pos, mark);\n                });\n            });\n            dispatch(tr);\n            return true;\n        };\n    }\n    canExecute() {\n        return true;\n    }\n}\n\nconst STRONG = new Mark('strong');\nconst EM = new Mark('em');\nconst CODE = new Mark('code');\nconst UNDERLINE = new Mark('u');\nconst STRIKE = new Mark('s');\nconst BLOCKQUOTE = new Blockqote();\nconst HORIZONTAL_RULE = new HorizontalRule();\nconst FORMAT_CLEAR = new FormatClear();\nconst UL = new ListItem(true);\nconst OL = new ListItem(false);\nconst H1 = new Heading(1);\nconst H2 = new Heading(2);\nconst H3 = new Heading(3);\nconst H4 = new Heading(4);\nconst H5 = new Heading(5);\nconst H6 = new Heading(6);\nconst ALIGN_LEFT = new TextAlign('left');\nconst ALIGN_CENTER = new TextAlign('center');\nconst ALIGN_RIGHT = new TextAlign('right');\nconst ALIGN_JUSTIFY = new TextAlign('justify');\nconst LINK = new Link$1();\nconst IMAGE = new Image$1();\nconst TEXT_COLOR = new TextColor$1('text_color', 'color');\nconst TEXT_BACKGROUND_COLOR = new TextColor$1('text_background_color', 'backgroundColor');\n\nconst ToggleCommands = {\n    bold: STRONG,\n    italic: EM,\n    code: CODE,\n    underline: UNDERLINE,\n    strike: STRIKE,\n    blockquote: BLOCKQUOTE,\n    bullet_list: UL,\n    ordered_list: OL,\n    h1: H1,\n    h2: H2,\n    h3: H3,\n    h4: H4,\n    h5: H5,\n    h6: H6,\n    align_left: ALIGN_LEFT,\n    align_center: ALIGN_CENTER,\n    align_right: ALIGN_RIGHT,\n    align_justify: ALIGN_JUSTIFY,\n};\nconst InsertCommands = {\n    horizontal_rule: HORIZONTAL_RULE,\n    format_clear: FORMAT_CLEAR,\n};\nconst Link = LINK;\nconst Image = IMAGE;\nconst TextColor = TEXT_COLOR;\nconst TextBackgroundColor = TEXT_BACKGROUND_COLOR;\n\nconst defaults = {\n    // menu\n    bold: 'Bold',\n    italic: 'Italic',\n    code: 'Code',\n    underline: 'Underline',\n    strike: 'Strike',\n    blockquote: 'Blockquote',\n    bullet_list: 'Bullet List',\n    ordered_list: 'Ordered List',\n    heading: 'Heading',\n    h1: 'Header 1',\n    h2: 'Header 2',\n    h3: 'Header 3',\n    h4: 'Header 4',\n    h5: 'Header 5',\n    h6: 'Header 6',\n    align_left: 'Left Align',\n    align_center: 'Center Align',\n    align_right: 'Right Align',\n    align_justify: 'Justify',\n    text_color: 'Text Color',\n    background_color: 'Background Color',\n    horizontal_rule: 'Horizontal rule',\n    format_clear: 'Clear Formatting',\n    insertLink: 'Insert Link',\n    removeLink: 'Remove Link',\n    insertImage: 'Insert Image',\n    // pupups, forms, others...\n    url: 'URL',\n    text: 'Text',\n    openInNewTab: 'Open in new tab',\n    insert: 'Insert',\n    altText: 'Alt Text',\n    title: 'Title',\n    remove: 'Remove',\n};\nclass Locals {\n    constructor(newLocals = {}) {\n        this.locals = defaults;\n        this.get = (key) => {\n            return this.locals[key] ?? '';\n        };\n        this.locals = { ...defaults, ...newLocals };\n    }\n}\n\nclass NgxEditorServiceConfig {\n    constructor() {\n        this.locals = {};\n    }\n}\nNgxEditorServiceConfig.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorServiceConfig, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nNgxEditorServiceConfig.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorServiceConfig, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorServiceConfig, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass NgxEditorService {\n    constructor(config) {\n        this.config = config;\n    }\n    get locals() {\n        return new Locals(this.config.locals);\n    }\n}\nNgxEditorService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorService, deps: [{ token: NgxEditorServiceConfig, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nNgxEditorService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: NgxEditorServiceConfig, decorators: [{\n                    type: Optional\n                }] }]; } });\nconst provideMyServiceOptions = (config) => {\n    return {\n        locals: config.locals ?? {},\n    };\n};\n\nclass SanitizeHtmlPipe {\n    constructor(sanitizer) {\n        this.sanitizer = sanitizer;\n    }\n    transform(value) {\n        return this.sanitizer.bypassSecurityTrustHtml(value);\n    }\n}\nSanitizeHtmlPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: SanitizeHtmlPipe, deps: [{ token: i1.DomSanitizer }], target: i0.ɵɵFactoryTarget.Pipe });\nSanitizeHtmlPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"14.1.0\", ngImport: i0, type: SanitizeHtmlPipe, name: \"sanitizeHtml\" });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: SanitizeHtmlPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'sanitizeHtml',\n                }]\n        }], ctorParameters: function () { return [{ type: i1.DomSanitizer }]; } });\n\nclass ToggleCommandComponent {\n    constructor(ngxeService, menuService) {\n        this.ngxeService = ngxeService;\n        this.menuService = menuService;\n        this.isActive = false;\n        this.disabled = false;\n        this.update = (view) => {\n            const { state } = view;\n            const command = ToggleCommands[this.name];\n            this.isActive = command.isActive(state);\n            this.disabled = !command.canExecute(state);\n        };\n    }\n    get name() {\n        return this.toolbarItem;\n    }\n    toggle(e) {\n        e.preventDefault();\n        if (e.button !== 0) {\n            return;\n        }\n        const { state, dispatch } = this.editorView;\n        const command = ToggleCommands[this.name];\n        command.toggle()(state, dispatch);\n    }\n    getTitle(name) {\n        return this.ngxeService.locals.get(name);\n    }\n    ngOnInit() {\n        this.html = Icon.get(this.name);\n        this.editorView = this.menuService.editor.view;\n        this.updateSubscription = this.menuService.editor.update.subscribe((view) => {\n            this.update(view);\n        });\n    }\n    ngOnDestroy() {\n        this.updateSubscription.unsubscribe();\n    }\n}\nToggleCommandComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: ToggleCommandComponent, deps: [{ token: NgxEditorService }, { token: MenuService }], target: i0.ɵɵFactoryTarget.Component });\nToggleCommandComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: ToggleCommandComponent, selector: \"ngx-toggle-command\", inputs: { toolbarItem: \"toolbarItem\" }, ngImport: i0, template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor__MenuItem--Active]=\\\"isActive\\\"\\n  [class.NgxEditor--Disabled]=\\\"disabled\\\" [innerHTML]=\\\"html | sanitizeHtml\\\" (mousedown)=\\\"toggle($event)\\\"\\n  [title]=\\\"getTitle(name)\\\">\\n</div>\\n\", styles: [\"\"], dependencies: [{ kind: \"pipe\", type: SanitizeHtmlPipe, name: \"sanitizeHtml\" }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: ToggleCommandComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-toggle-command', template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor__MenuItem--Active]=\\\"isActive\\\"\\n  [class.NgxEditor--Disabled]=\\\"disabled\\\" [innerHTML]=\\\"html | sanitizeHtml\\\" (mousedown)=\\\"toggle($event)\\\"\\n  [title]=\\\"getTitle(name)\\\">\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: NgxEditorService }, { type: MenuService }]; }, propDecorators: { toolbarItem: [{\n                type: Input\n            }] } });\n\nclass InsertCommandComponent {\n    constructor(ngxeService, menuService) {\n        this.ngxeService = ngxeService;\n        this.menuService = menuService;\n        this.disabled = false;\n        this.update = (view) => {\n            const { state } = view;\n            const command = InsertCommands[this.name];\n            this.disabled = !command.canExecute(state);\n        };\n    }\n    get name() {\n        return this.toolbarItem;\n    }\n    insert(e) {\n        e.preventDefault();\n        if (e.button !== 0) {\n            return;\n        }\n        const { state, dispatch } = this.editorView;\n        const command = InsertCommands[this.name];\n        command.insert()(state, dispatch);\n    }\n    getTitle(name) {\n        return this.ngxeService.locals.get(name);\n    }\n    ngOnInit() {\n        this.html = Icon.get(this.name);\n        this.editorView = this.menuService.editor.view;\n        this.updateSubscription = this.menuService.editor.update.subscribe((view) => {\n            this.update(view);\n        });\n    }\n    ngOnDestroy() {\n        this.updateSubscription.unsubscribe();\n    }\n}\nInsertCommandComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: InsertCommandComponent, deps: [{ token: NgxEditorService }, { token: MenuService }], target: i0.ɵɵFactoryTarget.Component });\nInsertCommandComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: InsertCommandComponent, selector: \"ngx-insert-command\", inputs: { toolbarItem: \"toolbarItem\" }, ngImport: i0, template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor--Disabled]=\\\"disabled\\\" [innerHTML]=\\\"html | sanitizeHtml\\\"\\n  (mousedown)=\\\"insert($event)\\\" [title]=\\\"getTitle(name)\\\">\\n</div>\\n\", styles: [\"\"], dependencies: [{ kind: \"pipe\", type: SanitizeHtmlPipe, name: \"sanitizeHtml\" }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: InsertCommandComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-insert-command', template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor--Disabled]=\\\"disabled\\\" [innerHTML]=\\\"html | sanitizeHtml\\\"\\n  (mousedown)=\\\"insert($event)\\\" [title]=\\\"getTitle(name)\\\">\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: NgxEditorService }, { type: MenuService }]; }, propDecorators: { toolbarItem: [{\n                type: Input\n            }] } });\n\nclass LinkComponent {\n    constructor(el, ngxeService, menuService) {\n        this.el = el;\n        this.ngxeService = ngxeService;\n        this.menuService = menuService;\n        this.showPopup = false;\n        this.isActive = false;\n        this.canExecute = true;\n        this.form = new FormGroup({\n            href: new FormControl('', [\n                Validators$1.required,\n                Validators$1.pattern('(https?://)?([\\\\da-z.-]+)\\\\.([a-z.]{2,6})[/\\\\w .-]*/??([^#\\n\\r]*)?#?([^\\n\\r]*)|(mailto:.*[@].*)'),\n            ]),\n            text: new FormControl('', [Validators$1.required]),\n            openInNewTab: new FormControl(true),\n        });\n        this.setText = () => {\n            const { state: { selection, doc } } = this.editorView;\n            const { empty, from, to } = selection;\n            const selectedText = !empty ? doc.textBetween(from, to) : '';\n            if (selectedText) {\n                this.text.patchValue(selectedText);\n                this.text.disable();\n            }\n        };\n        this.update = (view) => {\n            const { state } = view;\n            this.isActive = Link.isActive(state, { strict: false });\n            this.canExecute = Link.canExecute(state);\n        };\n    }\n    get icon() {\n        return Icon.get(this.isActive ? 'unlink' : 'link');\n    }\n    get title() {\n        return this.ngxeService.locals.get(this.isActive ? 'removeLink' : 'insertLink');\n    }\n    get href() {\n        return this.form.get('href');\n    }\n    get text() {\n        return this.form.get('text');\n    }\n    onDocumentClick(e) {\n        if (!this.el.nativeElement.contains(e.target) && this.showPopup) {\n            this.hideForm();\n        }\n    }\n    getLabel(key) {\n        return this.ngxeService.locals.get(key);\n    }\n    hideForm() {\n        this.showPopup = false;\n        this.form.reset({\n            href: '',\n            text: '',\n            openInNewTab: true,\n        });\n        this.text.enable();\n    }\n    onMouseDown(e) {\n        if (e.button !== 0) {\n            return;\n        }\n        const { state, dispatch } = this.editorView;\n        if (this.isActive) {\n            Link.remove(state, dispatch);\n            return;\n        }\n        this.showPopup = !this.showPopup;\n        if (this.showPopup) {\n            this.setText();\n        }\n    }\n    insertLink(e) {\n        e.preventDefault();\n        const { text, href, openInNewTab } = this.form.getRawValue();\n        const { dispatch, state } = this.editorView;\n        const { selection } = state;\n        const attrs = {\n            title: href,\n            href,\n            target: openInNewTab ? '_blank' : '_self',\n        };\n        if (selection.empty) {\n            Link.insert(text, attrs)(state, dispatch);\n            this.editorView.focus();\n        }\n        else {\n            Link.update(attrs)(state, dispatch);\n        }\n        this.hideForm();\n    }\n    ngOnInit() {\n        this.editorView = this.menuService.editor.view;\n        this.updateSubscription = this.menuService.editor.update.subscribe((view) => {\n            this.update(view);\n        });\n    }\n    ngOnDestroy() {\n        this.updateSubscription.unsubscribe();\n    }\n}\nLinkComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: LinkComponent, deps: [{ token: i0.ElementRef }, { token: NgxEditorService }, { token: MenuService }], target: i0.ɵɵFactoryTarget.Component });\nLinkComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: LinkComponent, selector: \"ngx-link\", host: { listeners: { \"document:mousedown\": \"onDocumentClick($event)\" } }, ngImport: i0, template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor__MenuItem--Active]=\\\"isActive || showPopup\\\"\\n  [class.NgxEditor--Disabled]=\\\"!canExecute\\\" [innerHTML]=\\\"icon | sanitizeHtml\\\" (mousedown)=\\\"onMouseDown($event)\\\"\\n  [title]=\\\"title\\\">\\n</div>\\n\\n<!-- popup -->\\n<div *ngIf=\\\"showPopup\\\" class=\\\"NgxEditor__Popup\\\">\\n  <form class=\\\"NgxEditor__Popup--Form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"insertLink($event)\\\">\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('url')}}</label>\\n        <input type=\\\"href\\\" id=\\\"href\\\" formControlName=\\\"href\\\" autofocus autocomplete=\\\"off\\\" />\\n        <div *ngIf=\\\"href.touched && href.invalid\\\" class=\\\"NgxEditor__HelpText NgxEditor__HelpText--Error\\\">\\n          {{ href.errors?.['pattern'] && 'Please enter valid url.' }}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('text')}}</label>\\n        <input type=\\\"text\\\" formControlName=\\\"text\\\" autocomplete=\\\"off\\\" />\\n        <div *ngIf=\\\"text.touched && text.invalid\\\" class=\\\"NgxEditor__HelpText NgxEditor__HelpText--Error\\\">\\n          {{ text.errors?.['required'] && 'This is required' }}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label>\\n          <input type=\\\"checkbox\\\" formControlName=\\\"openInNewTab\\\" />\\n          {{getLabel('openInNewTab')}}\\n        </label>\\n      </div>\\n    </div>\\n\\n    <button type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\">{{getLabel('insert')}}</button>\\n\\n  </form>\\n</div>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i4.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { kind: \"directive\", type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i4.CheckboxControlValueAccessor, selector: \"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]\" }, { kind: \"directive\", type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"pipe\", type: SanitizeHtmlPipe, name: \"sanitizeHtml\" }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: LinkComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-link', template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor__MenuItem--Active]=\\\"isActive || showPopup\\\"\\n  [class.NgxEditor--Disabled]=\\\"!canExecute\\\" [innerHTML]=\\\"icon | sanitizeHtml\\\" (mousedown)=\\\"onMouseDown($event)\\\"\\n  [title]=\\\"title\\\">\\n</div>\\n\\n<!-- popup -->\\n<div *ngIf=\\\"showPopup\\\" class=\\\"NgxEditor__Popup\\\">\\n  <form class=\\\"NgxEditor__Popup--Form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"insertLink($event)\\\">\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('url')}}</label>\\n        <input type=\\\"href\\\" id=\\\"href\\\" formControlName=\\\"href\\\" autofocus autocomplete=\\\"off\\\" />\\n        <div *ngIf=\\\"href.touched && href.invalid\\\" class=\\\"NgxEditor__HelpText NgxEditor__HelpText--Error\\\">\\n          {{ href.errors?.['pattern'] && 'Please enter valid url.' }}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('text')}}</label>\\n        <input type=\\\"text\\\" formControlName=\\\"text\\\" autocomplete=\\\"off\\\" />\\n        <div *ngIf=\\\"text.touched && text.invalid\\\" class=\\\"NgxEditor__HelpText NgxEditor__HelpText--Error\\\">\\n          {{ text.errors?.['required'] && 'This is required' }}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label>\\n          <input type=\\\"checkbox\\\" formControlName=\\\"openInNewTab\\\" />\\n          {{getLabel('openInNewTab')}}\\n        </label>\\n      </div>\\n    </div>\\n\\n    <button type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\">{{getLabel('insert')}}</button>\\n\\n  </form>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: NgxEditorService }, { type: MenuService }]; }, propDecorators: { onDocumentClick: [{\n                type: HostListener,\n                args: ['document:mousedown', ['$event']]\n            }] } });\n\nclass DropdownComponent {\n    constructor(ngxeService, menuService, el) {\n        this.ngxeService = ngxeService;\n        this.menuService = menuService;\n        this.el = el;\n        this.isDropdownOpen = false;\n        this.disabledItems = [];\n        this.update = (view) => {\n            const { state } = view;\n            this.disabledItems = [];\n            const activeItems = [];\n            this.items.forEach((item) => {\n                const command = ToggleCommands[item];\n                const isActive = command.isActive(state);\n                if (isActive) {\n                    activeItems.push(item);\n                }\n                if (!command.canExecute(state)) {\n                    this.disabledItems.push(item);\n                }\n            });\n            if (activeItems.length === 1) {\n                [this.activeItem] = activeItems;\n            }\n            else {\n                this.activeItem = null;\n            }\n        };\n    }\n    get isSelected() {\n        return Boolean(this.activeItem || this.isDropdownOpen);\n    }\n    get isDropdownDisabled() {\n        return this.disabledItems.length === this.items.length;\n    }\n    onDocumentClick(target) {\n        if (!this.el.nativeElement.contains(target) && this.isDropdownOpen) {\n            this.isDropdownOpen = false;\n        }\n    }\n    getName(key) {\n        return this.ngxeService.locals.get(key);\n    }\n    toggleDropdown(e) {\n        e.preventDefault();\n        this.isDropdownOpen = !this.isDropdownOpen;\n    }\n    trackByIndex(index) {\n        return index;\n    }\n    onClick(e, item) {\n        e.preventDefault();\n        // consider only left click\n        if (e.button !== 0) {\n            return;\n        }\n        const command = ToggleCommands[item];\n        const { state, dispatch } = this.editorView;\n        command.toggle()(state, dispatch);\n        this.isDropdownOpen = false;\n    }\n    ngOnInit() {\n        this.editorView = this.menuService.editor.view;\n        this.updateSubscription = this.menuService.editor.update.subscribe((view) => {\n            this.update(view);\n        });\n    }\n    ngOnDestroy() {\n        this.updateSubscription.unsubscribe();\n    }\n}\nDropdownComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: DropdownComponent, deps: [{ token: NgxEditorService }, { token: MenuService }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nDropdownComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: DropdownComponent, selector: \"ngx-dropdown\", inputs: { group: \"group\", items: \"items\" }, host: { listeners: { \"document:mousedown\": \"onDocumentClick($event.target)\" } }, ngImport: i0, template: \"<div class=\\\"NgxEditor__Dropdown--Text\\\" [class.NgxEditor__Dropdown--Selected]=\\\"isSelected\\\"\\n  [class.NgxEditor--Disabled]=\\\"isDropdownDisabled\\\" (mousedown)=\\\"toggleDropdown($event)\\\">\\n  {{getName(activeItem || group)}}\\n</div>\\n\\n<div class=\\\"NgxEditor__Dropdown--DropdownMenu\\\" *ngIf=\\\"isDropdownOpen\\\">\\n  <div class=\\\"NgxEditor__Dropdown--Item\\\" *ngFor=\\\"let item of items; trackBy: trackByIndex\\\"\\n    (mousedown)=\\\"onClick($event, item)\\\"\\n    [ngClass]=\\\"{'NgxEditor__Dropdown--Active': item === activeItem, 'NgxEditor--Disabled':disabledItems.includes(item)}\\\">\\n    {{getName(item)}}\\n  </div>\\n</div>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: DropdownComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-dropdown', template: \"<div class=\\\"NgxEditor__Dropdown--Text\\\" [class.NgxEditor__Dropdown--Selected]=\\\"isSelected\\\"\\n  [class.NgxEditor--Disabled]=\\\"isDropdownDisabled\\\" (mousedown)=\\\"toggleDropdown($event)\\\">\\n  {{getName(activeItem || group)}}\\n</div>\\n\\n<div class=\\\"NgxEditor__Dropdown--DropdownMenu\\\" *ngIf=\\\"isDropdownOpen\\\">\\n  <div class=\\\"NgxEditor__Dropdown--Item\\\" *ngFor=\\\"let item of items; trackBy: trackByIndex\\\"\\n    (mousedown)=\\\"onClick($event, item)\\\"\\n    [ngClass]=\\\"{'NgxEditor__Dropdown--Active': item === activeItem, 'NgxEditor--Disabled':disabledItems.includes(item)}\\\">\\n    {{getName(item)}}\\n  </div>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: NgxEditorService }, { type: MenuService }, { type: i0.ElementRef }]; }, propDecorators: { group: [{\n                type: Input\n            }], items: [{\n                type: Input\n            }], onDocumentClick: [{\n                type: HostListener,\n                args: ['document:mousedown', ['$event.target']]\n            }] } });\n\nclass ImageComponent {\n    constructor(el, ngxeService, menuService) {\n        this.el = el;\n        this.ngxeService = ngxeService;\n        this.menuService = menuService;\n        this.showPopup = false;\n        this.isActive = false;\n        this.form = new FormGroup({\n            src: new FormControl('', [\n                Validators$1.required,\n                Validators$1.pattern('(https?://)?([\\\\da-z.-]+)\\\\.([a-z.]{2,6})[/\\\\w .-]*/??([^#\\n\\r]*)?#?([^\\n\\r]*)'),\n            ]),\n            alt: new FormControl(''),\n            title: new FormControl(''),\n        });\n        this.update = (view) => {\n            const { state } = view;\n            this.isActive = Image.isActive(state);\n        };\n    }\n    get icon() {\n        return Icon.get('image');\n    }\n    get src() {\n        return this.form.get('src');\n    }\n    onDocumentClick(e) {\n        if (!this.el.nativeElement.contains(e.target) && this.showPopup) {\n            this.hideForm();\n        }\n    }\n    getLabel(key) {\n        return this.ngxeService.locals.get(key);\n    }\n    hideForm() {\n        this.showPopup = false;\n        this.form.reset({\n            src: '',\n            alt: '',\n            title: '',\n        });\n    }\n    onMouseDown(e) {\n        if (e.button !== 0) {\n            return;\n        }\n        this.showPopup = !this.showPopup;\n        if (this.showPopup) {\n            this.fillForm();\n        }\n    }\n    fillForm() {\n        const { state } = this.editorView;\n        const { selection } = state;\n        if (selection instanceof NodeSelection && this.isActive) {\n            const { src, alt = '', title = '' } = selection.node.attrs;\n            this.form.setValue({\n                src,\n                alt,\n                title,\n            });\n        }\n    }\n    insertLink(e) {\n        e.preventDefault();\n        const { src, alt, title } = this.form.getRawValue();\n        const { dispatch, state } = this.editorView;\n        const attrs = {\n            alt,\n            title,\n        };\n        Image.insert(src, attrs)(state, dispatch);\n        this.editorView.focus();\n        this.hideForm();\n    }\n    ngOnInit() {\n        this.editorView = this.menuService.editor.view;\n        this.updateSubscription = this.menuService.editor.update.subscribe((view) => {\n            this.update(view);\n        });\n    }\n    ngOnDestroy() {\n        this.updateSubscription.unsubscribe();\n    }\n}\nImageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: ImageComponent, deps: [{ token: i0.ElementRef }, { token: NgxEditorService }, { token: MenuService }], target: i0.ɵɵFactoryTarget.Component });\nImageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: ImageComponent, selector: \"ngx-image\", host: { listeners: { \"document:mousedown\": \"onDocumentClick($event)\" } }, ngImport: i0, template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor__MenuItem--Active]=\\\"isActive || showPopup\\\"\\n  [innerHTML]=\\\"icon | sanitizeHtml\\\" (mousedown)=\\\"onMouseDown($event)\\\" [title]=\\\"getLabel('insertImage')\\\">\\n</div>\\n\\n<!-- popup -->\\n<div *ngIf=\\\"showPopup\\\" class=\\\"NgxEditor__Popup\\\">\\n  <form class=\\\"NgxEditor__Popup--Form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"insertLink($event)\\\">\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('url')}}</label>\\n        <input type=\\\"href\\\" id=\\\"href\\\" formControlName=\\\"src\\\" autofocus autocomplete=\\\"off\\\" />\\n        <div *ngIf=\\\"src.touched && src.invalid\\\" class=\\\"NgxEditor__HelpText NgxEditor__HelpText--Error\\\">\\n          {{ src.errors?.['pattern'] && 'Please enter valid url.' }}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('altText')}}</label>\\n        <input type=\\\"text\\\" formControlName=\\\"alt\\\" autocomplete=\\\"off\\\" />\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('title')}}</label>\\n        <input type=\\\"text\\\" formControlName=\\\"title\\\" autocomplete=\\\"off\\\" />\\n      </div>\\n    </div>\\n\\n    <button type=\\\"submit\\\" [disabled]=\\\"!form.valid || !form.dirty\\\">{{getLabel('insert')}}</button>\\n\\n  </form>\\n</div>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i4.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { kind: \"directive\", type: i4.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i4.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i4.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i4.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i4.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"pipe\", type: SanitizeHtmlPipe, name: \"sanitizeHtml\" }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: ImageComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-image', template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor__MenuItem--Active]=\\\"isActive || showPopup\\\"\\n  [innerHTML]=\\\"icon | sanitizeHtml\\\" (mousedown)=\\\"onMouseDown($event)\\\" [title]=\\\"getLabel('insertImage')\\\">\\n</div>\\n\\n<!-- popup -->\\n<div *ngIf=\\\"showPopup\\\" class=\\\"NgxEditor__Popup\\\">\\n  <form class=\\\"NgxEditor__Popup--Form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"insertLink($event)\\\">\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('url')}}</label>\\n        <input type=\\\"href\\\" id=\\\"href\\\" formControlName=\\\"src\\\" autofocus autocomplete=\\\"off\\\" />\\n        <div *ngIf=\\\"src.touched && src.invalid\\\" class=\\\"NgxEditor__HelpText NgxEditor__HelpText--Error\\\">\\n          {{ src.errors?.['pattern'] && 'Please enter valid url.' }}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('altText')}}</label>\\n        <input type=\\\"text\\\" formControlName=\\\"alt\\\" autocomplete=\\\"off\\\" />\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\">{{getLabel('title')}}</label>\\n        <input type=\\\"text\\\" formControlName=\\\"title\\\" autocomplete=\\\"off\\\" />\\n      </div>\\n    </div>\\n\\n    <button type=\\\"submit\\\" [disabled]=\\\"!form.valid || !form.dirty\\\">{{getLabel('insert')}}</button>\\n\\n  </form>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: NgxEditorService }, { type: MenuService }]; }, propDecorators: { onDocumentClick: [{\n                type: HostListener,\n                args: ['document:mousedown', ['$event']]\n            }] } });\n\nclass ColorPickerComponent {\n    constructor(el, menuService, ngxeService) {\n        this.el = el;\n        this.menuService = menuService;\n        this.ngxeService = ngxeService;\n        this.showPopup = false;\n        this.isActive = false;\n        this.activeColors = [];\n        this.canExecute = true;\n        this.update = (view) => {\n            const { state } = view;\n            this.canExecute = this.command.canExecute(state);\n            this.isActive = this.command.isActive(state);\n            this.activeColors = [];\n            if (this.isActive) {\n                this.activeColors = this.command.getActiveColors(state);\n            }\n        };\n    }\n    get title() {\n        return this.getLabel(this.type === 'text_color' ? 'text_color' : 'background_color');\n    }\n    get icon() {\n        return Icon.get(this.type === 'text_color' ? 'text_color' : 'color_fill');\n    }\n    get command() {\n        return this.type === 'text_color' ? TextColor : TextBackgroundColor;\n    }\n    getContrastYIQ(hexcolor) {\n        const color = hexcolor.replace('#', '');\n        const r = parseInt(color.substring(0, 2), 16);\n        const g = parseInt(color.substring(2, 4), 16);\n        const b = parseInt(color.substring(4, 6), 16);\n        const yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n        return yiq >= 128 ? 'black' : 'white';\n    }\n    onDocumentClick(e) {\n        if (!this.el.nativeElement.contains(e.target) && this.showPopup) {\n            this.hidePopup();\n        }\n    }\n    hidePopup() {\n        this.showPopup = false;\n    }\n    togglePopup(e) {\n        e.preventDefault();\n        if (e.button !== 0) {\n            return;\n        }\n        this.showPopup = !this.showPopup;\n    }\n    remove(e) {\n        e.preventDefault();\n        const { state, dispatch } = this.editorView;\n        this.command.remove()(state, dispatch);\n        this.hidePopup();\n    }\n    trackByIndex(index) {\n        return index;\n    }\n    onColorSelect(e, color) {\n        e.preventDefault();\n        if (e.button !== 0) {\n            return;\n        }\n        const { state, dispatch } = this.editorView;\n        if (this.type === 'text_color') {\n            const attrs = { color };\n            this.command.apply(attrs)(state, dispatch);\n        }\n        else {\n            const attrs = { backgroundColor: color };\n            this.command.apply(attrs)(state, dispatch);\n        }\n        if (!this.editorView.hasFocus()) {\n            this.editorView.focus();\n        }\n        this.hidePopup();\n    }\n    getLabel(key) {\n        return this.ngxeService.locals.get(key);\n    }\n    ngOnInit() {\n        this.editorView = this.menuService.editor.view;\n        this.updateSubscription = this.menuService.editor.update.subscribe((view) => {\n            this.update(view);\n        });\n    }\n    ngOnDestroy() {\n        this.updateSubscription.unsubscribe();\n    }\n}\nColorPickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: ColorPickerComponent, deps: [{ token: i0.ElementRef }, { token: MenuService }, { token: NgxEditorService }], target: i0.ɵɵFactoryTarget.Component });\nColorPickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: ColorPickerComponent, selector: \"ngx-color-picker\", inputs: { presets: \"presets\", type: \"type\" }, host: { listeners: { \"document:mousedown\": \"onDocumentClick($event)\" } }, ngImport: i0, template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor__MenuItem--Active]=\\\"isActive || showPopup\\\"\\n  [class.NgxEditor--Disabled]=\\\"!canExecute\\\" [innerHTML]=\\\"icon | sanitizeHtml\\\" (mousedown)=\\\"togglePopup($event)\\\"\\n  [title]=\\\"title\\\">\\n</div>\\n\\n<div *ngIf=\\\"showPopup\\\" class=\\\"NgxEditor__Popup\\\">\\n  <div *ngFor=\\\"let colorGroup of presets; trackBy: trackByIndex\\\" class=\\\"NgxEditor__ColorContainer\\\">\\n    <button class=\\\"NgxEditor__Color\\\" *ngFor=\\\"let color of colorGroup; trackBy: trackByIndex\\\"\\n      [ngStyle]=\\\"{backgroundColor: color, color:getContrastYIQ(color)}\\\" [title]=\\\"color\\\"\\n      (mousedown)=\\\"onColorSelect($event, color)\\\"\\n      [ngClass]=\\\"{'NgxEditor__Color--Active': activeColors.includes(color)}\\\"></button>\\n  </div>\\n\\n  <button class=\\\"NgxEditor__MenuItem--Button\\\" (mousedown)=\\\"remove($event)\\\" [disabled]=\\\"!isActive\\\">\\n    {{getLabel('remove')}}\\n  </button>\\n</div>\\n\", styles: [\"@charset \\\"UTF-8\\\";.NgxEditor__Popup{width:230px}.NgxEditor__ColorContainer{display:flex;justify-content:space-between}.NgxEditor__ColorContainer+.NgxEditor__ColorContainer{margin-top:5px}.NgxEditor__Color{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active:after{content:\\\"\\\\2714\\\";font-size:90%}.NgxEditor__MenuItem--Button{margin-top:5px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { kind: \"pipe\", type: SanitizeHtmlPipe, name: \"sanitizeHtml\" }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: ColorPickerComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-color-picker', template: \"<div class=\\\"NgxEditor__MenuItem--IconContainer\\\" [class.NgxEditor__MenuItem--Active]=\\\"isActive || showPopup\\\"\\n  [class.NgxEditor--Disabled]=\\\"!canExecute\\\" [innerHTML]=\\\"icon | sanitizeHtml\\\" (mousedown)=\\\"togglePopup($event)\\\"\\n  [title]=\\\"title\\\">\\n</div>\\n\\n<div *ngIf=\\\"showPopup\\\" class=\\\"NgxEditor__Popup\\\">\\n  <div *ngFor=\\\"let colorGroup of presets; trackBy: trackByIndex\\\" class=\\\"NgxEditor__ColorContainer\\\">\\n    <button class=\\\"NgxEditor__Color\\\" *ngFor=\\\"let color of colorGroup; trackBy: trackByIndex\\\"\\n      [ngStyle]=\\\"{backgroundColor: color, color:getContrastYIQ(color)}\\\" [title]=\\\"color\\\"\\n      (mousedown)=\\\"onColorSelect($event, color)\\\"\\n      [ngClass]=\\\"{'NgxEditor__Color--Active': activeColors.includes(color)}\\\"></button>\\n  </div>\\n\\n  <button class=\\\"NgxEditor__MenuItem--Button\\\" (mousedown)=\\\"remove($event)\\\" [disabled]=\\\"!isActive\\\">\\n    {{getLabel('remove')}}\\n  </button>\\n</div>\\n\", styles: [\"@charset \\\"UTF-8\\\";.NgxEditor__Popup{width:230px}.NgxEditor__ColorContainer{display:flex;justify-content:space-between}.NgxEditor__ColorContainer+.NgxEditor__ColorContainer{margin-top:5px}.NgxEditor__Color{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active:after{content:\\\"\\\\2714\\\";font-size:90%}.NgxEditor__MenuItem--Button{margin-top:5px}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: MenuService }, { type: NgxEditorService }]; }, propDecorators: { presets: [{\n                type: Input\n            }], type: [{\n                type: Input\n            }], onDocumentClick: [{\n                type: HostListener,\n                args: ['document:mousedown', ['$event']]\n            }] } });\n\nconst DEFAULT_TOOLBAR = [\n    ['bold', 'italic'],\n    ['code', 'blockquote'],\n    ['underline', 'strike'],\n    ['ordered_list', 'bullet_list'],\n    [{ heading: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] }],\n    ['link', 'image'],\n    ['text_color', 'background_color'],\n    ['align_left', 'align_center', 'align_right', 'align_justify'],\n    ['format_clear'],\n];\nconst TOOLBAR_MINIMAL = [\n    ['bold', 'italic'],\n    [{ heading: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] }],\n    ['link', 'image'],\n    ['text_color', 'background_color'],\n];\nconst TOOLBAR_FULL = [\n    ['bold', 'italic'],\n    ['code', 'blockquote'],\n    ['underline', 'strike'],\n    ['ordered_list', 'bullet_list'],\n    [{ heading: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] }],\n    ['link', 'image'],\n    ['text_color', 'background_color'],\n    ['align_left', 'align_center', 'align_right', 'align_justify'],\n    ['horizontal_rule'],\n];\nconst DEFAULT_COLOR_PRESETS = [\n    '#b60205',\n    '#d93f0b',\n    '#fbca04',\n    '#0e8a16',\n    '#006b75',\n    '#1d76db',\n    '#0052cc',\n    '#5319e7',\n    '#e99695',\n    '#f9d0c4',\n    '#fef2c0',\n    '#c2e0c6',\n    '#bfdadc',\n    '#c5def5',\n    '#bfd4f2',\n    '#d4c5f9',\n];\nclass MenuComponent {\n    constructor(menuService) {\n        this.menuService = menuService;\n        this.toolbar = TOOLBAR_MINIMAL;\n        this.colorPresets = DEFAULT_COLOR_PRESETS;\n        this.disabled = false;\n        this.customMenuRef = null;\n        this.dropdownPlacement = 'bottom';\n        this.toggleCommands = [\n            'bold',\n            'italic',\n            'underline',\n            'strike',\n            'code',\n            'blockquote',\n            'ordered_list',\n            'bullet_list',\n            'align_left',\n            'align_center',\n            'align_right',\n            'align_justify',\n        ];\n        this.insertCommands = [\n            'horizontal_rule',\n            'format_clear',\n        ];\n        this.iconContainerClass = ['NgxEditor__MenuItem', 'NgxEditor__MenuItem--Icon'];\n        this.dropdownContainerClass = ['NgxEditor__Dropdown'];\n        this.seperatorClass = ['NgxEditor__Seperator'];\n    }\n    get presets() {\n        const col = 8;\n        const colors = [];\n        this.colorPresets.forEach((color, index) => {\n            const row = Math.floor(index / col);\n            if (!colors[row]) {\n                colors.push([]);\n            }\n            colors[row].push(color);\n        });\n        return colors;\n    }\n    trackByIndex(index) {\n        return index;\n    }\n    isDropDown(item) {\n        if (item?.heading) {\n            return true;\n        }\n        return false;\n    }\n    getDropdownItems(item) {\n        return item;\n    }\n    ngOnInit() {\n        if (!this.editor) {\n            throw new NgxEditorError('Required editor instance to initialize menu component');\n        }\n        this.menuService.editor = this.editor;\n    }\n}\nMenuComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: MenuComponent, deps: [{ token: MenuService }], target: i0.ɵɵFactoryTarget.Component });\nMenuComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: MenuComponent, selector: \"ngx-editor-menu\", inputs: { toolbar: \"toolbar\", colorPresets: \"colorPresets\", disabled: \"disabled\", editor: \"editor\", customMenuRef: \"customMenuRef\", dropdownPlacement: \"dropdownPlacement\" }, providers: [MenuService], ngImport: i0, template: \"<div class=\\\"NgxEditor__MenuBar\\\"\\n  [ngClass]=\\\"{'NgxEditor--Disabled': disabled, 'NgxEditor__MenuBar--Reverse': dropdownPlacement === 'top'}\\\">\\n\\n  <ng-container *ngFor=\\\"let toolbarItem of toolbar; let lastToolbarItem = last; trackBy: trackByIndex\\\">\\n    <ng-container *ngFor=\\\"let item of toolbarItem; let lastItem = last; trackBy: trackByIndex\\\">\\n\\n      <!-- toggle icons -->\\n      <ngx-toggle-command [toolbarItem]=\\\"item\\\" [class]=\\\"iconContainerClass\\\" *ngIf=\\\"toggleCommands.includes(item)\\\">\\n      </ngx-toggle-command>\\n\\n      <ngx-insert-command [toolbarItem]=\\\"item\\\" [class]=\\\"iconContainerClass\\\" *ngIf=\\\"insertCommands.includes(item)\\\">\\n      </ngx-insert-command>\\n\\n      <!-- link -->\\n      <ngx-link [class]=\\\"iconContainerClass\\\" *ngIf=\\\"item === 'link'\\\"></ngx-link>\\n\\n      <!-- image -->\\n      <ngx-image [class]=\\\"iconContainerClass\\\" *ngIf=\\\"item === 'image'\\\">\\n      </ngx-image>\\n\\n      <!-- dropdown -->\\n      <ng-container *ngIf=\\\"isDropDown(item)\\\">\\n        <ngx-dropdown *ngFor=\\\"let dropdownItem of getDropdownItems(item) | keyvalue; trackBy: trackByIndex\\\"\\n          [class]=\\\"dropdownContainerClass\\\" [group]=\\\"dropdownItem.key\\\" [items]=\\\"dropdownItem.value\\\">\\n        </ngx-dropdown>\\n      </ng-container>\\n\\n      <!-- text color picker -->\\n      <ngx-color-picker [class]=\\\"iconContainerClass\\\" *ngIf=\\\"item === 'text_color'\\\" type=\\\"text_color\\\"\\n        [presets]=\\\"presets\\\">\\n      </ngx-color-picker>\\n      <!-- background color picker -->\\n      <ngx-color-picker [class]=\\\"iconContainerClass\\\" *ngIf=\\\"item === 'background_color'\\\" type=\\\"background_color\\\"\\n        [presets]=\\\"presets\\\">\\n      </ngx-color-picker>\\n\\n      <!-- seperator -->\\n      <div [class]=\\\"seperatorClass\\\" *ngIf=\\\"lastItem && !lastToolbarItem\\\"></div>\\n    </ng-container>\\n  </ng-container>\\n\\n  <!-- custom menu -->\\n  <ng-container *ngIf=\\\"customMenuRef\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"customMenuRef\\\"></ng-container>\\n  </ng-container>\\n\\n</div>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"component\", type: ToggleCommandComponent, selector: \"ngx-toggle-command\", inputs: [\"toolbarItem\"] }, { kind: \"component\", type: InsertCommandComponent, selector: \"ngx-insert-command\", inputs: [\"toolbarItem\"] }, { kind: \"component\", type: LinkComponent, selector: \"ngx-link\" }, { kind: \"component\", type: DropdownComponent, selector: \"ngx-dropdown\", inputs: [\"group\", \"items\"] }, { kind: \"component\", type: ImageComponent, selector: \"ngx-image\" }, { kind: \"component\", type: ColorPickerComponent, selector: \"ngx-color-picker\", inputs: [\"presets\", \"type\"] }, { kind: \"pipe\", type: i3.KeyValuePipe, name: \"keyvalue\" }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: MenuComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-editor-menu', providers: [MenuService], template: \"<div class=\\\"NgxEditor__MenuBar\\\"\\n  [ngClass]=\\\"{'NgxEditor--Disabled': disabled, 'NgxEditor__MenuBar--Reverse': dropdownPlacement === 'top'}\\\">\\n\\n  <ng-container *ngFor=\\\"let toolbarItem of toolbar; let lastToolbarItem = last; trackBy: trackByIndex\\\">\\n    <ng-container *ngFor=\\\"let item of toolbarItem; let lastItem = last; trackBy: trackByIndex\\\">\\n\\n      <!-- toggle icons -->\\n      <ngx-toggle-command [toolbarItem]=\\\"item\\\" [class]=\\\"iconContainerClass\\\" *ngIf=\\\"toggleCommands.includes(item)\\\">\\n      </ngx-toggle-command>\\n\\n      <ngx-insert-command [toolbarItem]=\\\"item\\\" [class]=\\\"iconContainerClass\\\" *ngIf=\\\"insertCommands.includes(item)\\\">\\n      </ngx-insert-command>\\n\\n      <!-- link -->\\n      <ngx-link [class]=\\\"iconContainerClass\\\" *ngIf=\\\"item === 'link'\\\"></ngx-link>\\n\\n      <!-- image -->\\n      <ngx-image [class]=\\\"iconContainerClass\\\" *ngIf=\\\"item === 'image'\\\">\\n      </ngx-image>\\n\\n      <!-- dropdown -->\\n      <ng-container *ngIf=\\\"isDropDown(item)\\\">\\n        <ngx-dropdown *ngFor=\\\"let dropdownItem of getDropdownItems(item) | keyvalue; trackBy: trackByIndex\\\"\\n          [class]=\\\"dropdownContainerClass\\\" [group]=\\\"dropdownItem.key\\\" [items]=\\\"dropdownItem.value\\\">\\n        </ngx-dropdown>\\n      </ng-container>\\n\\n      <!-- text color picker -->\\n      <ngx-color-picker [class]=\\\"iconContainerClass\\\" *ngIf=\\\"item === 'text_color'\\\" type=\\\"text_color\\\"\\n        [presets]=\\\"presets\\\">\\n      </ngx-color-picker>\\n      <!-- background color picker -->\\n      <ngx-color-picker [class]=\\\"iconContainerClass\\\" *ngIf=\\\"item === 'background_color'\\\" type=\\\"background_color\\\"\\n        [presets]=\\\"presets\\\">\\n      </ngx-color-picker>\\n\\n      <!-- seperator -->\\n      <div [class]=\\\"seperatorClass\\\" *ngIf=\\\"lastItem && !lastToolbarItem\\\"></div>\\n    </ng-container>\\n  </ng-container>\\n\\n  <!-- custom menu -->\\n  <ng-container *ngIf=\\\"customMenuRef\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"customMenuRef\\\"></ng-container>\\n  </ng-container>\\n\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: MenuService }]; }, propDecorators: { toolbar: [{\n                type: Input\n            }], colorPresets: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }], editor: [{\n                type: Input\n            }], customMenuRef: [{\n                type: Input\n            }], dropdownPlacement: [{\n                type: Input\n            }] } });\n\nclass BubbleComponent {\n    constructor(sanitizeHTML, ngxeService) {\n        this.sanitizeHTML = sanitizeHTML;\n        this.ngxeService = ngxeService;\n        this.execulableItems = [];\n        this.activeItems = [];\n        this.toolbar = [\n            ['bold', 'italic', 'underline', 'strike'],\n            ['ordered_list', 'bullet_list', 'blockquote', 'code'],\n            ['align_left', 'align_center', 'align_right', 'align_justify'],\n        ];\n        this.toggleCommands = [\n            'bold',\n            'italic',\n            'underline',\n            'strike',\n            'ordered_list',\n            'bullet_list',\n            'blockquote',\n            'code',\n            'align_left',\n            'align_center',\n            'align_right',\n            'align_justify',\n        ];\n    }\n    get view() {\n        return this.editor.view;\n    }\n    getIcon(name) {\n        const icon = Icon.get(name);\n        return this.sanitizeHTML.transform(icon);\n    }\n    getTitle(name) {\n        return this.ngxeService.locals.get(name);\n    }\n    trackByIndex(index) {\n        return index;\n    }\n    onClick(e, commandName) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (e.button !== 0) {\n            return;\n        }\n        const { state, dispatch } = this.view;\n        const command = ToggleCommands[commandName];\n        command.toggle()(state, dispatch);\n    }\n    update(view) {\n        this.activeItems = [];\n        this.execulableItems = [];\n        const { state } = view;\n        this.toggleCommands.forEach((toolbarItem) => {\n            const command = ToggleCommands[toolbarItem];\n            const isActive = command.isActive(state);\n            if (isActive) {\n                this.activeItems.push(toolbarItem);\n            }\n            const canExecute = command.canExecute(state);\n            if (canExecute) {\n                this.execulableItems.push(toolbarItem);\n            }\n        });\n    }\n    ngOnInit() {\n        this.updateSubscription = this.editor.update\n            .subscribe((view) => {\n            this.update(view);\n        });\n    }\n    ngOnDestroy() {\n        this.updateSubscription.unsubscribe();\n    }\n}\nBubbleComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: BubbleComponent, deps: [{ token: SanitizeHtmlPipe }, { token: NgxEditorService }], target: i0.ɵɵFactoryTarget.Component });\nBubbleComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: BubbleComponent, selector: \"ngx-bubble\", inputs: { editor: \"editor\" }, ngImport: i0, template: \"<ng-container *ngFor=\\\"let toolbarItem of toolbar; let lastToolbarItem = last; trackBy: trackByIndex\\\">\\n  <ng-container *ngFor=\\\"let item of toolbarItem; let lastItem = last; trackBy: trackByIndex\\\">\\n    <div class=\\\"NgxBubbleMenu__Icon\\\" [ngClass]=\\\"{'NgxBubbleMenu__Icon--Active': this.activeItems.includes(item),\\n  'NgxEditor--Disabled': !this.execulableItems.includes(item)}\\\" (mousedown)=\\\"onClick($event, item)\\\"\\n      *ngIf=\\\"toggleCommands.includes(item)\\\" [title]=\\\"getTitle(item)\\\" [innerHTML]=\\\"getIcon(item)\\\">\\n    </div>\\n    <div class=\\\"NgxBubbleMenu__Seperator\\\" *ngIf=\\\"lastItem && !lastToolbarItem\\\"></div>\\n  </ng-container>\\n</ng-container>\\n\", styles: [\"*,*:before,*:after{box-sizing:border-box}:host{display:flex;flex-wrap:wrap;background-color:#000;color:#fff;padding:5px;border-radius:4px}.NgxBubbleMenu__Icon{height:30px;width:30px;transition:.3s ease-in-out;border-radius:2px;display:flex;align-items:center;justify-content:center;color:#fff}.NgxBubbleMenu__Icon:hover{background-color:#636262}.NgxBubbleMenu__Icon+.NgxBubbleMenu__Icon{margin-left:5px}.NgxBubbleMenu__Icon.NgxBubbleMenu__Icon--Active{background-color:#fff;color:#000}.NgxBubbleMenu__Seperator{border-left:1px solid white;margin:0 5px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: BubbleComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-bubble', template: \"<ng-container *ngFor=\\\"let toolbarItem of toolbar; let lastToolbarItem = last; trackBy: trackByIndex\\\">\\n  <ng-container *ngFor=\\\"let item of toolbarItem; let lastItem = last; trackBy: trackByIndex\\\">\\n    <div class=\\\"NgxBubbleMenu__Icon\\\" [ngClass]=\\\"{'NgxBubbleMenu__Icon--Active': this.activeItems.includes(item),\\n  'NgxEditor--Disabled': !this.execulableItems.includes(item)}\\\" (mousedown)=\\\"onClick($event, item)\\\"\\n      *ngIf=\\\"toggleCommands.includes(item)\\\" [title]=\\\"getTitle(item)\\\" [innerHTML]=\\\"getIcon(item)\\\">\\n    </div>\\n    <div class=\\\"NgxBubbleMenu__Seperator\\\" *ngIf=\\\"lastItem && !lastToolbarItem\\\"></div>\\n  </ng-container>\\n</ng-container>\\n\", styles: [\"*,*:before,*:after{box-sizing:border-box}:host{display:flex;flex-wrap:wrap;background-color:#000;color:#fff;padding:5px;border-radius:4px}.NgxBubbleMenu__Icon{height:30px;width:30px;transition:.3s ease-in-out;border-radius:2px;display:flex;align-items:center;justify-content:center;color:#fff}.NgxBubbleMenu__Icon:hover{background-color:#636262}.NgxBubbleMenu__Icon+.NgxBubbleMenu__Icon{margin-left:5px}.NgxBubbleMenu__Icon.NgxBubbleMenu__Icon--Active{background-color:#fff;color:#000}.NgxBubbleMenu__Seperator{border-left:1px solid white;margin:0 5px}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: SanitizeHtmlPipe }, { type: NgxEditorService }]; }, propDecorators: { editor: [{\n                type: Input\n            }] } });\n\nclass FloatingMenuComponent {\n    constructor(el) {\n        this.el = el;\n        this.autoPlace = false;\n        this.posLeft = 0;\n        this.posTop = 0;\n        this.showMenu = false;\n        this.dragging = false;\n    }\n    get display() {\n        return {\n            visibility: this.showMenu ? 'visible' : 'hidden',\n            opacity: this.showMenu ? '1' : '0',\n            top: `${this.posTop}px`,\n            left: `${this.posLeft}px`,\n        };\n    }\n    get view() {\n        return this.editor.view;\n    }\n    onMouseDown(e) {\n        const target = e.target;\n        if (this.el.nativeElement.contains(target) && target.nodeName !== 'INPUT') {\n            e.preventDefault();\n            return;\n        }\n        this.dragging = true;\n    }\n    onKeyDown(e) {\n        const target = e.target;\n        if (target.nodeName === 'INPUT') {\n            return;\n        }\n        this.dragging = true;\n        this.hide();\n    }\n    onMouseUp(e) {\n        const target = e.target;\n        if (this.el.nativeElement.contains(target) || target.nodeName === 'INPUT') {\n            e.preventDefault();\n            return;\n        }\n        this.dragging = false;\n        this.useUpdate();\n    }\n    onKeyUp(e) {\n        const target = e.target;\n        if (target.nodeName === 'INPUT') {\n            return;\n        }\n        this.dragging = false;\n        this.useUpdate();\n    }\n    useUpdate() {\n        if (!this.view) {\n            return;\n        }\n        this.update(this.view);\n    }\n    hide() {\n        this.showMenu = false;\n    }\n    show() {\n        this.showMenu = true;\n    }\n    async calculateBubblePosition(view) {\n        const { state: { selection } } = view;\n        const { from, to } = selection;\n        const start = view.coordsAtPos(from);\n        const end = view.coordsAtPos(to);\n        const selectionElement = {\n            getBoundingClientRect() {\n                if (selection instanceof NodeSelection) {\n                    const node = view.nodeDOM(from);\n                    return node.getBoundingClientRect();\n                }\n                const { top, left } = start;\n                const { bottom, right } = end;\n                return {\n                    x: left,\n                    y: top,\n                    top,\n                    bottom,\n                    left,\n                    right,\n                    width: right - left,\n                    height: bottom - top,\n                };\n            },\n        };\n        // the floating bubble itself\n        const bubbleEl = this.el.nativeElement;\n        const { x: left, y: top } = await computePosition(selectionElement, bubbleEl, {\n            placement: 'top',\n            middleware: [\n                offset(5),\n                this.autoPlace && autoPlacement({\n                    boundary: view.dom,\n                    padding: 5,\n                    allowedPlacements: ['top', 'bottom'],\n                }),\n                {\n                    // prevent overflow on right and left side\n                    // since only top and bottom placements are allowed\n                    // autoplacement can't handle overflows on the right and left\n                    name: 'overflowMiddleware',\n                    async fn(middlewareArgs) {\n                        const overflow = await detectOverflow(middlewareArgs, {\n                            boundary: view.dom,\n                            padding: 5,\n                        });\n                        // overflows left\n                        if (overflow.left > 0) {\n                            return {\n                                x: middlewareArgs.x + overflow.left,\n                            };\n                        }\n                        // overflows right\n                        if (overflow.right > 0) {\n                            return {\n                                x: middlewareArgs.x - overflow.right,\n                            };\n                        }\n                        return {};\n                    },\n                },\n            ].filter(Boolean),\n        });\n        return {\n            left,\n            top,\n        };\n    }\n    canShowMenu(view) {\n        const { state } = view;\n        const { selection } = state;\n        const { empty } = selection;\n        if (selection instanceof NodeSelection) {\n            if (selection.node.type.name === 'image') {\n                return false;\n            }\n        }\n        const hasFocus = this.view.hasFocus();\n        if (!hasFocus || empty || this.dragging) {\n            this.hide();\n            return false;\n        }\n        return true;\n    }\n    update(view) {\n        const canShowMenu = this.canShowMenu(view);\n        if (!canShowMenu) {\n            this.hide();\n            return;\n        }\n        this.calculateBubblePosition(this.view).then(({ top, left }) => {\n            if (!this.canShowMenu) {\n                this.hide();\n                return;\n            }\n            this.posLeft = left;\n            this.posTop = top;\n            this.show();\n        });\n    }\n    ngOnInit() {\n        if (!this.editor) {\n            throw new NgxEditorError('Required editor instance to initialize floating menu component');\n        }\n        this.updateSubscription = this.editor.update\n            .subscribe((view) => {\n            this.update(view);\n        });\n        this.resizeSubscription = fromEvent(window, 'resize').pipe(throttleTime(500, asyncScheduler, { leading: true, trailing: true })).subscribe(() => {\n            this.useUpdate();\n        });\n    }\n    ngOnDestroy() {\n        this.updateSubscription.unsubscribe();\n        this.resizeSubscription.unsubscribe();\n    }\n}\nFloatingMenuComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: FloatingMenuComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nFloatingMenuComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.0\", type: FloatingMenuComponent, selector: \"ngx-editor-floating-menu\", inputs: { editor: \"editor\", autoPlace: \"autoPlace\" }, host: { listeners: { \"document:mousedown\": \"onMouseDown($event)\", \"document:keydown\": \"onKeyDown($event)\", \"document:mouseup\": \"onMouseUp($event)\", \"document:keyup\": \"onKeyUp($event)\" }, properties: { \"style\": \"this.display\" } }, ngImport: i0, template: \"<div #ref>\\n  <ng-content></ng-content>\\n</div>\\n<ng-container *ngIf=\\\"ref.children.length === 0\\\">\\n  <ngx-bubble [editor]=\\\"editor\\\"></ngx-bubble>\\n</ng-container>\\n\", styles: [\"*,*:before,*:after{box-sizing:border-box}:host{position:absolute;z-index:20;margin-bottom:5px;visibility:hidden;opacity:0}\\n\"], dependencies: [{ kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: BubbleComponent, selector: \"ngx-bubble\", inputs: [\"editor\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: FloatingMenuComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-editor-floating-menu', template: \"<div #ref>\\n  <ng-content></ng-content>\\n</div>\\n<ng-container *ngIf=\\\"ref.children.length === 0\\\">\\n  <ngx-bubble [editor]=\\\"editor\\\"></ngx-bubble>\\n</ng-container>\\n\", styles: [\"*,*:before,*:after{box-sizing:border-box}:host{position:absolute;z-index:20;margin-bottom:5px;visibility:hidden;opacity:0}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { display: [{\n                type: HostBinding,\n                args: ['style']\n            }], editor: [{\n                type: Input\n            }], autoPlace: [{\n                type: Input\n            }], onMouseDown: [{\n                type: HostListener,\n                args: ['document:mousedown', ['$event']]\n            }], onKeyDown: [{\n                type: HostListener,\n                args: ['document:keydown', ['$event']]\n            }], onMouseUp: [{\n                type: HostListener,\n                args: ['document:mouseup', ['$event']]\n            }], onKeyUp: [{\n                type: HostListener,\n                args: ['document:keyup', ['$event']]\n            }] } });\n\nclass MenuModule {\n}\nMenuModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: MenuModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nMenuModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.1.0\", ngImport: i0, type: MenuModule, declarations: [\n        // pipes\n        SanitizeHtmlPipe,\n        // components\n        MenuComponent,\n        ToggleCommandComponent,\n        InsertCommandComponent,\n        LinkComponent,\n        DropdownComponent,\n        ImageComponent,\n        ColorPickerComponent,\n        FloatingMenuComponent,\n        BubbleComponent], imports: [CommonModule,\n        ReactiveFormsModule], exports: [MenuComponent,\n        FloatingMenuComponent] });\nMenuModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: MenuModule, providers: [\n        SanitizeHtmlPipe,\n    ], imports: [CommonModule,\n        ReactiveFormsModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: MenuModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        ReactiveFormsModule,\n                    ],\n                    declarations: [\n                        // pipes\n                        SanitizeHtmlPipe,\n                        // components\n                        MenuComponent,\n                        ToggleCommandComponent,\n                        InsertCommandComponent,\n                        LinkComponent,\n                        DropdownComponent,\n                        ImageComponent,\n                        ColorPickerComponent,\n                        FloatingMenuComponent,\n                        BubbleComponent,\n                    ],\n                    providers: [\n                        SanitizeHtmlPipe,\n                    ],\n                    exports: [\n                        MenuComponent,\n                        FloatingMenuComponent,\n                    ],\n                }]\n        }] });\n\nconst NGX_EDITOR_CONFIG_TOKEN = new InjectionToken('NgxEditorConfig');\nconst defaultConfig = {\n    locals: defaults,\n};\nclass NgxEditorModule {\n    static forRoot(config = defaultConfig) {\n        return {\n            ngModule: NgxEditorModule,\n            providers: [\n                {\n                    provide: NGX_EDITOR_CONFIG_TOKEN,\n                    useValue: config,\n                },\n                {\n                    provide: NgxEditorServiceConfig,\n                    useFactory: provideMyServiceOptions,\n                    deps: [NGX_EDITOR_CONFIG_TOKEN],\n                },\n            ],\n        };\n    }\n    static forChild(config = defaultConfig) {\n        return {\n            ngModule: NgxEditorModule,\n            providers: [\n                {\n                    provide: NGX_EDITOR_CONFIG_TOKEN,\n                    useValue: config,\n                },\n                {\n                    provide: NgxEditorServiceConfig,\n                    useFactory: provideMyServiceOptions,\n                    deps: [NGX_EDITOR_CONFIG_TOKEN],\n                },\n                NgxEditorService,\n            ],\n        };\n    }\n}\nNgxEditorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nNgxEditorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorModule, declarations: [NgxEditorComponent,\n        ImageViewComponent], imports: [CommonModule,\n        MenuModule], exports: [NgxEditorComponent,\n        MenuComponent,\n        FloatingMenuComponent] });\nNgxEditorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorModule, imports: [CommonModule,\n        MenuModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.0\", ngImport: i0, type: NgxEditorModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        MenuModule,\n                    ],\n                    providers: [],\n                    declarations: [\n                        NgxEditorComponent,\n                        ImageViewComponent,\n                    ],\n                    exports: [\n                        NgxEditorComponent,\n                        MenuComponent,\n                        FloatingMenuComponent,\n                    ],\n                }]\n        }] });\n\nconst isEmptyInputValue = (value) => {\n    // we don't check for string here so it also works with arrays\n    return value === null || value.length === 0;\n};\nconst hasValidLength = (value) => {\n    // non-strict comparison is intentional, to check for both `null` and `undefined` values\n    return value !== null && typeof value.length === 'number';\n};\nconst isDocEmpty = (doc) => {\n    if (!doc) {\n        return true;\n    }\n    const { childCount, firstChild } = doc;\n    return Boolean(childCount === 1 && firstChild?.isTextblock && firstChild.content.size === 0);\n};\n// @dynamic\nclass Validators {\n    static required(userSchema) {\n        return (control) => {\n            const schema$1 = userSchema || schema;\n            const doc = parseContent(control.value, schema$1);\n            const isEmpty = isDocEmpty(doc);\n            if (!isEmpty) {\n                return null;\n            }\n            return {\n                required: true,\n            };\n        };\n    }\n    static maxLength(maxLength, userSchema) {\n        return (control) => {\n            const schema$1 = userSchema || schema;\n            const doc = parseContent(control.value, schema$1);\n            const value = doc.textContent;\n            if (hasValidLength(value) && value.length > maxLength) {\n                return {\n                    maxlength: {\n                        requiredLength: maxLength,\n                        actualLength: value.length,\n                    },\n                };\n            }\n            return null;\n        };\n    }\n    static minLength(minLength, userSchema) {\n        return (control) => {\n            const schema$1 = userSchema || schema;\n            const doc = parseContent(control.value, schema$1);\n            const value = doc.textContent;\n            if (isEmptyInputValue(value) || !hasValidLength(value)) {\n                // don't validate empty values to allow optional controls\n                // don't validate values without `length` property\n                return null;\n            }\n            if (value.length < minLength) {\n                return {\n                    minlength: {\n                        requiredLength: minLength, actualLength: value.length,\n                    },\n                };\n            }\n            return null;\n        };\n    }\n}\n\nconst execMark = (name, toggle = false) => {\n    return (state, dispatch) => {\n        const command = new Mark(name);\n        if (!toggle) {\n            return command.apply()(state, dispatch);\n        }\n        return command.toggle()(state, dispatch);\n    };\n};\nclass EditorCommands {\n    constructor(view) {\n        this.applyTrx = (tr) => {\n            this.state = this.state.apply(tr ?? this.tr);\n            this.tr = this.state.tr;\n            this.tr.setMeta('APPLIED_TRX', true);\n        };\n        this.dispatch = (tr) => {\n            this.applyTrx(tr);\n        };\n        if (!view) {\n            throw new NgxEditorError('Required view to initialize commands.');\n        }\n        this.view = view;\n        this.state = view.state;\n        this.tr = this.view.state.tr;\n    }\n    exec() {\n        // No changes applied\n        if (!this.tr.getMeta('APPLIED_TRX')) {\n            return false;\n        }\n        const forceEmit = !this.view.state.doc.eq(this.state.doc);\n        this.view.updateState(this.state);\n        const tr = this.tr\n            .setMeta('FORCE_EMIT', forceEmit);\n        this.view.dispatch(tr);\n        return true;\n    }\n    focus() {\n        this.view.focus();\n        return this;\n    }\n    scrollIntoView() {\n        this.tr.scrollIntoView();\n        this.applyTrx();\n        return this;\n    }\n    insertText(text) {\n        this.tr.insertText(text);\n        this.applyTrx();\n        return this;\n    }\n    insertNewLine() {\n        const newLineCommands = [newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock];\n        chainCommands(...newLineCommands)(this.state, this.dispatch);\n        return this;\n    }\n    applyMark(name) {\n        execMark(name, false)(this.state, this.dispatch);\n        return this;\n    }\n    toggleMark(name) {\n        execMark(name, true)(this.state, this.dispatch);\n        return this;\n    }\n    bold() {\n        execMark('strong')(this.state, this.dispatch);\n        return this;\n    }\n    toggleBold() {\n        execMark('strong', true)(this.state, this.dispatch);\n        return this;\n    }\n    italics() {\n        execMark('em')(this.state, this.dispatch);\n        return this;\n    }\n    toggleItalics() {\n        execMark('em', true)(this.state, this.dispatch);\n        return this;\n    }\n    underline() {\n        execMark('u')(this.state, this.dispatch);\n        return this;\n    }\n    toggleUnderline() {\n        execMark('u', true)(this.state, this.dispatch);\n        return this;\n    }\n    strike() {\n        execMark('s')(this.state, this.dispatch);\n        return this;\n    }\n    toggleStrike() {\n        execMark('s', true)(this.state, this.dispatch);\n        return this;\n    }\n    code() {\n        execMark('code')(this.state, this.dispatch);\n        return this;\n    }\n    toggleCode() {\n        execMark('code', true)(this.state, this.dispatch);\n        return this;\n    }\n    toggleOrderedList() {\n        const command = new ListItem(false);\n        command.toggle()(this.state, this.dispatch);\n        return this;\n    }\n    toggleBulletList() {\n        const command = new ListItem(true);\n        command.toggle()(this.state, this.dispatch);\n        return this;\n    }\n    toggleHeading(level) {\n        const command = new Heading(level);\n        command.toggle()(this.state, this.dispatch);\n        return this;\n    }\n    insertLink(text, attrs) {\n        const command = new Link$1();\n        command.insert(text, attrs)(this.state, this.dispatch);\n        return this;\n    }\n    updateLink(attrs) {\n        const command = new Link$1();\n        command.update(attrs)(this.state, this.dispatch);\n        return this;\n    }\n    insertImage(src, attrs = {}) {\n        const command = new Image$1();\n        command.insert(src, attrs)(this.state, this.dispatch);\n        return this;\n    }\n    textColor(color) {\n        const command = new TextColor$1('text_color');\n        command.apply({ color })(this.state, this.dispatch);\n        return this;\n    }\n    backgroundColor(color) {\n        const command = new TextColor$1('text_background_color');\n        command.apply({ backgroundColor: color })(this.state, this.dispatch);\n        return this;\n    }\n    removeTextColor() {\n        const command = new TextColor$1('text_color');\n        command.remove()(this.state, this.dispatch);\n        return this;\n    }\n    removeBackgroundColor() {\n        const command = new TextColor$1('text_background_color');\n        command.remove()(this.state, this.dispatch);\n        return this;\n    }\n    align(p) {\n        const command = new TextAlign(p);\n        command.toggle()(this.state, this.dispatch);\n        return this;\n    }\n    insertHTML(html) {\n        const { selection, schema, tr } = this.state;\n        const { from, to } = selection;\n        const element = document.createElement('div');\n        element.innerHTML = html.trim();\n        const slice = DOMParser.fromSchema(schema).parseSlice(element);\n        const transaction = tr.replaceRange(from, to, slice);\n        this.applyTrx(transaction);\n        return this;\n    }\n}\n\nconst isMacOs = typeof navigator !== 'undefined'\n    ? (/Mac/).test(navigator.platform)\n    : false;\n// Input rules ref: https://github.com/ProseMirror/prosemirror-example-setup/\n// : (NodeType) → InputRule\n// Given a blockquote node type, returns an input rule that turns `\"> \"`\n// at the start of a textblock into a blockquote.\nconst blockQuoteRule = (nodeType) => {\n    return wrappingInputRule(/^\\s*>\\s$/, nodeType);\n};\n// : (NodeType) → InputRule\n// Given a list node type, returns an input rule that turns a number\n// followed by a dot at the start of a textblock into an ordered list.\nconst orderedListRule = (nodeType) => {\n    return wrappingInputRule(/^(?:\\d+)\\.\\s$/, nodeType, (match) => ({ order: Number(match[1]) }), (match, node) => node.childCount + node.attrs['order'] === Number(match[1]));\n};\n// : (NodeType) → InputRule\n// Given a list node type, returns an input rule that turns a bullet\n// (dash, plush, or asterisk) at the start of a textblock into a\n// bullet list.\nconst bulletListRule = (nodeType) => {\n    return wrappingInputRule(/^\\s*(?:[-+*])\\s$/, nodeType);\n};\n// : (NodeType) → InputRule\n// Given a code block node type, returns an input rule that turns a\n// textblock starting with three backticks into a code block.\nconst codeBlockRule = (nodeType) => {\n    return textblockTypeInputRule(/^```$/, nodeType);\n};\n// : (NodeType, number) → InputRule\n// Given a node type and a maximum level, creates an input rule that\n// turns up to that number of `#` characters followed by a space at\n// the start of a textblock into a heading whose level corresponds to\n// the number of `#` signs.\nconst headingRule = (nodeType, maxLevel) => {\n    return textblockTypeInputRule(new RegExp(`^(#{1,${maxLevel}})\\\\s$`), nodeType, (match) => ({ level: match[1].length }));\n};\n// : (MarkType) → InputRule\n// Wraps matching text with bold mark\nconst boldRule = (markType) => {\n    return markInputRule(/(?:^|\\s)(?:(?:\\*\\*|__)(?:(?:[^*_]+))(?:\\*\\*|__))$/, markType);\n};\n// : (MarkType) → InputRule\n// Wraps matching text with em mark\nconst emRule = (markType) => {\n    return markInputRule(/(?:^|\\s)(?:(?:\\*|_)(?:(?:[^*_]+))(?:\\*|_))$/, markType);\n};\n// : (Schema) → Plugin\n// A set of input rules for creating the basic block quotes, lists,\n// code blocks, and heading.\nconst buildInputRules = (schema) => {\n    const rules = smartQuotes.concat(ellipsis, emDash);\n    rules.push(boldRule(schema.marks['strong']));\n    rules.push(emRule(schema.marks['em']));\n    rules.push(blockQuoteRule(schema.nodes['blockquote']));\n    rules.push(orderedListRule(schema.nodes['ordered_list']));\n    rules.push(bulletListRule(schema.nodes['bullet_list']));\n    rules.push(codeBlockRule(schema.nodes['code_block']));\n    rules.push(headingRule(schema.nodes['heading'], 6));\n    return inputRules({ rules });\n};\nconst getKeyboardShortcuts = (schema, options) => {\n    const historyKeyMap = {};\n    historyKeyMap['Mod-z'] = undo;\n    if (isMacOs) {\n        historyKeyMap['Shift-Mod-z'] = redo;\n    }\n    else {\n        historyKeyMap['Mod-y'] = redo;\n    }\n    const plugins = [\n        keymap({\n            'Mod-b': toggleMark(schema.marks['strong']),\n            'Mod-i': toggleMark(schema.marks['em']),\n            'Mod-u': toggleMark(schema.marks['u']),\n            'Mod-`': toggleMark(schema.marks['code']),\n        }),\n        keymap({\n            'Enter': splitListItem(schema.nodes['list_item']),\n            'Shift-Enter': chainCommands(exitCode, (state, dispatch) => {\n                const { tr } = state;\n                const br = schema.nodes['hard_break'];\n                dispatch(tr.replaceSelectionWith(br.create()).scrollIntoView());\n                return true;\n            }),\n            'Mod-[': liftListItem(schema.nodes['list_item']),\n            'Mod-]': sinkListItem(schema.nodes['list_item']),\n            'Tab': sinkListItem(schema.nodes['list_item']),\n        }),\n        keymap(baseKeymap),\n    ];\n    if (options.history) {\n        plugins.push(keymap(historyKeyMap));\n    }\n    return plugins;\n};\nconst getDefaultPlugins = (schema, options) => {\n    const plugins = [];\n    if (options.keyboardShortcuts) {\n        plugins.push(...getKeyboardShortcuts(schema, { history: options.history }));\n    }\n    if (options.history) {\n        plugins.push(history());\n    }\n    if (options.inputRules) {\n        plugins.push(buildInputRules(schema));\n    }\n    return plugins;\n};\n\nconst defaultFeatures = {\n    linkOnPaste: true,\n    resizeImage: true,\n};\nconst DEFAULT_OPTIONS = {\n    content: null,\n    history: true,\n    keyboardShortcuts: true,\n    inputRules: true,\n    schema: schema,\n    plugins: [],\n    nodeViews: {},\n    attributes: {},\n    features: defaultFeatures,\n    handleScrollToSelection: null,\n};\nclass Editor {\n    constructor(options = DEFAULT_OPTIONS) {\n        this.valueChangesSubject = new Subject();\n        this.updateSubject = new Subject();\n        this.options = { ...DEFAULT_OPTIONS, ...options };\n        this.createEditor();\n    }\n    get valueChanges() {\n        return this.valueChangesSubject.asObservable();\n    }\n    get update() {\n        return this.updateSubject.asObservable();\n    }\n    get schema() {\n        return this.options.schema || schema;\n    }\n    get commands() {\n        return new EditorCommands(this.view);\n    }\n    get features() {\n        return { ...defaultFeatures, ...this.options.features };\n    }\n    handleTransactions(tr) {\n        const state = this.view.state.apply(tr);\n        this.view.updateState(state);\n        this.updateSubject.next(this.view);\n        if (!tr.docChanged && !tr.getMeta('FORCE_EMIT')) {\n            return;\n        }\n        const json = state.doc.toJSON();\n        this.valueChangesSubject.next(json);\n    }\n    createEditor() {\n        const { options, schema } = this;\n        const { content = null, nodeViews } = options;\n        const { history = true, keyboardShortcuts = true, inputRules = true } = options;\n        const doc = parseContent(content, schema);\n        const plugins = options.plugins ?? [];\n        const attributes = options.attributes ?? {};\n        const defaultPlugins = getDefaultPlugins(schema, {\n            history,\n            keyboardShortcuts,\n            inputRules,\n        });\n        this.view = new EditorView(null, {\n            state: EditorState.create({\n                doc,\n                schema,\n                plugins: [...defaultPlugins, ...plugins],\n            }),\n            nodeViews,\n            dispatchTransaction: this.handleTransactions.bind(this),\n            attributes,\n            handleScrollToSelection: options.handleScrollToSelection,\n        });\n    }\n    setContent(content) {\n        if (isNil(content)) {\n            return;\n        }\n        const { state } = this.view;\n        const { tr, doc } = state;\n        const newDoc = parseContent(content, this.schema);\n        tr.replaceWith(0, state.doc.content.size, newDoc);\n        // don't emit if both content is same\n        if (doc.eq(tr.doc)) {\n            return;\n        }\n        if (!tr.docChanged) {\n            return;\n        }\n        this.view.dispatch(tr);\n    }\n    registerPlugin(plugin) {\n        const { state } = this.view;\n        const plugins = [...state.plugins, plugin];\n        const newState = state.reconfigure({ plugins });\n        this.view.updateState(newState);\n    }\n    destroy() {\n        this.view.destroy();\n    }\n}\n\n/*\n * Public API Surface of ngx-editor\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DEFAULT_TOOLBAR, Editor, FloatingMenuComponent, MenuComponent, NGX_EDITOR_CONFIG_TOKEN, NgxEditorComponent, NgxEditorModule, TOOLBAR_FULL, TOOLBAR_MINIMAL, Validators, emptyDoc, getKeyboardShortcuts, parseContent, toDoc, toHTML };\n","// ::- Persistent data structure representing an ordered mapping from\n// strings to values, with some convenient update methods.\nfunction OrderedMap(content) {\n  this.content = content;\n}\n\nOrderedMap.prototype = {\n  constructor: OrderedMap,\n\n  find: function(key) {\n    for (var i = 0; i < this.content.length; i += 2)\n      if (this.content[i] === key) return i\n    return -1\n  },\n\n  // :: (string) → ?any\n  // Retrieve the value stored under `key`, or return undefined when\n  // no such key exists.\n  get: function(key) {\n    var found = this.find(key);\n    return found == -1 ? undefined : this.content[found + 1]\n  },\n\n  // :: (string, any, ?string) → OrderedMap\n  // Create a new map by replacing the value of `key` with a new\n  // value, or adding a binding to the end of the map. If `newKey` is\n  // given, the key of the binding will be replaced with that key.\n  update: function(key, value, newKey) {\n    var self = newKey && newKey != key ? this.remove(newKey) : this;\n    var found = self.find(key), content = self.content.slice();\n    if (found == -1) {\n      content.push(newKey || key, value);\n    } else {\n      content[found + 1] = value;\n      if (newKey) content[found] = newKey;\n    }\n    return new OrderedMap(content)\n  },\n\n  // :: (string) → OrderedMap\n  // Return a map with the given key removed, if it existed.\n  remove: function(key) {\n    var found = this.find(key);\n    if (found == -1) return this\n    var content = this.content.slice();\n    content.splice(found, 2);\n    return new OrderedMap(content)\n  },\n\n  // :: (string, any) → OrderedMap\n  // Add a new key to the start of the map.\n  addToStart: function(key, value) {\n    return new OrderedMap([key, value].concat(this.remove(key).content))\n  },\n\n  // :: (string, any) → OrderedMap\n  // Add a new key to the end of the map.\n  addToEnd: function(key, value) {\n    var content = this.remove(key).content.slice();\n    content.push(key, value);\n    return new OrderedMap(content)\n  },\n\n  // :: (string, string, any) → OrderedMap\n  // Add a key after the given key. If `place` is not found, the new\n  // key is added to the end.\n  addBefore: function(place, key, value) {\n    var without = this.remove(key), content = without.content.slice();\n    var found = without.find(place);\n    content.splice(found == -1 ? content.length : found, 0, key, value);\n    return new OrderedMap(content)\n  },\n\n  // :: ((key: string, value: any))\n  // Call the given function for each key/value pair in the map, in\n  // order.\n  forEach: function(f) {\n    for (var i = 0; i < this.content.length; i += 2)\n      f(this.content[i], this.content[i + 1]);\n  },\n\n  // :: (union<Object, OrderedMap>) → OrderedMap\n  // Create a new map by prepending the keys in this map that don't\n  // appear in `map` before the keys in `map`.\n  prepend: function(map) {\n    map = OrderedMap.from(map);\n    if (!map.size) return this\n    return new OrderedMap(map.content.concat(this.subtract(map).content))\n  },\n\n  // :: (union<Object, OrderedMap>) → OrderedMap\n  // Create a new map by appending the keys in this map that don't\n  // appear in `map` after the keys in `map`.\n  append: function(map) {\n    map = OrderedMap.from(map);\n    if (!map.size) return this\n    return new OrderedMap(this.subtract(map).content.concat(map.content))\n  },\n\n  // :: (union<Object, OrderedMap>) → OrderedMap\n  // Create a map containing all the keys in this map that don't\n  // appear in `map`.\n  subtract: function(map) {\n    var result = this;\n    map = OrderedMap.from(map);\n    for (var i = 0; i < map.content.length; i += 2)\n      result = result.remove(map.content[i]);\n    return result\n  },\n\n  // :: number\n  // The amount of keys in this map.\n  get size() {\n    return this.content.length >> 1\n  }\n};\n\n// :: (?union<Object, OrderedMap>) → OrderedMap\n// Return a map with the given content. If null, create an empty\n// map. If given an ordered map, return that map itself. If given an\n// object, create a map from the object's properties.\nOrderedMap.from = function(value) {\n  if (value instanceof OrderedMap) return value\n  var content = [];\n  if (value) for (var prop in value) content.push(prop, value[prop]);\n  return new OrderedMap(content)\n};\n\nexport default OrderedMap;\n","import { liftTarget, replaceStep, canJoin, joinPoint, canSplit, ReplaceAroundStep, findWrapping } from 'prosemirror-transform';\nimport { Slice, Fragment } from 'prosemirror-model';\nimport { NodeSelection, Selection, AllSelection, TextSelection } from 'prosemirror-state';\n\n/**\nDelete the selection, if there is one.\n*/\nconst deleteSelection = (state, dispatch) => {\n    if (state.selection.empty)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.deleteSelection().scrollIntoView());\n    return true;\n};\n/**\nIf the selection is empty and at the start of a textblock, try to\nreduce the distance between that block and the one before it—if\nthere's a block directly before it that can be joined, join them.\nIf not, try to move the selected block closer to the next one in\nthe document structure by lifting it out of its parent or moving it\ninto a parent of the previous block. Will use the view for accurate\n(bidi-aware) start-of-textblock detection if given.\n*/\nconst joinBackward = (state, dispatch, view) => {\n    let { $cursor } = state.selection;\n    if (!$cursor || (view ? !view.endOfTextblock(\"backward\", state)\n        : $cursor.parentOffset > 0))\n        return false;\n    let $cut = findCutBefore($cursor);\n    // If there is no node before this, try to lift\n    if (!$cut) {\n        let range = $cursor.blockRange(), target = range && liftTarget(range);\n        if (target == null)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.lift(range, target).scrollIntoView());\n        return true;\n    }\n    let before = $cut.nodeBefore;\n    // Apply the joining algorithm\n    if (!before.type.spec.isolating && deleteBarrier(state, $cut, dispatch))\n        return true;\n    // If the node below has no content and the node above is\n    // selectable, delete the node below and select the one above.\n    if ($cursor.parent.content.size == 0 &&\n        (textblockAt(before, \"end\") || NodeSelection.isSelectable(before))) {\n        let delStep = replaceStep(state.doc, $cursor.before(), $cursor.after(), Slice.empty);\n        if (delStep && delStep.slice.size < delStep.to - delStep.from) {\n            if (dispatch) {\n                let tr = state.tr.step(delStep);\n                tr.setSelection(textblockAt(before, \"end\") ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos, -1)), -1)\n                    : NodeSelection.create(tr.doc, $cut.pos - before.nodeSize));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    // If the node before is an atom, delete it\n    if (before.isAtom && $cut.depth == $cursor.depth - 1) {\n        if (dispatch)\n            dispatch(state.tr.delete($cut.pos - before.nodeSize, $cut.pos).scrollIntoView());\n        return true;\n    }\n    return false;\n};\nfunction textblockAt(node, side, only = false) {\n    for (let scan = node; scan; scan = (side == \"start\" ? scan.firstChild : scan.lastChild)) {\n        if (scan.isTextblock)\n            return true;\n        if (only && scan.childCount != 1)\n            return false;\n    }\n    return false;\n}\n/**\nWhen the selection is empty and at the start of a textblock, select\nthe node before that textblock, if possible. This is intended to be\nbound to keys like backspace, after\n[`joinBackward`](https://prosemirror.net/docs/ref/#commands.joinBackward) or other deleting\ncommands, as a fall-back behavior when the schema doesn't allow\ndeletion at the selected point.\n*/\nconst selectNodeBackward = (state, dispatch, view) => {\n    let { $head, empty } = state.selection, $cut = $head;\n    if (!empty)\n        return false;\n    if ($head.parent.isTextblock) {\n        if (view ? !view.endOfTextblock(\"backward\", state) : $head.parentOffset > 0)\n            return false;\n        $cut = findCutBefore($head);\n    }\n    let node = $cut && $cut.nodeBefore;\n    if (!node || !NodeSelection.isSelectable(node))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos - node.nodeSize)).scrollIntoView());\n    return true;\n};\nfunction findCutBefore($pos) {\n    if (!$pos.parent.type.spec.isolating)\n        for (let i = $pos.depth - 1; i >= 0; i--) {\n            if ($pos.index(i) > 0)\n                return $pos.doc.resolve($pos.before(i + 1));\n            if ($pos.node(i).type.spec.isolating)\n                break;\n        }\n    return null;\n}\n/**\nIf the selection is empty and the cursor is at the end of a\ntextblock, try to reduce or remove the boundary between that block\nand the one after it, either by joining them or by moving the other\nblock closer to this one in the tree structure. Will use the view\nfor accurate start-of-textblock detection if given.\n*/\nconst joinForward = (state, dispatch, view) => {\n    let { $cursor } = state.selection;\n    if (!$cursor || (view ? !view.endOfTextblock(\"forward\", state)\n        : $cursor.parentOffset < $cursor.parent.content.size))\n        return false;\n    let $cut = findCutAfter($cursor);\n    // If there is no node after this, there's nothing to do\n    if (!$cut)\n        return false;\n    let after = $cut.nodeAfter;\n    // Try the joining algorithm\n    if (deleteBarrier(state, $cut, dispatch))\n        return true;\n    // If the node above has no content and the node below is\n    // selectable, delete the node above and select the one below.\n    if ($cursor.parent.content.size == 0 &&\n        (textblockAt(after, \"start\") || NodeSelection.isSelectable(after))) {\n        let delStep = replaceStep(state.doc, $cursor.before(), $cursor.after(), Slice.empty);\n        if (delStep && delStep.slice.size < delStep.to - delStep.from) {\n            if (dispatch) {\n                let tr = state.tr.step(delStep);\n                tr.setSelection(textblockAt(after, \"start\") ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos)), 1)\n                    : NodeSelection.create(tr.doc, tr.mapping.map($cut.pos)));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    // If the next node is an atom, delete it\n    if (after.isAtom && $cut.depth == $cursor.depth - 1) {\n        if (dispatch)\n            dispatch(state.tr.delete($cut.pos, $cut.pos + after.nodeSize).scrollIntoView());\n        return true;\n    }\n    return false;\n};\n/**\nWhen the selection is empty and at the end of a textblock, select\nthe node coming after that textblock, if possible. This is intended\nto be bound to keys like delete, after\n[`joinForward`](https://prosemirror.net/docs/ref/#commands.joinForward) and similar deleting\ncommands, to provide a fall-back behavior when the schema doesn't\nallow deletion at the selected point.\n*/\nconst selectNodeForward = (state, dispatch, view) => {\n    let { $head, empty } = state.selection, $cut = $head;\n    if (!empty)\n        return false;\n    if ($head.parent.isTextblock) {\n        if (view ? !view.endOfTextblock(\"forward\", state) : $head.parentOffset < $head.parent.content.size)\n            return false;\n        $cut = findCutAfter($head);\n    }\n    let node = $cut && $cut.nodeAfter;\n    if (!node || !NodeSelection.isSelectable(node))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos)).scrollIntoView());\n    return true;\n};\nfunction findCutAfter($pos) {\n    if (!$pos.parent.type.spec.isolating)\n        for (let i = $pos.depth - 1; i >= 0; i--) {\n            let parent = $pos.node(i);\n            if ($pos.index(i) + 1 < parent.childCount)\n                return $pos.doc.resolve($pos.after(i + 1));\n            if (parent.type.spec.isolating)\n                break;\n        }\n    return null;\n}\n/**\nJoin the selected block or, if there is a text selection, the\nclosest ancestor block of the selection that can be joined, with\nthe sibling above it.\n*/\nconst joinUp = (state, dispatch) => {\n    let sel = state.selection, nodeSel = sel instanceof NodeSelection, point;\n    if (nodeSel) {\n        if (sel.node.isTextblock || !canJoin(state.doc, sel.from))\n            return false;\n        point = sel.from;\n    }\n    else {\n        point = joinPoint(state.doc, sel.from, -1);\n        if (point == null)\n            return false;\n    }\n    if (dispatch) {\n        let tr = state.tr.join(point);\n        if (nodeSel)\n            tr.setSelection(NodeSelection.create(tr.doc, point - state.doc.resolve(point).nodeBefore.nodeSize));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nJoin the selected block, or the closest ancestor of the selection\nthat can be joined, with the sibling after it.\n*/\nconst joinDown = (state, dispatch) => {\n    let sel = state.selection, point;\n    if (sel instanceof NodeSelection) {\n        if (sel.node.isTextblock || !canJoin(state.doc, sel.to))\n            return false;\n        point = sel.to;\n    }\n    else {\n        point = joinPoint(state.doc, sel.to, 1);\n        if (point == null)\n            return false;\n    }\n    if (dispatch)\n        dispatch(state.tr.join(point).scrollIntoView());\n    return true;\n};\n/**\nLift the selected block, or the closest ancestor block of the\nselection that can be lifted, out of its parent node.\n*/\nconst lift = (state, dispatch) => {\n    let { $from, $to } = state.selection;\n    let range = $from.blockRange($to), target = range && liftTarget(range);\n    if (target == null)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.lift(range, target).scrollIntoView());\n    return true;\n};\n/**\nIf the selection is in a node whose type has a truthy\n[`code`](https://prosemirror.net/docs/ref/#model.NodeSpec.code) property in its spec, replace the\nselection with a newline character.\n*/\nconst newlineInCode = (state, dispatch) => {\n    let { $head, $anchor } = state.selection;\n    if (!$head.parent.type.spec.code || !$head.sameParent($anchor))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.insertText(\"\\n\").scrollIntoView());\n    return true;\n};\nfunction defaultBlockAt(match) {\n    for (let i = 0; i < match.edgeCount; i++) {\n        let { type } = match.edge(i);\n        if (type.isTextblock && !type.hasRequiredAttrs())\n            return type;\n    }\n    return null;\n}\n/**\nWhen the selection is in a node with a truthy\n[`code`](https://prosemirror.net/docs/ref/#model.NodeSpec.code) property in its spec, create a\ndefault block after the code block, and move the cursor there.\n*/\nconst exitCode = (state, dispatch) => {\n    let { $head, $anchor } = state.selection;\n    if (!$head.parent.type.spec.code || !$head.sameParent($anchor))\n        return false;\n    let above = $head.node(-1), after = $head.indexAfter(-1), type = defaultBlockAt(above.contentMatchAt(after));\n    if (!type || !above.canReplaceWith(after, after, type))\n        return false;\n    if (dispatch) {\n        let pos = $head.after(), tr = state.tr.replaceWith(pos, pos, type.createAndFill());\n        tr.setSelection(Selection.near(tr.doc.resolve(pos), 1));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nIf a block node is selected, create an empty paragraph before (if\nit is its parent's first child) or after it.\n*/\nconst createParagraphNear = (state, dispatch) => {\n    let sel = state.selection, { $from, $to } = sel;\n    if (sel instanceof AllSelection || $from.parent.inlineContent || $to.parent.inlineContent)\n        return false;\n    let type = defaultBlockAt($to.parent.contentMatchAt($to.indexAfter()));\n    if (!type || !type.isTextblock)\n        return false;\n    if (dispatch) {\n        let side = (!$from.parentOffset && $to.index() < $to.parent.childCount ? $from : $to).pos;\n        let tr = state.tr.insert(side, type.createAndFill());\n        tr.setSelection(TextSelection.create(tr.doc, side + 1));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nIf the cursor is in an empty textblock that can be lifted, lift the\nblock.\n*/\nconst liftEmptyBlock = (state, dispatch) => {\n    let { $cursor } = state.selection;\n    if (!$cursor || $cursor.parent.content.size)\n        return false;\n    if ($cursor.depth > 1 && $cursor.after() != $cursor.end(-1)) {\n        let before = $cursor.before();\n        if (canSplit(state.doc, before)) {\n            if (dispatch)\n                dispatch(state.tr.split(before).scrollIntoView());\n            return true;\n        }\n    }\n    let range = $cursor.blockRange(), target = range && liftTarget(range);\n    if (target == null)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.lift(range, target).scrollIntoView());\n    return true;\n};\n/**\nSplit the parent block of the selection. If the selection is a text\nselection, also delete its content.\n*/\nconst splitBlock = (state, dispatch) => {\n    let { $from, $to } = state.selection;\n    if (state.selection instanceof NodeSelection && state.selection.node.isBlock) {\n        if (!$from.parentOffset || !canSplit(state.doc, $from.pos))\n            return false;\n        if (dispatch)\n            dispatch(state.tr.split($from.pos).scrollIntoView());\n        return true;\n    }\n    if (!$from.parent.isBlock)\n        return false;\n    if (dispatch) {\n        let atEnd = $to.parentOffset == $to.parent.content.size;\n        let tr = state.tr;\n        if (state.selection instanceof TextSelection || state.selection instanceof AllSelection)\n            tr.deleteSelection();\n        let deflt = $from.depth == 0 ? null : defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1)));\n        let types = atEnd && deflt ? [{ type: deflt }] : undefined;\n        let can = canSplit(tr.doc, tr.mapping.map($from.pos), 1, types);\n        if (!types && !can && canSplit(tr.doc, tr.mapping.map($from.pos), 1, deflt ? [{ type: deflt }] : undefined)) {\n            if (deflt)\n                types = [{ type: deflt }];\n            can = true;\n        }\n        if (can) {\n            tr.split(tr.mapping.map($from.pos), 1, types);\n            if (!atEnd && !$from.parentOffset && $from.parent.type != deflt) {\n                let first = tr.mapping.map($from.before()), $first = tr.doc.resolve(first);\n                if (deflt && $from.node(-1).canReplaceWith($first.index(), $first.index() + 1, deflt))\n                    tr.setNodeMarkup(tr.mapping.map($from.before()), deflt);\n            }\n        }\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nActs like [`splitBlock`](https://prosemirror.net/docs/ref/#commands.splitBlock), but without\nresetting the set of active marks at the cursor.\n*/\nconst splitBlockKeepMarks = (state, dispatch) => {\n    return splitBlock(state, dispatch && (tr => {\n        let marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks());\n        if (marks)\n            tr.ensureMarks(marks);\n        dispatch(tr);\n    }));\n};\n/**\nMove the selection to the node wrapping the current selection, if\nany. (Will not select the document node.)\n*/\nconst selectParentNode = (state, dispatch) => {\n    let { $from, to } = state.selection, pos;\n    let same = $from.sharedDepth(to);\n    if (same == 0)\n        return false;\n    pos = $from.before(same);\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, pos)));\n    return true;\n};\n/**\nSelect the whole document.\n*/\nconst selectAll = (state, dispatch) => {\n    if (dispatch)\n        dispatch(state.tr.setSelection(new AllSelection(state.doc)));\n    return true;\n};\nfunction joinMaybeClear(state, $pos, dispatch) {\n    let before = $pos.nodeBefore, after = $pos.nodeAfter, index = $pos.index();\n    if (!before || !after || !before.type.compatibleContent(after.type))\n        return false;\n    if (!before.content.size && $pos.parent.canReplace(index - 1, index)) {\n        if (dispatch)\n            dispatch(state.tr.delete($pos.pos - before.nodeSize, $pos.pos).scrollIntoView());\n        return true;\n    }\n    if (!$pos.parent.canReplace(index, index + 1) || !(after.isTextblock || canJoin(state.doc, $pos.pos)))\n        return false;\n    if (dispatch)\n        dispatch(state.tr\n            .clearIncompatible($pos.pos, before.type, before.contentMatchAt(before.childCount))\n            .join($pos.pos)\n            .scrollIntoView());\n    return true;\n}\nfunction deleteBarrier(state, $cut, dispatch) {\n    let before = $cut.nodeBefore, after = $cut.nodeAfter, conn, match;\n    if (before.type.spec.isolating || after.type.spec.isolating)\n        return false;\n    if (joinMaybeClear(state, $cut, dispatch))\n        return true;\n    let canDelAfter = $cut.parent.canReplace($cut.index(), $cut.index() + 1);\n    if (canDelAfter &&\n        (conn = (match = before.contentMatchAt(before.childCount)).findWrapping(after.type)) &&\n        match.matchType(conn[0] || after.type).validEnd) {\n        if (dispatch) {\n            let end = $cut.pos + after.nodeSize, wrap = Fragment.empty;\n            for (let i = conn.length - 1; i >= 0; i--)\n                wrap = Fragment.from(conn[i].create(null, wrap));\n            wrap = Fragment.from(before.copy(wrap));\n            let tr = state.tr.step(new ReplaceAroundStep($cut.pos - 1, end, $cut.pos, end, new Slice(wrap, 1, 0), conn.length, true));\n            let joinAt = end + 2 * conn.length;\n            if (canJoin(tr.doc, joinAt))\n                tr.join(joinAt);\n            dispatch(tr.scrollIntoView());\n        }\n        return true;\n    }\n    let selAfter = Selection.findFrom($cut, 1);\n    let range = selAfter && selAfter.$from.blockRange(selAfter.$to), target = range && liftTarget(range);\n    if (target != null && target >= $cut.depth) {\n        if (dispatch)\n            dispatch(state.tr.lift(range, target).scrollIntoView());\n        return true;\n    }\n    if (canDelAfter && textblockAt(after, \"start\", true) && textblockAt(before, \"end\")) {\n        let at = before, wrap = [];\n        for (;;) {\n            wrap.push(at);\n            if (at.isTextblock)\n                break;\n            at = at.lastChild;\n        }\n        let afterText = after, afterDepth = 1;\n        for (; !afterText.isTextblock; afterText = afterText.firstChild)\n            afterDepth++;\n        if (at.canReplace(at.childCount, at.childCount, afterText.content)) {\n            if (dispatch) {\n                let end = Fragment.empty;\n                for (let i = wrap.length - 1; i >= 0; i--)\n                    end = Fragment.from(wrap[i].copy(end));\n                let tr = state.tr.step(new ReplaceAroundStep($cut.pos - wrap.length, $cut.pos + after.nodeSize, $cut.pos + afterDepth, $cut.pos + after.nodeSize - afterDepth, new Slice(end, wrap.length, 0), 0, true));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction selectTextblockSide(side) {\n    return function (state, dispatch) {\n        let sel = state.selection, $pos = side < 0 ? sel.$from : sel.$to;\n        let depth = $pos.depth;\n        while ($pos.node(depth).isInline) {\n            if (!depth)\n                return false;\n            depth--;\n        }\n        if (!$pos.node(depth).isTextblock)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.setSelection(TextSelection.create(state.doc, side < 0 ? $pos.start(depth) : $pos.end(depth))));\n        return true;\n    };\n}\n/**\nMoves the cursor to the start of current text block.\n*/\nconst selectTextblockStart = selectTextblockSide(-1);\n/**\nMoves the cursor to the end of current text block.\n*/\nconst selectTextblockEnd = selectTextblockSide(1);\n// Parameterized commands\n/**\nWrap the selection in a node of the given type with the given\nattributes.\n*/\nfunction wrapIn(nodeType, attrs = null) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to), wrapping = range && findWrapping(range, nodeType, attrs);\n        if (!wrapping)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.wrap(range, wrapping).scrollIntoView());\n        return true;\n    };\n}\n/**\nReturns a command that tries to set the selected textblocks to the\ngiven node type with the given attributes.\n*/\nfunction setBlockType(nodeType, attrs = null) {\n    return function (state, dispatch) {\n        let { from, to } = state.selection;\n        let applicable = false;\n        state.doc.nodesBetween(from, to, (node, pos) => {\n            if (applicable)\n                return false;\n            if (!node.isTextblock || node.hasMarkup(nodeType, attrs))\n                return;\n            if (node.type == nodeType) {\n                applicable = true;\n            }\n            else {\n                let $pos = state.doc.resolve(pos), index = $pos.index();\n                applicable = $pos.parent.canReplaceWith(index, index + 1, nodeType);\n            }\n        });\n        if (!applicable)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.setBlockType(from, to, nodeType, attrs).scrollIntoView());\n        return true;\n    };\n}\nfunction markApplies(doc, ranges, type) {\n    for (let i = 0; i < ranges.length; i++) {\n        let { $from, $to } = ranges[i];\n        let can = $from.depth == 0 ? doc.type.allowsMarkType(type) : false;\n        doc.nodesBetween($from.pos, $to.pos, node => {\n            if (can)\n                return false;\n            can = node.inlineContent && node.type.allowsMarkType(type);\n        });\n        if (can)\n            return true;\n    }\n    return false;\n}\n/**\nCreate a command function that toggles the given mark with the\ngiven attributes. Will return `false` when the current selection\ndoesn't support that mark. This will remove the mark if any marks\nof that type exist in the selection, or add it otherwise. If the\nselection is empty, this applies to the [stored\nmarks](https://prosemirror.net/docs/ref/#state.EditorState.storedMarks) instead of a range of the\ndocument.\n*/\nfunction toggleMark(markType, attrs = null) {\n    return function (state, dispatch) {\n        let { empty, $cursor, ranges } = state.selection;\n        if ((empty && !$cursor) || !markApplies(state.doc, ranges, markType))\n            return false;\n        if (dispatch) {\n            if ($cursor) {\n                if (markType.isInSet(state.storedMarks || $cursor.marks()))\n                    dispatch(state.tr.removeStoredMark(markType));\n                else\n                    dispatch(state.tr.addStoredMark(markType.create(attrs)));\n            }\n            else {\n                let has = false, tr = state.tr;\n                for (let i = 0; !has && i < ranges.length; i++) {\n                    let { $from, $to } = ranges[i];\n                    has = state.doc.rangeHasMark($from.pos, $to.pos, markType);\n                }\n                for (let i = 0; i < ranges.length; i++) {\n                    let { $from, $to } = ranges[i];\n                    if (has) {\n                        tr.removeMark($from.pos, $to.pos, markType);\n                    }\n                    else {\n                        let from = $from.pos, to = $to.pos, start = $from.nodeAfter, end = $to.nodeBefore;\n                        let spaceStart = start && start.isText ? /^\\s*/.exec(start.text)[0].length : 0;\n                        let spaceEnd = end && end.isText ? /\\s*$/.exec(end.text)[0].length : 0;\n                        if (from + spaceStart < to) {\n                            from += spaceStart;\n                            to -= spaceEnd;\n                        }\n                        tr.addMark(from, to, markType.create(attrs));\n                    }\n                }\n                dispatch(tr.scrollIntoView());\n            }\n        }\n        return true;\n    };\n}\nfunction wrapDispatchForJoin(dispatch, isJoinable) {\n    return (tr) => {\n        if (!tr.isGeneric)\n            return dispatch(tr);\n        let ranges = [];\n        for (let i = 0; i < tr.mapping.maps.length; i++) {\n            let map = tr.mapping.maps[i];\n            for (let j = 0; j < ranges.length; j++)\n                ranges[j] = map.map(ranges[j]);\n            map.forEach((_s, _e, from, to) => ranges.push(from, to));\n        }\n        // Figure out which joinable points exist inside those ranges,\n        // by checking all node boundaries in their parent nodes.\n        let joinable = [];\n        for (let i = 0; i < ranges.length; i += 2) {\n            let from = ranges[i], to = ranges[i + 1];\n            let $from = tr.doc.resolve(from), depth = $from.sharedDepth(to), parent = $from.node(depth);\n            for (let index = $from.indexAfter(depth), pos = $from.after(depth + 1); pos <= to; ++index) {\n                let after = parent.maybeChild(index);\n                if (!after)\n                    break;\n                if (index && joinable.indexOf(pos) == -1) {\n                    let before = parent.child(index - 1);\n                    if (before.type == after.type && isJoinable(before, after))\n                        joinable.push(pos);\n                }\n                pos += after.nodeSize;\n            }\n        }\n        // Join the joinable points\n        joinable.sort((a, b) => a - b);\n        for (let i = joinable.length - 1; i >= 0; i--) {\n            if (canJoin(tr.doc, joinable[i]))\n                tr.join(joinable[i]);\n        }\n        dispatch(tr);\n    };\n}\n/**\nWrap a command so that, when it produces a transform that causes\ntwo joinable nodes to end up next to each other, those are joined.\nNodes are considered joinable when they are of the same type and\nwhen the `isJoinable` predicate returns true for them or, if an\narray of strings was passed, if their node type name is in that\narray.\n*/\nfunction autoJoin(command, isJoinable) {\n    let canJoin = Array.isArray(isJoinable) ? (node) => isJoinable.indexOf(node.type.name) > -1\n        : isJoinable;\n    return (state, dispatch, view) => command(state, dispatch && wrapDispatchForJoin(dispatch, canJoin), view);\n}\n/**\nCombine a number of command functions into a single function (which\ncalls them one by one until one returns true).\n*/\nfunction chainCommands(...commands) {\n    return function (state, dispatch, view) {\n        for (let i = 0; i < commands.length; i++)\n            if (commands[i](state, dispatch, view))\n                return true;\n        return false;\n    };\n}\nlet backspace = chainCommands(deleteSelection, joinBackward, selectNodeBackward);\nlet del = chainCommands(deleteSelection, joinForward, selectNodeForward);\n/**\nA basic keymap containing bindings not specific to any schema.\nBinds the following keys (when multiple commands are listed, they\nare chained with [`chainCommands`](https://prosemirror.net/docs/ref/#commands.chainCommands)):\n\n* **Enter** to `newlineInCode`, `createParagraphNear`, `liftEmptyBlock`, `splitBlock`\n* **Mod-Enter** to `exitCode`\n* **Backspace** and **Mod-Backspace** to `deleteSelection`, `joinBackward`, `selectNodeBackward`\n* **Delete** and **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n* **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n* **Mod-a** to `selectAll`\n*/\nconst pcBaseKeymap = {\n    \"Enter\": chainCommands(newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock),\n    \"Mod-Enter\": exitCode,\n    \"Backspace\": backspace,\n    \"Mod-Backspace\": backspace,\n    \"Shift-Backspace\": backspace,\n    \"Delete\": del,\n    \"Mod-Delete\": del,\n    \"Mod-a\": selectAll\n};\n/**\nA copy of `pcBaseKeymap` that also binds **Ctrl-h** like Backspace,\n**Ctrl-d** like Delete, **Alt-Backspace** like Ctrl-Backspace, and\n**Ctrl-Alt-Backspace**, **Alt-Delete**, and **Alt-d** like\nCtrl-Delete.\n*/\nconst macBaseKeymap = {\n    \"Ctrl-h\": pcBaseKeymap[\"Backspace\"],\n    \"Alt-Backspace\": pcBaseKeymap[\"Mod-Backspace\"],\n    \"Ctrl-d\": pcBaseKeymap[\"Delete\"],\n    \"Ctrl-Alt-Backspace\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Alt-Delete\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Alt-d\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Ctrl-a\": selectTextblockStart,\n    \"Ctrl-e\": selectTextblockEnd\n};\nfor (let key in pcBaseKeymap)\n    macBaseKeymap[key] = pcBaseKeymap[key];\nconst mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform)\n    // @ts-ignore\n    : typeof os != \"undefined\" && os.platform ? os.platform() == \"darwin\" : false;\n/**\nDepending on the detected platform, this will hold\n[`pcBasekeymap`](https://prosemirror.net/docs/ref/#commands.pcBaseKeymap) or\n[`macBaseKeymap`](https://prosemirror.net/docs/ref/#commands.macBaseKeymap).\n*/\nconst baseKeymap = mac ? macBaseKeymap : pcBaseKeymap;\n\nexport { autoJoin, baseKeymap, chainCommands, createParagraphNear, deleteSelection, exitCode, joinBackward, joinDown, joinForward, joinUp, lift, liftEmptyBlock, macBaseKeymap, newlineInCode, pcBaseKeymap, selectAll, selectNodeBackward, selectNodeForward, selectParentNode, selectTextblockEnd, selectTextblockStart, setBlockType, splitBlock, splitBlockKeepMarks, toggleMark, wrapIn };\n","import RopeSequence from 'rope-sequence';\nimport { Mapping } from 'prosemirror-transform';\nimport { PluginKey, Plugin } from 'prosemirror-state';\n\n// ProseMirror's history isn't simply a way to roll back to a previous\n// state, because ProseMirror supports applying changes without adding\n// them to the history (for example during collaboration).\n//\n// To this end, each 'Branch' (one for the undo history and one for\n// the redo history) keeps an array of 'Items', which can optionally\n// hold a step (an actual undoable change), and always hold a position\n// map (which is needed to move changes below them to apply to the\n// current document).\n//\n// An item that has both a step and a selection bookmark is the start\n// of an 'event' — a group of changes that will be undone or redone at\n// once. (It stores only the bookmark, since that way we don't have to\n// provide a document until the selection is actually applied, which\n// is useful when compressing.)\n// Used to schedule history compression\nconst max_empty_items = 500;\nclass Branch {\n    constructor(items, eventCount) {\n        this.items = items;\n        this.eventCount = eventCount;\n    }\n    // Pop the latest event off the branch's history and apply it\n    // to a document transform.\n    popEvent(state, preserveItems) {\n        if (this.eventCount == 0)\n            return null;\n        let end = this.items.length;\n        for (;; end--) {\n            let next = this.items.get(end - 1);\n            if (next.selection) {\n                --end;\n                break;\n            }\n        }\n        let remap, mapFrom;\n        if (preserveItems) {\n            remap = this.remapping(end, this.items.length);\n            mapFrom = remap.maps.length;\n        }\n        let transform = state.tr;\n        let selection, remaining;\n        let addAfter = [], addBefore = [];\n        this.items.forEach((item, i) => {\n            if (!item.step) {\n                if (!remap) {\n                    remap = this.remapping(end, i + 1);\n                    mapFrom = remap.maps.length;\n                }\n                mapFrom--;\n                addBefore.push(item);\n                return;\n            }\n            if (remap) {\n                addBefore.push(new Item(item.map));\n                let step = item.step.map(remap.slice(mapFrom)), map;\n                if (step && transform.maybeStep(step).doc) {\n                    map = transform.mapping.maps[transform.mapping.maps.length - 1];\n                    addAfter.push(new Item(map, undefined, undefined, addAfter.length + addBefore.length));\n                }\n                mapFrom--;\n                if (map)\n                    remap.appendMap(map, mapFrom);\n            }\n            else {\n                transform.maybeStep(item.step);\n            }\n            if (item.selection) {\n                selection = remap ? item.selection.map(remap.slice(mapFrom)) : item.selection;\n                remaining = new Branch(this.items.slice(0, end).append(addBefore.reverse().concat(addAfter)), this.eventCount - 1);\n                return false;\n            }\n        }, this.items.length, 0);\n        return { remaining: remaining, transform, selection: selection };\n    }\n    // Create a new branch with the given transform added.\n    addTransform(transform, selection, histOptions, preserveItems) {\n        let newItems = [], eventCount = this.eventCount;\n        let oldItems = this.items, lastItem = !preserveItems && oldItems.length ? oldItems.get(oldItems.length - 1) : null;\n        for (let i = 0; i < transform.steps.length; i++) {\n            let step = transform.steps[i].invert(transform.docs[i]);\n            let item = new Item(transform.mapping.maps[i], step, selection), merged;\n            if (merged = lastItem && lastItem.merge(item)) {\n                item = merged;\n                if (i)\n                    newItems.pop();\n                else\n                    oldItems = oldItems.slice(0, oldItems.length - 1);\n            }\n            newItems.push(item);\n            if (selection) {\n                eventCount++;\n                selection = undefined;\n            }\n            if (!preserveItems)\n                lastItem = item;\n        }\n        let overflow = eventCount - histOptions.depth;\n        if (overflow > DEPTH_OVERFLOW) {\n            oldItems = cutOffEvents(oldItems, overflow);\n            eventCount -= overflow;\n        }\n        return new Branch(oldItems.append(newItems), eventCount);\n    }\n    remapping(from, to) {\n        let maps = new Mapping;\n        this.items.forEach((item, i) => {\n            let mirrorPos = item.mirrorOffset != null && i - item.mirrorOffset >= from\n                ? maps.maps.length - item.mirrorOffset : undefined;\n            maps.appendMap(item.map, mirrorPos);\n        }, from, to);\n        return maps;\n    }\n    addMaps(array) {\n        if (this.eventCount == 0)\n            return this;\n        return new Branch(this.items.append(array.map(map => new Item(map))), this.eventCount);\n    }\n    // When the collab module receives remote changes, the history has\n    // to know about those, so that it can adjust the steps that were\n    // rebased on top of the remote changes, and include the position\n    // maps for the remote changes in its array of items.\n    rebased(rebasedTransform, rebasedCount) {\n        if (!this.eventCount)\n            return this;\n        let rebasedItems = [], start = Math.max(0, this.items.length - rebasedCount);\n        let mapping = rebasedTransform.mapping;\n        let newUntil = rebasedTransform.steps.length;\n        let eventCount = this.eventCount;\n        this.items.forEach(item => { if (item.selection)\n            eventCount--; }, start);\n        let iRebased = rebasedCount;\n        this.items.forEach(item => {\n            let pos = mapping.getMirror(--iRebased);\n            if (pos == null)\n                return;\n            newUntil = Math.min(newUntil, pos);\n            let map = mapping.maps[pos];\n            if (item.step) {\n                let step = rebasedTransform.steps[pos].invert(rebasedTransform.docs[pos]);\n                let selection = item.selection && item.selection.map(mapping.slice(iRebased + 1, pos));\n                if (selection)\n                    eventCount++;\n                rebasedItems.push(new Item(map, step, selection));\n            }\n            else {\n                rebasedItems.push(new Item(map));\n            }\n        }, start);\n        let newMaps = [];\n        for (let i = rebasedCount; i < newUntil; i++)\n            newMaps.push(new Item(mapping.maps[i]));\n        let items = this.items.slice(0, start).append(newMaps).append(rebasedItems);\n        let branch = new Branch(items, eventCount);\n        if (branch.emptyItemCount() > max_empty_items)\n            branch = branch.compress(this.items.length - rebasedItems.length);\n        return branch;\n    }\n    emptyItemCount() {\n        let count = 0;\n        this.items.forEach(item => { if (!item.step)\n            count++; });\n        return count;\n    }\n    // Compressing a branch means rewriting it to push the air (map-only\n    // items) out. During collaboration, these naturally accumulate\n    // because each remote change adds one. The `upto` argument is used\n    // to ensure that only the items below a given level are compressed,\n    // because `rebased` relies on a clean, untouched set of items in\n    // order to associate old items with rebased steps.\n    compress(upto = this.items.length) {\n        let remap = this.remapping(0, upto), mapFrom = remap.maps.length;\n        let items = [], events = 0;\n        this.items.forEach((item, i) => {\n            if (i >= upto) {\n                items.push(item);\n                if (item.selection)\n                    events++;\n            }\n            else if (item.step) {\n                let step = item.step.map(remap.slice(mapFrom)), map = step && step.getMap();\n                mapFrom--;\n                if (map)\n                    remap.appendMap(map, mapFrom);\n                if (step) {\n                    let selection = item.selection && item.selection.map(remap.slice(mapFrom));\n                    if (selection)\n                        events++;\n                    let newItem = new Item(map.invert(), step, selection), merged, last = items.length - 1;\n                    if (merged = items.length && items[last].merge(newItem))\n                        items[last] = merged;\n                    else\n                        items.push(newItem);\n                }\n            }\n            else if (item.map) {\n                mapFrom--;\n            }\n        }, this.items.length, 0);\n        return new Branch(RopeSequence.from(items.reverse()), events);\n    }\n}\nBranch.empty = new Branch(RopeSequence.empty, 0);\nfunction cutOffEvents(items, n) {\n    let cutPoint;\n    items.forEach((item, i) => {\n        if (item.selection && (n-- == 0)) {\n            cutPoint = i;\n            return false;\n        }\n    });\n    return items.slice(cutPoint);\n}\nclass Item {\n    constructor(\n    // The (forward) step map for this item.\n    map, \n    // The inverted step\n    step, \n    // If this is non-null, this item is the start of a group, and\n    // this selection is the starting selection for the group (the one\n    // that was active before the first step was applied)\n    selection, \n    // If this item is the inverse of a previous mapping on the stack,\n    // this points at the inverse's offset\n    mirrorOffset) {\n        this.map = map;\n        this.step = step;\n        this.selection = selection;\n        this.mirrorOffset = mirrorOffset;\n    }\n    merge(other) {\n        if (this.step && other.step && !other.selection) {\n            let step = other.step.merge(this.step);\n            if (step)\n                return new Item(step.getMap().invert(), step, this.selection);\n        }\n    }\n}\n// The value of the state field that tracks undo/redo history for that\n// state. Will be stored in the plugin state when the history plugin\n// is active.\nclass HistoryState {\n    constructor(done, undone, prevRanges, prevTime) {\n        this.done = done;\n        this.undone = undone;\n        this.prevRanges = prevRanges;\n        this.prevTime = prevTime;\n    }\n}\nconst DEPTH_OVERFLOW = 20;\n// Record a transformation in undo history.\nfunction applyTransaction(history, state, tr, options) {\n    let historyTr = tr.getMeta(historyKey), rebased;\n    if (historyTr)\n        return historyTr.historyState;\n    if (tr.getMeta(closeHistoryKey))\n        history = new HistoryState(history.done, history.undone, null, 0);\n    let appended = tr.getMeta(\"appendedTransaction\");\n    if (tr.steps.length == 0) {\n        return history;\n    }\n    else if (appended && appended.getMeta(historyKey)) {\n        if (appended.getMeta(historyKey).redo)\n            return new HistoryState(history.done.addTransform(tr, undefined, options, mustPreserveItems(state)), history.undone, rangesFor(tr.mapping.maps[tr.steps.length - 1]), history.prevTime);\n        else\n            return new HistoryState(history.done, history.undone.addTransform(tr, undefined, options, mustPreserveItems(state)), null, history.prevTime);\n    }\n    else if (tr.getMeta(\"addToHistory\") !== false && !(appended && appended.getMeta(\"addToHistory\") === false)) {\n        // Group transforms that occur in quick succession into one event.\n        let newGroup = history.prevTime == 0 || !appended && (history.prevTime < (tr.time || 0) - options.newGroupDelay ||\n            !isAdjacentTo(tr, history.prevRanges));\n        let prevRanges = appended ? mapRanges(history.prevRanges, tr.mapping) : rangesFor(tr.mapping.maps[tr.steps.length - 1]);\n        return new HistoryState(history.done.addTransform(tr, newGroup ? state.selection.getBookmark() : undefined, options, mustPreserveItems(state)), Branch.empty, prevRanges, tr.time);\n    }\n    else if (rebased = tr.getMeta(\"rebased\")) {\n        // Used by the collab module to tell the history that some of its\n        // content has been rebased.\n        return new HistoryState(history.done.rebased(tr, rebased), history.undone.rebased(tr, rebased), mapRanges(history.prevRanges, tr.mapping), history.prevTime);\n    }\n    else {\n        return new HistoryState(history.done.addMaps(tr.mapping.maps), history.undone.addMaps(tr.mapping.maps), mapRanges(history.prevRanges, tr.mapping), history.prevTime);\n    }\n}\nfunction isAdjacentTo(transform, prevRanges) {\n    if (!prevRanges)\n        return false;\n    if (!transform.docChanged)\n        return true;\n    let adjacent = false;\n    transform.mapping.maps[0].forEach((start, end) => {\n        for (let i = 0; i < prevRanges.length; i += 2)\n            if (start <= prevRanges[i + 1] && end >= prevRanges[i])\n                adjacent = true;\n    });\n    return adjacent;\n}\nfunction rangesFor(map) {\n    let result = [];\n    map.forEach((_from, _to, from, to) => result.push(from, to));\n    return result;\n}\nfunction mapRanges(ranges, mapping) {\n    if (!ranges)\n        return null;\n    let result = [];\n    for (let i = 0; i < ranges.length; i += 2) {\n        let from = mapping.map(ranges[i], 1), to = mapping.map(ranges[i + 1], -1);\n        if (from <= to)\n            result.push(from, to);\n    }\n    return result;\n}\n// Apply the latest event from one branch to the document and shift the event\n// onto the other branch.\nfunction histTransaction(history, state, dispatch, redo) {\n    let preserveItems = mustPreserveItems(state);\n    let histOptions = historyKey.get(state).spec.config;\n    let pop = (redo ? history.undone : history.done).popEvent(state, preserveItems);\n    if (!pop)\n        return;\n    let selection = pop.selection.resolve(pop.transform.doc);\n    let added = (redo ? history.done : history.undone).addTransform(pop.transform, state.selection.getBookmark(), histOptions, preserveItems);\n    let newHist = new HistoryState(redo ? added : pop.remaining, redo ? pop.remaining : added, null, 0);\n    dispatch(pop.transform.setSelection(selection).setMeta(historyKey, { redo, historyState: newHist }).scrollIntoView());\n}\nlet cachedPreserveItems = false, cachedPreserveItemsPlugins = null;\n// Check whether any plugin in the given state has a\n// `historyPreserveItems` property in its spec, in which case we must\n// preserve steps exactly as they came in, so that they can be\n// rebased.\nfunction mustPreserveItems(state) {\n    let plugins = state.plugins;\n    if (cachedPreserveItemsPlugins != plugins) {\n        cachedPreserveItems = false;\n        cachedPreserveItemsPlugins = plugins;\n        for (let i = 0; i < plugins.length; i++)\n            if (plugins[i].spec.historyPreserveItems) {\n                cachedPreserveItems = true;\n                break;\n            }\n    }\n    return cachedPreserveItems;\n}\n/**\nSet a flag on the given transaction that will prevent further steps\nfrom being appended to an existing history event (so that they\nrequire a separate undo command to undo).\n*/\nfunction closeHistory(tr) {\n    return tr.setMeta(closeHistoryKey, true);\n}\nconst historyKey = new PluginKey(\"history\");\nconst closeHistoryKey = new PluginKey(\"closeHistory\");\n/**\nReturns a plugin that enables the undo history for an editor. The\nplugin will track undo and redo stacks, which can be used with the\n[`undo`](https://prosemirror.net/docs/ref/#history.undo) and [`redo`](https://prosemirror.net/docs/ref/#history.redo) commands.\n\nYou can set an `\"addToHistory\"` [metadata\nproperty](https://prosemirror.net/docs/ref/#state.Transaction.setMeta) of `false` on a transaction\nto prevent it from being rolled back by undo.\n*/\nfunction history(config = {}) {\n    config = { depth: config.depth || 100,\n        newGroupDelay: config.newGroupDelay || 500 };\n    return new Plugin({\n        key: historyKey,\n        state: {\n            init() {\n                return new HistoryState(Branch.empty, Branch.empty, null, 0);\n            },\n            apply(tr, hist, state) {\n                return applyTransaction(hist, state, tr, config);\n            }\n        },\n        config,\n        props: {\n            handleDOMEvents: {\n                beforeinput(view, e) {\n                    let inputType = e.inputType;\n                    let command = inputType == \"historyUndo\" ? undo : inputType == \"historyRedo\" ? redo : null;\n                    if (!command)\n                        return false;\n                    e.preventDefault();\n                    return command(view.state, view.dispatch);\n                }\n            }\n        }\n    });\n}\n/**\nA command function that undoes the last change, if any.\n*/\nconst undo = (state, dispatch) => {\n    let hist = historyKey.getState(state);\n    if (!hist || hist.done.eventCount == 0)\n        return false;\n    if (dispatch)\n        histTransaction(hist, state, dispatch, false);\n    return true;\n};\n/**\nA command function that redoes the last undone change, if any.\n*/\nconst redo = (state, dispatch) => {\n    let hist = historyKey.getState(state);\n    if (!hist || hist.undone.eventCount == 0)\n        return false;\n    if (dispatch)\n        histTransaction(hist, state, dispatch, true);\n    return true;\n};\n/**\nThe amount of undoable events available in a given state.\n*/\nfunction undoDepth(state) {\n    let hist = historyKey.getState(state);\n    return hist ? hist.done.eventCount : 0;\n}\n/**\nThe amount of redoable events available in a given editor state.\n*/\nfunction redoDepth(state) {\n    let hist = historyKey.getState(state);\n    return hist ? hist.undone.eventCount : 0;\n}\n\nexport { closeHistory, history, redo, redoDepth, undo, undoDepth };\n","import { Plugin } from 'prosemirror-state';\nimport { findWrapping, canJoin } from 'prosemirror-transform';\n\n/**\nInput rules are regular expressions describing a piece of text\nthat, when typed, causes something to happen. This might be\nchanging two dashes into an emdash, wrapping a paragraph starting\nwith `\"> \"` into a blockquote, or something entirely different.\n*/\nclass InputRule {\n    // :: (RegExp, union<string, (state: EditorState, match: [string], start: number, end: number) → ?Transaction>)\n    /**\n    Create an input rule. The rule applies when the user typed\n    something and the text directly in front of the cursor matches\n    `match`, which should end with `$`.\n    \n    The `handler` can be a string, in which case the matched text, or\n    the first matched group in the regexp, is replaced by that\n    string.\n    \n    Or a it can be a function, which will be called with the match\n    array produced by\n    [`RegExp.exec`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec),\n    as well as the start and end of the matched range, and which can\n    return a [transaction](https://prosemirror.net/docs/ref/#state.Transaction) that describes the\n    rule's effect, or null to indicate the input was not handled.\n    */\n    constructor(\n    /**\n    @internal\n    */\n    match, handler) {\n        this.match = match;\n        this.match = match;\n        this.handler = typeof handler == \"string\" ? stringHandler(handler) : handler;\n    }\n}\nfunction stringHandler(string) {\n    return function (state, match, start, end) {\n        let insert = string;\n        if (match[1]) {\n            let offset = match[0].lastIndexOf(match[1]);\n            insert += match[0].slice(offset + match[1].length);\n            start += offset;\n            let cutOff = start - end;\n            if (cutOff > 0) {\n                insert = match[0].slice(offset - cutOff, offset) + insert;\n                start = end;\n            }\n        }\n        return state.tr.insertText(insert, start, end);\n    };\n}\nconst MAX_MATCH = 500;\n/**\nCreate an input rules plugin. When enabled, it will cause text\ninput that matches any of the given rules to trigger the rule's\naction.\n*/\nfunction inputRules({ rules }) {\n    let plugin = new Plugin({\n        state: {\n            init() { return null; },\n            apply(tr, prev) {\n                let stored = tr.getMeta(this);\n                if (stored)\n                    return stored;\n                return tr.selectionSet || tr.docChanged ? null : prev;\n            }\n        },\n        props: {\n            handleTextInput(view, from, to, text) {\n                return run(view, from, to, text, rules, plugin);\n            },\n            handleDOMEvents: {\n                compositionend: (view) => {\n                    setTimeout(() => {\n                        let { $cursor } = view.state.selection;\n                        if ($cursor)\n                            run(view, $cursor.pos, $cursor.pos, \"\", rules, plugin);\n                    });\n                }\n            }\n        },\n        isInputRules: true\n    });\n    return plugin;\n}\nfunction run(view, from, to, text, rules, plugin) {\n    if (view.composing)\n        return false;\n    let state = view.state, $from = state.doc.resolve(from);\n    if ($from.parent.type.spec.code)\n        return false;\n    let textBefore = $from.parent.textBetween(Math.max(0, $from.parentOffset - MAX_MATCH), $from.parentOffset, null, \"\\ufffc\") + text;\n    for (let i = 0; i < rules.length; i++) {\n        let match = rules[i].match.exec(textBefore);\n        let tr = match && rules[i].handler(state, match, from - (match[0].length - text.length), to);\n        if (!tr)\n            continue;\n        view.dispatch(tr.setMeta(plugin, { transform: tr, from, to, text }));\n        return true;\n    }\n    return false;\n}\n/**\nThis is a command that will undo an input rule, if applying such a\nrule was the last thing that the user did.\n*/\nconst undoInputRule = (state, dispatch) => {\n    let plugins = state.plugins;\n    for (let i = 0; i < plugins.length; i++) {\n        let plugin = plugins[i], undoable;\n        if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {\n            if (dispatch) {\n                let tr = state.tr, toUndo = undoable.transform;\n                for (let j = toUndo.steps.length - 1; j >= 0; j--)\n                    tr.step(toUndo.steps[j].invert(toUndo.docs[j]));\n                if (undoable.text) {\n                    let marks = tr.doc.resolve(undoable.from).marks();\n                    tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks));\n                }\n                else {\n                    tr.delete(undoable.from, undoable.to);\n                }\n                dispatch(tr);\n            }\n            return true;\n        }\n    }\n    return false;\n};\n\n/**\nConverts double dashes to an emdash.\n*/\nconst emDash = new InputRule(/--$/, \"—\");\n/**\nConverts three dots to an ellipsis character.\n*/\nconst ellipsis = new InputRule(/\\.\\.\\.$/, \"…\");\n/**\n“Smart” opening double quotes.\n*/\nconst openDoubleQuote = new InputRule(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(\")$/, \"“\");\n/**\n“Smart” closing double quotes.\n*/\nconst closeDoubleQuote = new InputRule(/\"$/, \"”\");\n/**\n“Smart” opening single quotes.\n*/\nconst openSingleQuote = new InputRule(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(')$/, \"‘\");\n/**\n“Smart” closing single quotes.\n*/\nconst closeSingleQuote = new InputRule(/'$/, \"’\");\n/**\nSmart-quote related input rules.\n*/\nconst smartQuotes = [openDoubleQuote, closeDoubleQuote, openSingleQuote, closeSingleQuote];\n\n/**\nBuild an input rule for automatically wrapping a textblock when a\ngiven string is typed. The `regexp` argument is\ndirectly passed through to the `InputRule` constructor. You'll\nprobably want the regexp to start with `^`, so that the pattern can\nonly occur at the start of a textblock.\n\n`nodeType` is the type of node to wrap in. If it needs attributes,\nyou can either pass them directly, or pass a function that will\ncompute them from the regular expression match.\n\nBy default, if there's a node with the same type above the newly\nwrapped node, the rule will try to [join](https://prosemirror.net/docs/ref/#transform.Transform.join) those\ntwo nodes. You can pass a join predicate, which takes a regular\nexpression match and the node before the wrapped node, and can\nreturn a boolean to indicate whether a join should happen.\n*/\nfunction wrappingInputRule(regexp, nodeType, getAttrs = null, joinPredicate) {\n    return new InputRule(regexp, (state, match, start, end) => {\n        let attrs = getAttrs instanceof Function ? getAttrs(match) : getAttrs;\n        let tr = state.tr.delete(start, end);\n        let $start = tr.doc.resolve(start), range = $start.blockRange(), wrapping = range && findWrapping(range, nodeType, attrs);\n        if (!wrapping)\n            return null;\n        tr.wrap(range, wrapping);\n        let before = tr.doc.resolve(start - 1).nodeBefore;\n        if (before && before.type == nodeType && canJoin(tr.doc, start - 1) &&\n            (!joinPredicate || joinPredicate(match, before)))\n            tr.join(start - 1);\n        return tr;\n    });\n}\n/**\nBuild an input rule that changes the type of a textblock when the\nmatched text is typed into it. You'll usually want to start your\nregexp with `^` to that it is only matched at the start of a\ntextblock. The optional `getAttrs` parameter can be used to compute\nthe new node's attributes, and works the same as in the\n`wrappingInputRule` function.\n*/\nfunction textblockTypeInputRule(regexp, nodeType, getAttrs = null) {\n    return new InputRule(regexp, (state, match, start, end) => {\n        let $start = state.doc.resolve(start);\n        let attrs = getAttrs instanceof Function ? getAttrs(match) : getAttrs;\n        if (!$start.node(-1).canReplaceWith($start.index(-1), $start.indexAfter(-1), nodeType))\n            return null;\n        return state.tr\n            .delete(start, end)\n            .setBlockType(start, start, nodeType, attrs);\n    });\n}\n\nexport { InputRule, closeDoubleQuote, closeSingleQuote, ellipsis, emDash, inputRules, openDoubleQuote, openSingleQuote, smartQuotes, textblockTypeInputRule, undoInputRule, wrappingInputRule };\n","import { keyName, base } from 'w3c-keyname';\nimport { Plugin } from 'prosemirror-state';\n\nconst mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : false;\nfunction normalizeKeyName(name) {\n    let parts = name.split(/-(?!$)/), result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; i++) {\n        let mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (mac)\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction normalize(map) {\n    let copy = Object.create(null);\n    for (let prop in map)\n        copy[normalizeKeyName(prop)] = map[prop];\n    return copy;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\n/**\nCreate a keymap plugin for the given set of bindings.\n\nBindings should map key names to [command](https://prosemirror.net/docs/ref/#commands)-style\nfunctions, which will be called with `(EditorState, dispatch,\nEditorView)` arguments, and should return true when they've handled\nthe key. Note that the view argument isn't part of the command\nprotocol, but can be used as an escape hatch if a binding needs to\ndirectly interact with the UI.\n\nKey names may be strings like `\"Shift-Ctrl-Enter\"`—a key\nidentifier prefixed with zero or more modifiers. Key identifiers\nare based on the strings that can appear in\n[`KeyEvent.key`](https:developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key).\nUse lowercase letters to refer to letter keys (or uppercase letters\nif you want shift to be held). You may use `\"Space\"` as an alias\nfor the `\" \"` name.\n\nModifiers can be given in any order. `Shift-` (or `s-`), `Alt-` (or\n`a-`), `Ctrl-` (or `c-` or `Control-`) and `Cmd-` (or `m-` or\n`Meta-`) are recognized. For characters that are created by holding\nshift, the `Shift-` prefix is implied, and should not be added\nexplicitly.\n\nYou can use `Mod-` as a shorthand for `Cmd-` on Mac and `Ctrl-` on\nother platforms.\n\nYou can add multiple keymap plugins to an editor. The order in\nwhich they appear determines their precedence (the ones early in\nthe array get to dispatch first).\n*/\nfunction keymap(bindings) {\n    return new Plugin({ props: { handleKeyDown: keydownHandler(bindings) } });\n}\n/**\nGiven a set of bindings (using the same format as\n[`keymap`](https://prosemirror.net/docs/ref/#keymap.keymap)), return a [keydown\nhandler](https://prosemirror.net/docs/ref/#view.EditorProps.handleKeyDown) that handles them.\n*/\nfunction keydownHandler(bindings) {\n    let map = normalize(bindings);\n    return function (view, event) {\n        let name = keyName(event), isChar = name.length == 1 && name != \" \", baseName;\n        let direct = map[modifiers(name, event, !isChar)];\n        if (direct && direct(view.state, view.dispatch, view))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey || name.charCodeAt(0) > 127) &&\n            (baseName = base[event.keyCode]) && baseName != name) {\n            // Try falling back to the keyCode when there's a modifier\n            // active or the character produced isn't ASCII, and our table\n            // produces a different name from the the keyCode. See #668,\n            // #1060\n            let fromCode = map[modifiers(baseName, event, true)];\n            if (fromCode && fromCode(view.state, view.dispatch, view))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            // Otherwise, if shift is active, also try the binding with the\n            // Shift- prefix enabled. See #997\n            let withShift = map[modifiers(name, event, true)];\n            if (withShift && withShift(view.state, view.dispatch, view))\n                return true;\n        }\n        return false;\n    };\n}\n\nexport { keydownHandler, keymap };\n","import OrderedMap from 'orderedmap';\n\nfunction findDiffStart(a, b, pos) {\n    for (let i = 0;; i++) {\n        if (i == a.childCount || i == b.childCount)\n            return a.childCount == b.childCount ? null : pos;\n        let childA = a.child(i), childB = b.child(i);\n        if (childA == childB) {\n            pos += childA.nodeSize;\n            continue;\n        }\n        if (!childA.sameMarkup(childB))\n            return pos;\n        if (childA.isText && childA.text != childB.text) {\n            for (let j = 0; childA.text[j] == childB.text[j]; j++)\n                pos++;\n            return pos;\n        }\n        if (childA.content.size || childB.content.size) {\n            let inner = findDiffStart(childA.content, childB.content, pos + 1);\n            if (inner != null)\n                return inner;\n        }\n        pos += childA.nodeSize;\n    }\n}\nfunction findDiffEnd(a, b, posA, posB) {\n    for (let iA = a.childCount, iB = b.childCount;;) {\n        if (iA == 0 || iB == 0)\n            return iA == iB ? null : { a: posA, b: posB };\n        let childA = a.child(--iA), childB = b.child(--iB), size = childA.nodeSize;\n        if (childA == childB) {\n            posA -= size;\n            posB -= size;\n            continue;\n        }\n        if (!childA.sameMarkup(childB))\n            return { a: posA, b: posB };\n        if (childA.isText && childA.text != childB.text) {\n            let same = 0, minSize = Math.min(childA.text.length, childB.text.length);\n            while (same < minSize && childA.text[childA.text.length - same - 1] == childB.text[childB.text.length - same - 1]) {\n                same++;\n                posA--;\n                posB--;\n            }\n            return { a: posA, b: posB };\n        }\n        if (childA.content.size || childB.content.size) {\n            let inner = findDiffEnd(childA.content, childB.content, posA - 1, posB - 1);\n            if (inner)\n                return inner;\n        }\n        posA -= size;\n        posB -= size;\n    }\n}\n\n/**\nA fragment represents a node's collection of child nodes.\n\nLike nodes, fragments are persistent data structures, and you\nshould not mutate them or their content. Rather, you create new\ninstances whenever needed. The API tries to make this easy.\n*/\nclass Fragment {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    content, size) {\n        this.content = content;\n        this.size = size || 0;\n        if (size == null)\n            for (let i = 0; i < content.length; i++)\n                this.size += content[i].nodeSize;\n    }\n    /**\n    Invoke a callback for all descendant nodes between the given two\n    positions (relative to start of this fragment). Doesn't descend\n    into a node when the callback returns `false`.\n    */\n    nodesBetween(from, to, f, nodeStart = 0, parent) {\n        for (let i = 0, pos = 0; pos < to; i++) {\n            let child = this.content[i], end = pos + child.nodeSize;\n            if (end > from && f(child, nodeStart + pos, parent || null, i) !== false && child.content.size) {\n                let start = pos + 1;\n                child.nodesBetween(Math.max(0, from - start), Math.min(child.content.size, to - start), f, nodeStart + start);\n            }\n            pos = end;\n        }\n    }\n    /**\n    Call the given callback for every descendant node. `pos` will be\n    relative to the start of the fragment. The callback may return\n    `false` to prevent traversal of a given node's children.\n    */\n    descendants(f) {\n        this.nodesBetween(0, this.size, f);\n    }\n    /**\n    Extract the text between `from` and `to`. See the same method on\n    [`Node`](https://prosemirror.net/docs/ref/#model.Node.textBetween).\n    */\n    textBetween(from, to, blockSeparator, leafText) {\n        let text = \"\", separated = true;\n        this.nodesBetween(from, to, (node, pos) => {\n            if (node.isText) {\n                text += node.text.slice(Math.max(from, pos) - pos, to - pos);\n                separated = !blockSeparator;\n            }\n            else if (node.isLeaf) {\n                if (leafText) {\n                    text += typeof leafText === \"function\" ? leafText(node) : leafText;\n                }\n                else if (node.type.spec.leafText) {\n                    text += node.type.spec.leafText(node);\n                }\n                separated = !blockSeparator;\n            }\n            else if (!separated && node.isBlock) {\n                text += blockSeparator;\n                separated = true;\n            }\n        }, 0);\n        return text;\n    }\n    /**\n    Create a new fragment containing the combined content of this\n    fragment and the other.\n    */\n    append(other) {\n        if (!other.size)\n            return this;\n        if (!this.size)\n            return other;\n        let last = this.lastChild, first = other.firstChild, content = this.content.slice(), i = 0;\n        if (last.isText && last.sameMarkup(first)) {\n            content[content.length - 1] = last.withText(last.text + first.text);\n            i = 1;\n        }\n        for (; i < other.content.length; i++)\n            content.push(other.content[i]);\n        return new Fragment(content, this.size + other.size);\n    }\n    /**\n    Cut out the sub-fragment between the two given positions.\n    */\n    cut(from, to = this.size) {\n        if (from == 0 && to == this.size)\n            return this;\n        let result = [], size = 0;\n        if (to > from)\n            for (let i = 0, pos = 0; pos < to; i++) {\n                let child = this.content[i], end = pos + child.nodeSize;\n                if (end > from) {\n                    if (pos < from || end > to) {\n                        if (child.isText)\n                            child = child.cut(Math.max(0, from - pos), Math.min(child.text.length, to - pos));\n                        else\n                            child = child.cut(Math.max(0, from - pos - 1), Math.min(child.content.size, to - pos - 1));\n                    }\n                    result.push(child);\n                    size += child.nodeSize;\n                }\n                pos = end;\n            }\n        return new Fragment(result, size);\n    }\n    /**\n    @internal\n    */\n    cutByIndex(from, to) {\n        if (from == to)\n            return Fragment.empty;\n        if (from == 0 && to == this.content.length)\n            return this;\n        return new Fragment(this.content.slice(from, to));\n    }\n    /**\n    Create a new fragment in which the node at the given index is\n    replaced by the given node.\n    */\n    replaceChild(index, node) {\n        let current = this.content[index];\n        if (current == node)\n            return this;\n        let copy = this.content.slice();\n        let size = this.size + node.nodeSize - current.nodeSize;\n        copy[index] = node;\n        return new Fragment(copy, size);\n    }\n    /**\n    Create a new fragment by prepending the given node to this\n    fragment.\n    */\n    addToStart(node) {\n        return new Fragment([node].concat(this.content), this.size + node.nodeSize);\n    }\n    /**\n    Create a new fragment by appending the given node to this\n    fragment.\n    */\n    addToEnd(node) {\n        return new Fragment(this.content.concat(node), this.size + node.nodeSize);\n    }\n    /**\n    Compare this fragment to another one.\n    */\n    eq(other) {\n        if (this.content.length != other.content.length)\n            return false;\n        for (let i = 0; i < this.content.length; i++)\n            if (!this.content[i].eq(other.content[i]))\n                return false;\n        return true;\n    }\n    /**\n    The first child of the fragment, or `null` if it is empty.\n    */\n    get firstChild() { return this.content.length ? this.content[0] : null; }\n    /**\n    The last child of the fragment, or `null` if it is empty.\n    */\n    get lastChild() { return this.content.length ? this.content[this.content.length - 1] : null; }\n    /**\n    The number of child nodes in this fragment.\n    */\n    get childCount() { return this.content.length; }\n    /**\n    Get the child node at the given index. Raise an error when the\n    index is out of range.\n    */\n    child(index) {\n        let found = this.content[index];\n        if (!found)\n            throw new RangeError(\"Index \" + index + \" out of range for \" + this);\n        return found;\n    }\n    /**\n    Get the child node at the given index, if it exists.\n    */\n    maybeChild(index) {\n        return this.content[index] || null;\n    }\n    /**\n    Call `f` for every child node, passing the node, its offset\n    into this parent node, and its index.\n    */\n    forEach(f) {\n        for (let i = 0, p = 0; i < this.content.length; i++) {\n            let child = this.content[i];\n            f(child, p, i);\n            p += child.nodeSize;\n        }\n    }\n    /**\n    Find the first position at which this fragment and another\n    fragment differ, or `null` if they are the same.\n    */\n    findDiffStart(other, pos = 0) {\n        return findDiffStart(this, other, pos);\n    }\n    /**\n    Find the first position, searching from the end, at which this\n    fragment and the given fragment differ, or `null` if they are\n    the same. Since this position will not be the same in both\n    nodes, an object with two separate positions is returned.\n    */\n    findDiffEnd(other, pos = this.size, otherPos = other.size) {\n        return findDiffEnd(this, other, pos, otherPos);\n    }\n    /**\n    Find the index and inner offset corresponding to a given relative\n    position in this fragment. The result object will be reused\n    (overwritten) the next time the function is called. (Not public.)\n    */\n    findIndex(pos, round = -1) {\n        if (pos == 0)\n            return retIndex(0, pos);\n        if (pos == this.size)\n            return retIndex(this.content.length, pos);\n        if (pos > this.size || pos < 0)\n            throw new RangeError(`Position ${pos} outside of fragment (${this})`);\n        for (let i = 0, curPos = 0;; i++) {\n            let cur = this.child(i), end = curPos + cur.nodeSize;\n            if (end >= pos) {\n                if (end == pos || round > 0)\n                    return retIndex(i + 1, end);\n                return retIndex(i, curPos);\n            }\n            curPos = end;\n        }\n    }\n    /**\n    Return a debugging string that describes this fragment.\n    */\n    toString() { return \"<\" + this.toStringInner() + \">\"; }\n    /**\n    @internal\n    */\n    toStringInner() { return this.content.join(\", \"); }\n    /**\n    Create a JSON-serializeable representation of this fragment.\n    */\n    toJSON() {\n        return this.content.length ? this.content.map(n => n.toJSON()) : null;\n    }\n    /**\n    Deserialize a fragment from its JSON representation.\n    */\n    static fromJSON(schema, value) {\n        if (!value)\n            return Fragment.empty;\n        if (!Array.isArray(value))\n            throw new RangeError(\"Invalid input for Fragment.fromJSON\");\n        return new Fragment(value.map(schema.nodeFromJSON));\n    }\n    /**\n    Build a fragment from an array of nodes. Ensures that adjacent\n    text nodes with the same marks are joined together.\n    */\n    static fromArray(array) {\n        if (!array.length)\n            return Fragment.empty;\n        let joined, size = 0;\n        for (let i = 0; i < array.length; i++) {\n            let node = array[i];\n            size += node.nodeSize;\n            if (i && node.isText && array[i - 1].sameMarkup(node)) {\n                if (!joined)\n                    joined = array.slice(0, i);\n                joined[joined.length - 1] = node\n                    .withText(joined[joined.length - 1].text + node.text);\n            }\n            else if (joined) {\n                joined.push(node);\n            }\n        }\n        return new Fragment(joined || array, size);\n    }\n    /**\n    Create a fragment from something that can be interpreted as a\n    set of nodes. For `null`, it returns the empty fragment. For a\n    fragment, the fragment itself. For a node or array of nodes, a\n    fragment containing those nodes.\n    */\n    static from(nodes) {\n        if (!nodes)\n            return Fragment.empty;\n        if (nodes instanceof Fragment)\n            return nodes;\n        if (Array.isArray(nodes))\n            return this.fromArray(nodes);\n        if (nodes.attrs)\n            return new Fragment([nodes], nodes.nodeSize);\n        throw new RangeError(\"Can not convert \" + nodes + \" to a Fragment\" +\n            (nodes.nodesBetween ? \" (looks like multiple versions of prosemirror-model were loaded)\" : \"\"));\n    }\n}\n/**\nAn empty fragment. Intended to be reused whenever a node doesn't\ncontain anything (rather than allocating a new empty fragment for\neach leaf node).\n*/\nFragment.empty = new Fragment([], 0);\nconst found = { index: 0, offset: 0 };\nfunction retIndex(index, offset) {\n    found.index = index;\n    found.offset = offset;\n    return found;\n}\n\nfunction compareDeep(a, b) {\n    if (a === b)\n        return true;\n    if (!(a && typeof a == \"object\") ||\n        !(b && typeof b == \"object\"))\n        return false;\n    let array = Array.isArray(a);\n    if (Array.isArray(b) != array)\n        return false;\n    if (array) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++)\n            if (!compareDeep(a[i], b[i]))\n                return false;\n    }\n    else {\n        for (let p in a)\n            if (!(p in b) || !compareDeep(a[p], b[p]))\n                return false;\n        for (let p in b)\n            if (!(p in a))\n                return false;\n    }\n    return true;\n}\n\n/**\nA mark is a piece of information that can be attached to a node,\nsuch as it being emphasized, in code font, or a link. It has a\ntype and optionally a set of attributes that provide further\ninformation (such as the target of the link). Marks are created\nthrough a `Schema`, which controls which types exist and which\nattributes they have.\n*/\nclass Mark {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The type of this mark.\n    */\n    type, \n    /**\n    The attributes associated with this mark.\n    */\n    attrs) {\n        this.type = type;\n        this.attrs = attrs;\n    }\n    /**\n    Given a set of marks, create a new set which contains this one as\n    well, in the right position. If this mark is already in the set,\n    the set itself is returned. If any marks that are set to be\n    [exclusive](https://prosemirror.net/docs/ref/#model.MarkSpec.excludes) with this mark are present,\n    those are replaced by this one.\n    */\n    addToSet(set) {\n        let copy, placed = false;\n        for (let i = 0; i < set.length; i++) {\n            let other = set[i];\n            if (this.eq(other))\n                return set;\n            if (this.type.excludes(other.type)) {\n                if (!copy)\n                    copy = set.slice(0, i);\n            }\n            else if (other.type.excludes(this.type)) {\n                return set;\n            }\n            else {\n                if (!placed && other.type.rank > this.type.rank) {\n                    if (!copy)\n                        copy = set.slice(0, i);\n                    copy.push(this);\n                    placed = true;\n                }\n                if (copy)\n                    copy.push(other);\n            }\n        }\n        if (!copy)\n            copy = set.slice();\n        if (!placed)\n            copy.push(this);\n        return copy;\n    }\n    /**\n    Remove this mark from the given set, returning a new set. If this\n    mark is not in the set, the set itself is returned.\n    */\n    removeFromSet(set) {\n        for (let i = 0; i < set.length; i++)\n            if (this.eq(set[i]))\n                return set.slice(0, i).concat(set.slice(i + 1));\n        return set;\n    }\n    /**\n    Test whether this mark is in the given set of marks.\n    */\n    isInSet(set) {\n        for (let i = 0; i < set.length; i++)\n            if (this.eq(set[i]))\n                return true;\n        return false;\n    }\n    /**\n    Test whether this mark has the same type and attributes as\n    another mark.\n    */\n    eq(other) {\n        return this == other ||\n            (this.type == other.type && compareDeep(this.attrs, other.attrs));\n    }\n    /**\n    Convert this mark to a JSON-serializeable representation.\n    */\n    toJSON() {\n        let obj = { type: this.type.name };\n        for (let _ in this.attrs) {\n            obj.attrs = this.attrs;\n            break;\n        }\n        return obj;\n    }\n    /**\n    Deserialize a mark from JSON.\n    */\n    static fromJSON(schema, json) {\n        if (!json)\n            throw new RangeError(\"Invalid input for Mark.fromJSON\");\n        let type = schema.marks[json.type];\n        if (!type)\n            throw new RangeError(`There is no mark type ${json.type} in this schema`);\n        return type.create(json.attrs);\n    }\n    /**\n    Test whether two sets of marks are identical.\n    */\n    static sameSet(a, b) {\n        if (a == b)\n            return true;\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++)\n            if (!a[i].eq(b[i]))\n                return false;\n        return true;\n    }\n    /**\n    Create a properly sorted mark set from null, a single mark, or an\n    unsorted array of marks.\n    */\n    static setFrom(marks) {\n        if (!marks || Array.isArray(marks) && marks.length == 0)\n            return Mark.none;\n        if (marks instanceof Mark)\n            return [marks];\n        let copy = marks.slice();\n        copy.sort((a, b) => a.type.rank - b.type.rank);\n        return copy;\n    }\n}\n/**\nThe empty set of marks.\n*/\nMark.none = [];\n\n/**\nError type raised by [`Node.replace`](https://prosemirror.net/docs/ref/#model.Node.replace) when\ngiven an invalid replacement.\n*/\nclass ReplaceError extends Error {\n}\n/*\nReplaceError = function(this: any, message: string) {\n  let err = Error.call(this, message)\n  ;(err as any).__proto__ = ReplaceError.prototype\n  return err\n} as any\n\nReplaceError.prototype = Object.create(Error.prototype)\nReplaceError.prototype.constructor = ReplaceError\nReplaceError.prototype.name = \"ReplaceError\"\n*/\n/**\nA slice represents a piece cut out of a larger document. It\nstores not only a fragment, but also the depth up to which nodes on\nboth side are ‘open’ (cut through).\n*/\nclass Slice {\n    /**\n    Create a slice. When specifying a non-zero open depth, you must\n    make sure that there are nodes of at least that depth at the\n    appropriate side of the fragment—i.e. if the fragment is an\n    empty paragraph node, `openStart` and `openEnd` can't be greater\n    than 1.\n    \n    It is not necessary for the content of open nodes to conform to\n    the schema's content constraints, though it should be a valid\n    start/end/middle for such a node, depending on which sides are\n    open.\n    */\n    constructor(\n    /**\n    The slice's content.\n    */\n    content, \n    /**\n    The open depth at the start of the fragment.\n    */\n    openStart, \n    /**\n    The open depth at the end.\n    */\n    openEnd) {\n        this.content = content;\n        this.openStart = openStart;\n        this.openEnd = openEnd;\n    }\n    /**\n    The size this slice would add when inserted into a document.\n    */\n    get size() {\n        return this.content.size - this.openStart - this.openEnd;\n    }\n    /**\n    @internal\n    */\n    insertAt(pos, fragment) {\n        let content = insertInto(this.content, pos + this.openStart, fragment);\n        return content && new Slice(content, this.openStart, this.openEnd);\n    }\n    /**\n    @internal\n    */\n    removeBetween(from, to) {\n        return new Slice(removeRange(this.content, from + this.openStart, to + this.openStart), this.openStart, this.openEnd);\n    }\n    /**\n    Tests whether this slice is equal to another slice.\n    */\n    eq(other) {\n        return this.content.eq(other.content) && this.openStart == other.openStart && this.openEnd == other.openEnd;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        return this.content + \"(\" + this.openStart + \",\" + this.openEnd + \")\";\n    }\n    /**\n    Convert a slice to a JSON-serializable representation.\n    */\n    toJSON() {\n        if (!this.content.size)\n            return null;\n        let json = { content: this.content.toJSON() };\n        if (this.openStart > 0)\n            json.openStart = this.openStart;\n        if (this.openEnd > 0)\n            json.openEnd = this.openEnd;\n        return json;\n    }\n    /**\n    Deserialize a slice from its JSON representation.\n    */\n    static fromJSON(schema, json) {\n        if (!json)\n            return Slice.empty;\n        let openStart = json.openStart || 0, openEnd = json.openEnd || 0;\n        if (typeof openStart != \"number\" || typeof openEnd != \"number\")\n            throw new RangeError(\"Invalid input for Slice.fromJSON\");\n        return new Slice(Fragment.fromJSON(schema, json.content), openStart, openEnd);\n    }\n    /**\n    Create a slice from a fragment by taking the maximum possible\n    open value on both side of the fragment.\n    */\n    static maxOpen(fragment, openIsolating = true) {\n        let openStart = 0, openEnd = 0;\n        for (let n = fragment.firstChild; n && !n.isLeaf && (openIsolating || !n.type.spec.isolating); n = n.firstChild)\n            openStart++;\n        for (let n = fragment.lastChild; n && !n.isLeaf && (openIsolating || !n.type.spec.isolating); n = n.lastChild)\n            openEnd++;\n        return new Slice(fragment, openStart, openEnd);\n    }\n}\n/**\nThe empty slice.\n*/\nSlice.empty = new Slice(Fragment.empty, 0, 0);\nfunction removeRange(content, from, to) {\n    let { index, offset } = content.findIndex(from), child = content.maybeChild(index);\n    let { index: indexTo, offset: offsetTo } = content.findIndex(to);\n    if (offset == from || child.isText) {\n        if (offsetTo != to && !content.child(indexTo).isText)\n            throw new RangeError(\"Removing non-flat range\");\n        return content.cut(0, from).append(content.cut(to));\n    }\n    if (index != indexTo)\n        throw new RangeError(\"Removing non-flat range\");\n    return content.replaceChild(index, child.copy(removeRange(child.content, from - offset - 1, to - offset - 1)));\n}\nfunction insertInto(content, dist, insert, parent) {\n    let { index, offset } = content.findIndex(dist), child = content.maybeChild(index);\n    if (offset == dist || child.isText) {\n        if (parent && !parent.canReplace(index, index, insert))\n            return null;\n        return content.cut(0, dist).append(insert).append(content.cut(dist));\n    }\n    let inner = insertInto(child.content, dist - offset - 1, insert);\n    return inner && content.replaceChild(index, child.copy(inner));\n}\nfunction replace($from, $to, slice) {\n    if (slice.openStart > $from.depth)\n        throw new ReplaceError(\"Inserted content deeper than insertion position\");\n    if ($from.depth - slice.openStart != $to.depth - slice.openEnd)\n        throw new ReplaceError(\"Inconsistent open depths\");\n    return replaceOuter($from, $to, slice, 0);\n}\nfunction replaceOuter($from, $to, slice, depth) {\n    let index = $from.index(depth), node = $from.node(depth);\n    if (index == $to.index(depth) && depth < $from.depth - slice.openStart) {\n        let inner = replaceOuter($from, $to, slice, depth + 1);\n        return node.copy(node.content.replaceChild(index, inner));\n    }\n    else if (!slice.content.size) {\n        return close(node, replaceTwoWay($from, $to, depth));\n    }\n    else if (!slice.openStart && !slice.openEnd && $from.depth == depth && $to.depth == depth) { // Simple, flat case\n        let parent = $from.parent, content = parent.content;\n        return close(parent, content.cut(0, $from.parentOffset).append(slice.content).append(content.cut($to.parentOffset)));\n    }\n    else {\n        let { start, end } = prepareSliceForReplace(slice, $from);\n        return close(node, replaceThreeWay($from, start, end, $to, depth));\n    }\n}\nfunction checkJoin(main, sub) {\n    if (!sub.type.compatibleContent(main.type))\n        throw new ReplaceError(\"Cannot join \" + sub.type.name + \" onto \" + main.type.name);\n}\nfunction joinable($before, $after, depth) {\n    let node = $before.node(depth);\n    checkJoin(node, $after.node(depth));\n    return node;\n}\nfunction addNode(child, target) {\n    let last = target.length - 1;\n    if (last >= 0 && child.isText && child.sameMarkup(target[last]))\n        target[last] = child.withText(target[last].text + child.text);\n    else\n        target.push(child);\n}\nfunction addRange($start, $end, depth, target) {\n    let node = ($end || $start).node(depth);\n    let startIndex = 0, endIndex = $end ? $end.index(depth) : node.childCount;\n    if ($start) {\n        startIndex = $start.index(depth);\n        if ($start.depth > depth) {\n            startIndex++;\n        }\n        else if ($start.textOffset) {\n            addNode($start.nodeAfter, target);\n            startIndex++;\n        }\n    }\n    for (let i = startIndex; i < endIndex; i++)\n        addNode(node.child(i), target);\n    if ($end && $end.depth == depth && $end.textOffset)\n        addNode($end.nodeBefore, target);\n}\nfunction close(node, content) {\n    if (!node.type.validContent(content))\n        throw new ReplaceError(\"Invalid content for node \" + node.type.name);\n    return node.copy(content);\n}\nfunction replaceThreeWay($from, $start, $end, $to, depth) {\n    let openStart = $from.depth > depth && joinable($from, $start, depth + 1);\n    let openEnd = $to.depth > depth && joinable($end, $to, depth + 1);\n    let content = [];\n    addRange(null, $from, depth, content);\n    if (openStart && openEnd && $start.index(depth) == $end.index(depth)) {\n        checkJoin(openStart, openEnd);\n        addNode(close(openStart, replaceThreeWay($from, $start, $end, $to, depth + 1)), content);\n    }\n    else {\n        if (openStart)\n            addNode(close(openStart, replaceTwoWay($from, $start, depth + 1)), content);\n        addRange($start, $end, depth, content);\n        if (openEnd)\n            addNode(close(openEnd, replaceTwoWay($end, $to, depth + 1)), content);\n    }\n    addRange($to, null, depth, content);\n    return new Fragment(content);\n}\nfunction replaceTwoWay($from, $to, depth) {\n    let content = [];\n    addRange(null, $from, depth, content);\n    if ($from.depth > depth) {\n        let type = joinable($from, $to, depth + 1);\n        addNode(close(type, replaceTwoWay($from, $to, depth + 1)), content);\n    }\n    addRange($to, null, depth, content);\n    return new Fragment(content);\n}\nfunction prepareSliceForReplace(slice, $along) {\n    let extra = $along.depth - slice.openStart, parent = $along.node(extra);\n    let node = parent.copy(slice.content);\n    for (let i = extra - 1; i >= 0; i--)\n        node = $along.node(i).copy(Fragment.from(node));\n    return { start: node.resolveNoCache(slice.openStart + extra),\n        end: node.resolveNoCache(node.content.size - slice.openEnd - extra) };\n}\n\n/**\nYou can [_resolve_](https://prosemirror.net/docs/ref/#model.Node.resolve) a position to get more\ninformation about it. Objects of this class represent such a\nresolved position, providing various pieces of context\ninformation, and some helper methods.\n\nThroughout this interface, methods that take an optional `depth`\nparameter will interpret undefined as `this.depth` and negative\nnumbers as `this.depth + value`.\n*/\nclass ResolvedPos {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The position that was resolved.\n    */\n    pos, \n    /**\n    @internal\n    */\n    path, \n    /**\n    The offset this position has into its parent node.\n    */\n    parentOffset) {\n        this.pos = pos;\n        this.path = path;\n        this.parentOffset = parentOffset;\n        this.depth = path.length / 3 - 1;\n    }\n    /**\n    @internal\n    */\n    resolveDepth(val) {\n        if (val == null)\n            return this.depth;\n        if (val < 0)\n            return this.depth + val;\n        return val;\n    }\n    /**\n    The parent node that the position points into. Note that even if\n    a position points into a text node, that node is not considered\n    the parent—text nodes are ‘flat’ in this model, and have no content.\n    */\n    get parent() { return this.node(this.depth); }\n    /**\n    The root node in which the position was resolved.\n    */\n    get doc() { return this.node(0); }\n    /**\n    The ancestor node at the given level. `p.node(p.depth)` is the\n    same as `p.parent`.\n    */\n    node(depth) { return this.path[this.resolveDepth(depth) * 3]; }\n    /**\n    The index into the ancestor at the given level. If this points\n    at the 3rd node in the 2nd paragraph on the top level, for\n    example, `p.index(0)` is 1 and `p.index(1)` is 2.\n    */\n    index(depth) { return this.path[this.resolveDepth(depth) * 3 + 1]; }\n    /**\n    The index pointing after this position into the ancestor at the\n    given level.\n    */\n    indexAfter(depth) {\n        depth = this.resolveDepth(depth);\n        return this.index(depth) + (depth == this.depth && !this.textOffset ? 0 : 1);\n    }\n    /**\n    The (absolute) position at the start of the node at the given\n    level.\n    */\n    start(depth) {\n        depth = this.resolveDepth(depth);\n        return depth == 0 ? 0 : this.path[depth * 3 - 1] + 1;\n    }\n    /**\n    The (absolute) position at the end of the node at the given\n    level.\n    */\n    end(depth) {\n        depth = this.resolveDepth(depth);\n        return this.start(depth) + this.node(depth).content.size;\n    }\n    /**\n    The (absolute) position directly before the wrapping node at the\n    given level, or, when `depth` is `this.depth + 1`, the original\n    position.\n    */\n    before(depth) {\n        depth = this.resolveDepth(depth);\n        if (!depth)\n            throw new RangeError(\"There is no position before the top-level node\");\n        return depth == this.depth + 1 ? this.pos : this.path[depth * 3 - 1];\n    }\n    /**\n    The (absolute) position directly after the wrapping node at the\n    given level, or the original position when `depth` is `this.depth + 1`.\n    */\n    after(depth) {\n        depth = this.resolveDepth(depth);\n        if (!depth)\n            throw new RangeError(\"There is no position after the top-level node\");\n        return depth == this.depth + 1 ? this.pos : this.path[depth * 3 - 1] + this.path[depth * 3].nodeSize;\n    }\n    /**\n    When this position points into a text node, this returns the\n    distance between the position and the start of the text node.\n    Will be zero for positions that point between nodes.\n    */\n    get textOffset() { return this.pos - this.path[this.path.length - 1]; }\n    /**\n    Get the node directly after the position, if any. If the position\n    points into a text node, only the part of that node after the\n    position is returned.\n    */\n    get nodeAfter() {\n        let parent = this.parent, index = this.index(this.depth);\n        if (index == parent.childCount)\n            return null;\n        let dOff = this.pos - this.path[this.path.length - 1], child = parent.child(index);\n        return dOff ? parent.child(index).cut(dOff) : child;\n    }\n    /**\n    Get the node directly before the position, if any. If the\n    position points into a text node, only the part of that node\n    before the position is returned.\n    */\n    get nodeBefore() {\n        let index = this.index(this.depth);\n        let dOff = this.pos - this.path[this.path.length - 1];\n        if (dOff)\n            return this.parent.child(index).cut(0, dOff);\n        return index == 0 ? null : this.parent.child(index - 1);\n    }\n    /**\n    Get the position at the given index in the parent node at the\n    given depth (which defaults to `this.depth`).\n    */\n    posAtIndex(index, depth) {\n        depth = this.resolveDepth(depth);\n        let node = this.path[depth * 3], pos = depth == 0 ? 0 : this.path[depth * 3 - 1] + 1;\n        for (let i = 0; i < index; i++)\n            pos += node.child(i).nodeSize;\n        return pos;\n    }\n    /**\n    Get the marks at this position, factoring in the surrounding\n    marks' [`inclusive`](https://prosemirror.net/docs/ref/#model.MarkSpec.inclusive) property. If the\n    position is at the start of a non-empty node, the marks of the\n    node after it (if any) are returned.\n    */\n    marks() {\n        let parent = this.parent, index = this.index();\n        // In an empty parent, return the empty array\n        if (parent.content.size == 0)\n            return Mark.none;\n        // When inside a text node, just return the text node's marks\n        if (this.textOffset)\n            return parent.child(index).marks;\n        let main = parent.maybeChild(index - 1), other = parent.maybeChild(index);\n        // If the `after` flag is true of there is no node before, make\n        // the node after this position the main reference.\n        if (!main) {\n            let tmp = main;\n            main = other;\n            other = tmp;\n        }\n        // Use all marks in the main node, except those that have\n        // `inclusive` set to false and are not present in the other node.\n        let marks = main.marks;\n        for (var i = 0; i < marks.length; i++)\n            if (marks[i].type.spec.inclusive === false && (!other || !marks[i].isInSet(other.marks)))\n                marks = marks[i--].removeFromSet(marks);\n        return marks;\n    }\n    /**\n    Get the marks after the current position, if any, except those\n    that are non-inclusive and not present at position `$end`. This\n    is mostly useful for getting the set of marks to preserve after a\n    deletion. Will return `null` if this position is at the end of\n    its parent node or its parent node isn't a textblock (in which\n    case no marks should be preserved).\n    */\n    marksAcross($end) {\n        let after = this.parent.maybeChild(this.index());\n        if (!after || !after.isInline)\n            return null;\n        let marks = after.marks, next = $end.parent.maybeChild($end.index());\n        for (var i = 0; i < marks.length; i++)\n            if (marks[i].type.spec.inclusive === false && (!next || !marks[i].isInSet(next.marks)))\n                marks = marks[i--].removeFromSet(marks);\n        return marks;\n    }\n    /**\n    The depth up to which this position and the given (non-resolved)\n    position share the same parent nodes.\n    */\n    sharedDepth(pos) {\n        for (let depth = this.depth; depth > 0; depth--)\n            if (this.start(depth) <= pos && this.end(depth) >= pos)\n                return depth;\n        return 0;\n    }\n    /**\n    Returns a range based on the place where this position and the\n    given position diverge around block content. If both point into\n    the same textblock, for example, a range around that textblock\n    will be returned. If they point into different blocks, the range\n    around those blocks in their shared ancestor is returned. You can\n    pass in an optional predicate that will be called with a parent\n    node to see if a range into that parent is acceptable.\n    */\n    blockRange(other = this, pred) {\n        if (other.pos < this.pos)\n            return other.blockRange(this);\n        for (let d = this.depth - (this.parent.inlineContent || this.pos == other.pos ? 1 : 0); d >= 0; d--)\n            if (other.pos <= this.end(d) && (!pred || pred(this.node(d))))\n                return new NodeRange(this, other, d);\n        return null;\n    }\n    /**\n    Query whether the given position shares the same parent node.\n    */\n    sameParent(other) {\n        return this.pos - this.parentOffset == other.pos - other.parentOffset;\n    }\n    /**\n    Return the greater of this and the given position.\n    */\n    max(other) {\n        return other.pos > this.pos ? other : this;\n    }\n    /**\n    Return the smaller of this and the given position.\n    */\n    min(other) {\n        return other.pos < this.pos ? other : this;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let str = \"\";\n        for (let i = 1; i <= this.depth; i++)\n            str += (str ? \"/\" : \"\") + this.node(i).type.name + \"_\" + this.index(i - 1);\n        return str + \":\" + this.parentOffset;\n    }\n    /**\n    @internal\n    */\n    static resolve(doc, pos) {\n        if (!(pos >= 0 && pos <= doc.content.size))\n            throw new RangeError(\"Position \" + pos + \" out of range\");\n        let path = [];\n        let start = 0, parentOffset = pos;\n        for (let node = doc;;) {\n            let { index, offset } = node.content.findIndex(parentOffset);\n            let rem = parentOffset - offset;\n            path.push(node, index, start + offset);\n            if (!rem)\n                break;\n            node = node.child(index);\n            if (node.isText)\n                break;\n            parentOffset = rem - 1;\n            start += offset + 1;\n        }\n        return new ResolvedPos(pos, path, parentOffset);\n    }\n    /**\n    @internal\n    */\n    static resolveCached(doc, pos) {\n        for (let i = 0; i < resolveCache.length; i++) {\n            let cached = resolveCache[i];\n            if (cached.pos == pos && cached.doc == doc)\n                return cached;\n        }\n        let result = resolveCache[resolveCachePos] = ResolvedPos.resolve(doc, pos);\n        resolveCachePos = (resolveCachePos + 1) % resolveCacheSize;\n        return result;\n    }\n}\nlet resolveCache = [], resolveCachePos = 0, resolveCacheSize = 12;\n/**\nRepresents a flat range of content, i.e. one that starts and\nends in the same node.\n*/\nclass NodeRange {\n    /**\n    Construct a node range. `$from` and `$to` should point into the\n    same node until at least the given `depth`, since a node range\n    denotes an adjacent set of nodes in a single parent node.\n    */\n    constructor(\n    /**\n    A resolved position along the start of the content. May have a\n    `depth` greater than this object's `depth` property, since\n    these are the positions that were used to compute the range,\n    not re-resolved positions directly at its boundaries.\n    */\n    $from, \n    /**\n    A position along the end of the content. See\n    caveat for [`$from`](https://prosemirror.net/docs/ref/#model.NodeRange.$from).\n    */\n    $to, \n    /**\n    The depth of the node that this range points into.\n    */\n    depth) {\n        this.$from = $from;\n        this.$to = $to;\n        this.depth = depth;\n    }\n    /**\n    The position at the start of the range.\n    */\n    get start() { return this.$from.before(this.depth + 1); }\n    /**\n    The position at the end of the range.\n    */\n    get end() { return this.$to.after(this.depth + 1); }\n    /**\n    The parent node that the range points into.\n    */\n    get parent() { return this.$from.node(this.depth); }\n    /**\n    The start index of the range in the parent node.\n    */\n    get startIndex() { return this.$from.index(this.depth); }\n    /**\n    The end index of the range in the parent node.\n    */\n    get endIndex() { return this.$to.indexAfter(this.depth); }\n}\n\nconst emptyAttrs = Object.create(null);\n/**\nThis class represents a node in the tree that makes up a\nProseMirror document. So a document is an instance of `Node`, with\nchildren that are also instances of `Node`.\n\nNodes are persistent data structures. Instead of changing them, you\ncreate new ones with the content you want. Old ones keep pointing\nat the old document shape. This is made cheaper by sharing\nstructure between the old and new data as much as possible, which a\ntree shape like this (without back pointers) makes easy.\n\n**Do not** directly mutate the properties of a `Node` object. See\n[the guide](/docs/guide/#doc) for more information.\n*/\nclass Node {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The type of node that this is.\n    */\n    type, \n    /**\n    An object mapping attribute names to values. The kind of\n    attributes allowed and required are\n    [determined](https://prosemirror.net/docs/ref/#model.NodeSpec.attrs) by the node type.\n    */\n    attrs, \n    // A fragment holding the node's children.\n    content, \n    /**\n    The marks (things like whether it is emphasized or part of a\n    link) applied to this node.\n    */\n    marks = Mark.none) {\n        this.type = type;\n        this.attrs = attrs;\n        this.marks = marks;\n        this.content = content || Fragment.empty;\n    }\n    /**\n    The size of this node, as defined by the integer-based [indexing\n    scheme](/docs/guide/#doc.indexing). For text nodes, this is the\n    amount of characters. For other leaf nodes, it is one. For\n    non-leaf nodes, it is the size of the content plus two (the\n    start and end token).\n    */\n    get nodeSize() { return this.isLeaf ? 1 : 2 + this.content.size; }\n    /**\n    The number of children that the node has.\n    */\n    get childCount() { return this.content.childCount; }\n    /**\n    Get the child node at the given index. Raises an error when the\n    index is out of range.\n    */\n    child(index) { return this.content.child(index); }\n    /**\n    Get the child node at the given index, if it exists.\n    */\n    maybeChild(index) { return this.content.maybeChild(index); }\n    /**\n    Call `f` for every child node, passing the node, its offset\n    into this parent node, and its index.\n    */\n    forEach(f) { this.content.forEach(f); }\n    /**\n    Invoke a callback for all descendant nodes recursively between\n    the given two positions that are relative to start of this\n    node's content. The callback is invoked with the node, its\n    parent-relative position, its parent node, and its child index.\n    When the callback returns false for a given node, that node's\n    children will not be recursed over. The last parameter can be\n    used to specify a starting position to count from.\n    */\n    nodesBetween(from, to, f, startPos = 0) {\n        this.content.nodesBetween(from, to, f, startPos, this);\n    }\n    /**\n    Call the given callback for every descendant node. Doesn't\n    descend into a node when the callback returns `false`.\n    */\n    descendants(f) {\n        this.nodesBetween(0, this.content.size, f);\n    }\n    /**\n    Concatenates all the text nodes found in this fragment and its\n    children.\n    */\n    get textContent() {\n        return (this.isLeaf && this.type.spec.leafText)\n            ? this.type.spec.leafText(this)\n            : this.textBetween(0, this.content.size, \"\");\n    }\n    /**\n    Get all text between positions `from` and `to`. When\n    `blockSeparator` is given, it will be inserted to separate text\n    from different block nodes. If `leafText` is given, it'll be\n    inserted for every non-text leaf node encountered, otherwise\n    [`leafText`](https://prosemirror.net/docs/ref/#model.NodeSpec^leafText) will be used.\n    */\n    textBetween(from, to, blockSeparator, leafText) {\n        return this.content.textBetween(from, to, blockSeparator, leafText);\n    }\n    /**\n    Returns this node's first child, or `null` if there are no\n    children.\n    */\n    get firstChild() { return this.content.firstChild; }\n    /**\n    Returns this node's last child, or `null` if there are no\n    children.\n    */\n    get lastChild() { return this.content.lastChild; }\n    /**\n    Test whether two nodes represent the same piece of document.\n    */\n    eq(other) {\n        return this == other || (this.sameMarkup(other) && this.content.eq(other.content));\n    }\n    /**\n    Compare the markup (type, attributes, and marks) of this node to\n    those of another. Returns `true` if both have the same markup.\n    */\n    sameMarkup(other) {\n        return this.hasMarkup(other.type, other.attrs, other.marks);\n    }\n    /**\n    Check whether this node's markup correspond to the given type,\n    attributes, and marks.\n    */\n    hasMarkup(type, attrs, marks) {\n        return this.type == type &&\n            compareDeep(this.attrs, attrs || type.defaultAttrs || emptyAttrs) &&\n            Mark.sameSet(this.marks, marks || Mark.none);\n    }\n    /**\n    Create a new node with the same markup as this node, containing\n    the given content (or empty, if no content is given).\n    */\n    copy(content = null) {\n        if (content == this.content)\n            return this;\n        return new Node(this.type, this.attrs, content, this.marks);\n    }\n    /**\n    Create a copy of this node, with the given set of marks instead\n    of the node's own marks.\n    */\n    mark(marks) {\n        return marks == this.marks ? this : new Node(this.type, this.attrs, this.content, marks);\n    }\n    /**\n    Create a copy of this node with only the content between the\n    given positions. If `to` is not given, it defaults to the end of\n    the node.\n    */\n    cut(from, to = this.content.size) {\n        if (from == 0 && to == this.content.size)\n            return this;\n        return this.copy(this.content.cut(from, to));\n    }\n    /**\n    Cut out the part of the document between the given positions, and\n    return it as a `Slice` object.\n    */\n    slice(from, to = this.content.size, includeParents = false) {\n        if (from == to)\n            return Slice.empty;\n        let $from = this.resolve(from), $to = this.resolve(to);\n        let depth = includeParents ? 0 : $from.sharedDepth(to);\n        let start = $from.start(depth), node = $from.node(depth);\n        let content = node.content.cut($from.pos - start, $to.pos - start);\n        return new Slice(content, $from.depth - depth, $to.depth - depth);\n    }\n    /**\n    Replace the part of the document between the given positions with\n    the given slice. The slice must 'fit', meaning its open sides\n    must be able to connect to the surrounding content, and its\n    content nodes must be valid children for the node they are placed\n    into. If any of this is violated, an error of type\n    [`ReplaceError`](https://prosemirror.net/docs/ref/#model.ReplaceError) is thrown.\n    */\n    replace(from, to, slice) {\n        return replace(this.resolve(from), this.resolve(to), slice);\n    }\n    /**\n    Find the node directly after the given position.\n    */\n    nodeAt(pos) {\n        for (let node = this;;) {\n            let { index, offset } = node.content.findIndex(pos);\n            node = node.maybeChild(index);\n            if (!node)\n                return null;\n            if (offset == pos || node.isText)\n                return node;\n            pos -= offset + 1;\n        }\n    }\n    /**\n    Find the (direct) child node after the given offset, if any,\n    and return it along with its index and offset relative to this\n    node.\n    */\n    childAfter(pos) {\n        let { index, offset } = this.content.findIndex(pos);\n        return { node: this.content.maybeChild(index), index, offset };\n    }\n    /**\n    Find the (direct) child node before the given offset, if any,\n    and return it along with its index and offset relative to this\n    node.\n    */\n    childBefore(pos) {\n        if (pos == 0)\n            return { node: null, index: 0, offset: 0 };\n        let { index, offset } = this.content.findIndex(pos);\n        if (offset < pos)\n            return { node: this.content.child(index), index, offset };\n        let node = this.content.child(index - 1);\n        return { node, index: index - 1, offset: offset - node.nodeSize };\n    }\n    /**\n    Resolve the given position in the document, returning an\n    [object](https://prosemirror.net/docs/ref/#model.ResolvedPos) with information about its context.\n    */\n    resolve(pos) { return ResolvedPos.resolveCached(this, pos); }\n    /**\n    @internal\n    */\n    resolveNoCache(pos) { return ResolvedPos.resolve(this, pos); }\n    /**\n    Test whether a given mark or mark type occurs in this document\n    between the two given positions.\n    */\n    rangeHasMark(from, to, type) {\n        let found = false;\n        if (to > from)\n            this.nodesBetween(from, to, node => {\n                if (type.isInSet(node.marks))\n                    found = true;\n                return !found;\n            });\n        return found;\n    }\n    /**\n    True when this is a block (non-inline node)\n    */\n    get isBlock() { return this.type.isBlock; }\n    /**\n    True when this is a textblock node, a block node with inline\n    content.\n    */\n    get isTextblock() { return this.type.isTextblock; }\n    /**\n    True when this node allows inline content.\n    */\n    get inlineContent() { return this.type.inlineContent; }\n    /**\n    True when this is an inline node (a text node or a node that can\n    appear among text).\n    */\n    get isInline() { return this.type.isInline; }\n    /**\n    True when this is a text node.\n    */\n    get isText() { return this.type.isText; }\n    /**\n    True when this is a leaf node.\n    */\n    get isLeaf() { return this.type.isLeaf; }\n    /**\n    True when this is an atom, i.e. when it does not have directly\n    editable content. This is usually the same as `isLeaf`, but can\n    be configured with the [`atom` property](https://prosemirror.net/docs/ref/#model.NodeSpec.atom)\n    on a node's spec (typically used when the node is displayed as\n    an uneditable [node view](https://prosemirror.net/docs/ref/#view.NodeView)).\n    */\n    get isAtom() { return this.type.isAtom; }\n    /**\n    Return a string representation of this node for debugging\n    purposes.\n    */\n    toString() {\n        if (this.type.spec.toDebugString)\n            return this.type.spec.toDebugString(this);\n        let name = this.type.name;\n        if (this.content.size)\n            name += \"(\" + this.content.toStringInner() + \")\";\n        return wrapMarks(this.marks, name);\n    }\n    /**\n    Get the content match in this node at the given index.\n    */\n    contentMatchAt(index) {\n        let match = this.type.contentMatch.matchFragment(this.content, 0, index);\n        if (!match)\n            throw new Error(\"Called contentMatchAt on a node with invalid content\");\n        return match;\n    }\n    /**\n    Test whether replacing the range between `from` and `to` (by\n    child index) with the given replacement fragment (which defaults\n    to the empty fragment) would leave the node's content valid. You\n    can optionally pass `start` and `end` indices into the\n    replacement fragment.\n    */\n    canReplace(from, to, replacement = Fragment.empty, start = 0, end = replacement.childCount) {\n        let one = this.contentMatchAt(from).matchFragment(replacement, start, end);\n        let two = one && one.matchFragment(this.content, to);\n        if (!two || !two.validEnd)\n            return false;\n        for (let i = start; i < end; i++)\n            if (!this.type.allowsMarks(replacement.child(i).marks))\n                return false;\n        return true;\n    }\n    /**\n    Test whether replacing the range `from` to `to` (by index) with\n    a node of the given type would leave the node's content valid.\n    */\n    canReplaceWith(from, to, type, marks) {\n        if (marks && !this.type.allowsMarks(marks))\n            return false;\n        let start = this.contentMatchAt(from).matchType(type);\n        let end = start && start.matchFragment(this.content, to);\n        return end ? end.validEnd : false;\n    }\n    /**\n    Test whether the given node's content could be appended to this\n    node. If that node is empty, this will only return true if there\n    is at least one node type that can appear in both nodes (to avoid\n    merging completely incompatible nodes).\n    */\n    canAppend(other) {\n        if (other.content.size)\n            return this.canReplace(this.childCount, this.childCount, other.content);\n        else\n            return this.type.compatibleContent(other.type);\n    }\n    /**\n    Check whether this node and its descendants conform to the\n    schema, and raise error when they do not.\n    */\n    check() {\n        if (!this.type.validContent(this.content))\n            throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0, 50)}`);\n        let copy = Mark.none;\n        for (let i = 0; i < this.marks.length; i++)\n            copy = this.marks[i].addToSet(copy);\n        if (!Mark.sameSet(copy, this.marks))\n            throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(m => m.type.name)}`);\n        this.content.forEach(node => node.check());\n    }\n    /**\n    Return a JSON-serializeable representation of this node.\n    */\n    toJSON() {\n        let obj = { type: this.type.name };\n        for (let _ in this.attrs) {\n            obj.attrs = this.attrs;\n            break;\n        }\n        if (this.content.size)\n            obj.content = this.content.toJSON();\n        if (this.marks.length)\n            obj.marks = this.marks.map(n => n.toJSON());\n        return obj;\n    }\n    /**\n    Deserialize a node from its JSON representation.\n    */\n    static fromJSON(schema, json) {\n        if (!json)\n            throw new RangeError(\"Invalid input for Node.fromJSON\");\n        let marks = null;\n        if (json.marks) {\n            if (!Array.isArray(json.marks))\n                throw new RangeError(\"Invalid mark data for Node.fromJSON\");\n            marks = json.marks.map(schema.markFromJSON);\n        }\n        if (json.type == \"text\") {\n            if (typeof json.text != \"string\")\n                throw new RangeError(\"Invalid text node in JSON\");\n            return schema.text(json.text, marks);\n        }\n        let content = Fragment.fromJSON(schema, json.content);\n        return schema.nodeType(json.type).create(json.attrs, content, marks);\n    }\n}\nNode.prototype.text = undefined;\nclass TextNode extends Node {\n    /**\n    @internal\n    */\n    constructor(type, attrs, content, marks) {\n        super(type, attrs, null, marks);\n        if (!content)\n            throw new RangeError(\"Empty text nodes are not allowed\");\n        this.text = content;\n    }\n    toString() {\n        if (this.type.spec.toDebugString)\n            return this.type.spec.toDebugString(this);\n        return wrapMarks(this.marks, JSON.stringify(this.text));\n    }\n    get textContent() { return this.text; }\n    textBetween(from, to) { return this.text.slice(from, to); }\n    get nodeSize() { return this.text.length; }\n    mark(marks) {\n        return marks == this.marks ? this : new TextNode(this.type, this.attrs, this.text, marks);\n    }\n    withText(text) {\n        if (text == this.text)\n            return this;\n        return new TextNode(this.type, this.attrs, text, this.marks);\n    }\n    cut(from = 0, to = this.text.length) {\n        if (from == 0 && to == this.text.length)\n            return this;\n        return this.withText(this.text.slice(from, to));\n    }\n    eq(other) {\n        return this.sameMarkup(other) && this.text == other.text;\n    }\n    toJSON() {\n        let base = super.toJSON();\n        base.text = this.text;\n        return base;\n    }\n}\nfunction wrapMarks(marks, str) {\n    for (let i = marks.length - 1; i >= 0; i--)\n        str = marks[i].type.name + \"(\" + str + \")\";\n    return str;\n}\n\n/**\nInstances of this class represent a match state of a node type's\n[content expression](https://prosemirror.net/docs/ref/#model.NodeSpec.content), and can be used to\nfind out whether further content matches here, and whether a given\nposition is a valid end of the node.\n*/\nclass ContentMatch {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    True when this match state represents a valid end of the node.\n    */\n    validEnd) {\n        this.validEnd = validEnd;\n        /**\n        @internal\n        */\n        this.next = [];\n        /**\n        @internal\n        */\n        this.wrapCache = [];\n    }\n    /**\n    @internal\n    */\n    static parse(string, nodeTypes) {\n        let stream = new TokenStream(string, nodeTypes);\n        if (stream.next == null)\n            return ContentMatch.empty;\n        let expr = parseExpr(stream);\n        if (stream.next)\n            stream.err(\"Unexpected trailing text\");\n        let match = dfa(nfa(expr));\n        checkForDeadEnds(match, stream);\n        return match;\n    }\n    /**\n    Match a node type, returning a match after that node if\n    successful.\n    */\n    matchType(type) {\n        for (let i = 0; i < this.next.length; i++)\n            if (this.next[i].type == type)\n                return this.next[i].next;\n        return null;\n    }\n    /**\n    Try to match a fragment. Returns the resulting match when\n    successful.\n    */\n    matchFragment(frag, start = 0, end = frag.childCount) {\n        let cur = this;\n        for (let i = start; cur && i < end; i++)\n            cur = cur.matchType(frag.child(i).type);\n        return cur;\n    }\n    /**\n    @internal\n    */\n    get inlineContent() {\n        return this.next.length && this.next[0].type.isInline;\n    }\n    /**\n    Get the first matching node type at this match position that can\n    be generated.\n    */\n    get defaultType() {\n        for (let i = 0; i < this.next.length; i++) {\n            let { type } = this.next[i];\n            if (!(type.isText || type.hasRequiredAttrs()))\n                return type;\n        }\n        return null;\n    }\n    /**\n    @internal\n    */\n    compatible(other) {\n        for (let i = 0; i < this.next.length; i++)\n            for (let j = 0; j < other.next.length; j++)\n                if (this.next[i].type == other.next[j].type)\n                    return true;\n        return false;\n    }\n    /**\n    Try to match the given fragment, and if that fails, see if it can\n    be made to match by inserting nodes in front of it. When\n    successful, return a fragment of inserted nodes (which may be\n    empty if nothing had to be inserted). When `toEnd` is true, only\n    return a fragment if the resulting match goes to the end of the\n    content expression.\n    */\n    fillBefore(after, toEnd = false, startIndex = 0) {\n        let seen = [this];\n        function search(match, types) {\n            let finished = match.matchFragment(after, startIndex);\n            if (finished && (!toEnd || finished.validEnd))\n                return Fragment.from(types.map(tp => tp.createAndFill()));\n            for (let i = 0; i < match.next.length; i++) {\n                let { type, next } = match.next[i];\n                if (!(type.isText || type.hasRequiredAttrs()) && seen.indexOf(next) == -1) {\n                    seen.push(next);\n                    let found = search(next, types.concat(type));\n                    if (found)\n                        return found;\n                }\n            }\n            return null;\n        }\n        return search(this, []);\n    }\n    /**\n    Find a set of wrapping node types that would allow a node of the\n    given type to appear at this position. The result may be empty\n    (when it fits directly) and will be null when no such wrapping\n    exists.\n    */\n    findWrapping(target) {\n        for (let i = 0; i < this.wrapCache.length; i += 2)\n            if (this.wrapCache[i] == target)\n                return this.wrapCache[i + 1];\n        let computed = this.computeWrapping(target);\n        this.wrapCache.push(target, computed);\n        return computed;\n    }\n    /**\n    @internal\n    */\n    computeWrapping(target) {\n        let seen = Object.create(null), active = [{ match: this, type: null, via: null }];\n        while (active.length) {\n            let current = active.shift(), match = current.match;\n            if (match.matchType(target)) {\n                let result = [];\n                for (let obj = current; obj.type; obj = obj.via)\n                    result.push(obj.type);\n                return result.reverse();\n            }\n            for (let i = 0; i < match.next.length; i++) {\n                let { type, next } = match.next[i];\n                if (!type.isLeaf && !type.hasRequiredAttrs() && !(type.name in seen) && (!current.type || next.validEnd)) {\n                    active.push({ match: type.contentMatch, type, via: current });\n                    seen[type.name] = true;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n    The number of outgoing edges this node has in the finite\n    automaton that describes the content expression.\n    */\n    get edgeCount() {\n        return this.next.length;\n    }\n    /**\n    Get the _n_​th outgoing edge from this node in the finite\n    automaton that describes the content expression.\n    */\n    edge(n) {\n        if (n >= this.next.length)\n            throw new RangeError(`There's no ${n}th edge in this content match`);\n        return this.next[n];\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let seen = [];\n        function scan(m) {\n            seen.push(m);\n            for (let i = 0; i < m.next.length; i++)\n                if (seen.indexOf(m.next[i].next) == -1)\n                    scan(m.next[i].next);\n        }\n        scan(this);\n        return seen.map((m, i) => {\n            let out = i + (m.validEnd ? \"*\" : \" \") + \" \";\n            for (let i = 0; i < m.next.length; i++)\n                out += (i ? \", \" : \"\") + m.next[i].type.name + \"->\" + seen.indexOf(m.next[i].next);\n            return out;\n        }).join(\"\\n\");\n    }\n}\n/**\n@internal\n*/\nContentMatch.empty = new ContentMatch(true);\nclass TokenStream {\n    constructor(string, nodeTypes) {\n        this.string = string;\n        this.nodeTypes = nodeTypes;\n        this.inline = null;\n        this.pos = 0;\n        this.tokens = string.split(/\\s*(?=\\b|\\W|$)/);\n        if (this.tokens[this.tokens.length - 1] == \"\")\n            this.tokens.pop();\n        if (this.tokens[0] == \"\")\n            this.tokens.shift();\n    }\n    get next() { return this.tokens[this.pos]; }\n    eat(tok) { return this.next == tok && (this.pos++ || true); }\n    err(str) { throw new SyntaxError(str + \" (in content expression '\" + this.string + \"')\"); }\n}\nfunction parseExpr(stream) {\n    let exprs = [];\n    do {\n        exprs.push(parseExprSeq(stream));\n    } while (stream.eat(\"|\"));\n    return exprs.length == 1 ? exprs[0] : { type: \"choice\", exprs };\n}\nfunction parseExprSeq(stream) {\n    let exprs = [];\n    do {\n        exprs.push(parseExprSubscript(stream));\n    } while (stream.next && stream.next != \")\" && stream.next != \"|\");\n    return exprs.length == 1 ? exprs[0] : { type: \"seq\", exprs };\n}\nfunction parseExprSubscript(stream) {\n    let expr = parseExprAtom(stream);\n    for (;;) {\n        if (stream.eat(\"+\"))\n            expr = { type: \"plus\", expr };\n        else if (stream.eat(\"*\"))\n            expr = { type: \"star\", expr };\n        else if (stream.eat(\"?\"))\n            expr = { type: \"opt\", expr };\n        else if (stream.eat(\"{\"))\n            expr = parseExprRange(stream, expr);\n        else\n            break;\n    }\n    return expr;\n}\nfunction parseNum(stream) {\n    if (/\\D/.test(stream.next))\n        stream.err(\"Expected number, got '\" + stream.next + \"'\");\n    let result = Number(stream.next);\n    stream.pos++;\n    return result;\n}\nfunction parseExprRange(stream, expr) {\n    let min = parseNum(stream), max = min;\n    if (stream.eat(\",\")) {\n        if (stream.next != \"}\")\n            max = parseNum(stream);\n        else\n            max = -1;\n    }\n    if (!stream.eat(\"}\"))\n        stream.err(\"Unclosed braced range\");\n    return { type: \"range\", min, max, expr };\n}\nfunction resolveName(stream, name) {\n    let types = stream.nodeTypes, type = types[name];\n    if (type)\n        return [type];\n    let result = [];\n    for (let typeName in types) {\n        let type = types[typeName];\n        if (type.groups.indexOf(name) > -1)\n            result.push(type);\n    }\n    if (result.length == 0)\n        stream.err(\"No node type or group '\" + name + \"' found\");\n    return result;\n}\nfunction parseExprAtom(stream) {\n    if (stream.eat(\"(\")) {\n        let expr = parseExpr(stream);\n        if (!stream.eat(\")\"))\n            stream.err(\"Missing closing paren\");\n        return expr;\n    }\n    else if (!/\\W/.test(stream.next)) {\n        let exprs = resolveName(stream, stream.next).map(type => {\n            if (stream.inline == null)\n                stream.inline = type.isInline;\n            else if (stream.inline != type.isInline)\n                stream.err(\"Mixing inline and block content\");\n            return { type: \"name\", value: type };\n        });\n        stream.pos++;\n        return exprs.length == 1 ? exprs[0] : { type: \"choice\", exprs };\n    }\n    else {\n        stream.err(\"Unexpected token '\" + stream.next + \"'\");\n    }\n}\n/**\nConstruct an NFA from an expression as returned by the parser. The\nNFA is represented as an array of states, which are themselves\narrays of edges, which are `{term, to}` objects. The first state is\nthe entry state and the last node is the success state.\n\nNote that unlike typical NFAs, the edge ordering in this one is\nsignificant, in that it is used to contruct filler content when\nnecessary.\n*/\nfunction nfa(expr) {\n    let nfa = [[]];\n    connect(compile(expr, 0), node());\n    return nfa;\n    function node() { return nfa.push([]) - 1; }\n    function edge(from, to, term) {\n        let edge = { term, to };\n        nfa[from].push(edge);\n        return edge;\n    }\n    function connect(edges, to) {\n        edges.forEach(edge => edge.to = to);\n    }\n    function compile(expr, from) {\n        if (expr.type == \"choice\") {\n            return expr.exprs.reduce((out, expr) => out.concat(compile(expr, from)), []);\n        }\n        else if (expr.type == \"seq\") {\n            for (let i = 0;; i++) {\n                let next = compile(expr.exprs[i], from);\n                if (i == expr.exprs.length - 1)\n                    return next;\n                connect(next, from = node());\n            }\n        }\n        else if (expr.type == \"star\") {\n            let loop = node();\n            edge(from, loop);\n            connect(compile(expr.expr, loop), loop);\n            return [edge(loop)];\n        }\n        else if (expr.type == \"plus\") {\n            let loop = node();\n            connect(compile(expr.expr, from), loop);\n            connect(compile(expr.expr, loop), loop);\n            return [edge(loop)];\n        }\n        else if (expr.type == \"opt\") {\n            return [edge(from)].concat(compile(expr.expr, from));\n        }\n        else if (expr.type == \"range\") {\n            let cur = from;\n            for (let i = 0; i < expr.min; i++) {\n                let next = node();\n                connect(compile(expr.expr, cur), next);\n                cur = next;\n            }\n            if (expr.max == -1) {\n                connect(compile(expr.expr, cur), cur);\n            }\n            else {\n                for (let i = expr.min; i < expr.max; i++) {\n                    let next = node();\n                    edge(cur, next);\n                    connect(compile(expr.expr, cur), next);\n                    cur = next;\n                }\n            }\n            return [edge(cur)];\n        }\n        else if (expr.type == \"name\") {\n            return [edge(from, undefined, expr.value)];\n        }\n        else {\n            throw new Error(\"Unknown expr type\");\n        }\n    }\n}\nfunction cmp(a, b) { return b - a; }\n// Get the set of nodes reachable by null edges from `node`. Omit\n// nodes with only a single null-out-edge, since they may lead to\n// needless duplicated nodes.\nfunction nullFrom(nfa, node) {\n    let result = [];\n    scan(node);\n    return result.sort(cmp);\n    function scan(node) {\n        let edges = nfa[node];\n        if (edges.length == 1 && !edges[0].term)\n            return scan(edges[0].to);\n        result.push(node);\n        for (let i = 0; i < edges.length; i++) {\n            let { term, to } = edges[i];\n            if (!term && result.indexOf(to) == -1)\n                scan(to);\n        }\n    }\n}\n// Compiles an NFA as produced by `nfa` into a DFA, modeled as a set\n// of state objects (`ContentMatch` instances) with transitions\n// between them.\nfunction dfa(nfa) {\n    let labeled = Object.create(null);\n    return explore(nullFrom(nfa, 0));\n    function explore(states) {\n        let out = [];\n        states.forEach(node => {\n            nfa[node].forEach(({ term, to }) => {\n                if (!term)\n                    return;\n                let set;\n                for (let i = 0; i < out.length; i++)\n                    if (out[i][0] == term)\n                        set = out[i][1];\n                nullFrom(nfa, to).forEach(node => {\n                    if (!set)\n                        out.push([term, set = []]);\n                    if (set.indexOf(node) == -1)\n                        set.push(node);\n                });\n            });\n        });\n        let state = labeled[states.join(\",\")] = new ContentMatch(states.indexOf(nfa.length - 1) > -1);\n        for (let i = 0; i < out.length; i++) {\n            let states = out[i][1].sort(cmp);\n            state.next.push({ type: out[i][0], next: labeled[states.join(\",\")] || explore(states) });\n        }\n        return state;\n    }\n}\nfunction checkForDeadEnds(match, stream) {\n    for (let i = 0, work = [match]; i < work.length; i++) {\n        let state = work[i], dead = !state.validEnd, nodes = [];\n        for (let j = 0; j < state.next.length; j++) {\n            let { type, next } = state.next[j];\n            nodes.push(type.name);\n            if (dead && !(type.isText || type.hasRequiredAttrs()))\n                dead = false;\n            if (work.indexOf(next) == -1)\n                work.push(next);\n        }\n        if (dead)\n            stream.err(\"Only non-generatable nodes (\" + nodes.join(\", \") + \") in a required position (see https://prosemirror.net/docs/guide/#generatable)\");\n    }\n}\n\n// For node types where all attrs have a default value (or which don't\n// have any attributes), build up a single reusable default attribute\n// object, and use it for all nodes that don't specify specific\n// attributes.\nfunction defaultAttrs(attrs) {\n    let defaults = Object.create(null);\n    for (let attrName in attrs) {\n        let attr = attrs[attrName];\n        if (!attr.hasDefault)\n            return null;\n        defaults[attrName] = attr.default;\n    }\n    return defaults;\n}\nfunction computeAttrs(attrs, value) {\n    let built = Object.create(null);\n    for (let name in attrs) {\n        let given = value && value[name];\n        if (given === undefined) {\n            let attr = attrs[name];\n            if (attr.hasDefault)\n                given = attr.default;\n            else\n                throw new RangeError(\"No value supplied for attribute \" + name);\n        }\n        built[name] = given;\n    }\n    return built;\n}\nfunction initAttrs(attrs) {\n    let result = Object.create(null);\n    if (attrs)\n        for (let name in attrs)\n            result[name] = new Attribute(attrs[name]);\n    return result;\n}\n/**\nNode types are objects allocated once per `Schema` and used to\n[tag](https://prosemirror.net/docs/ref/#model.Node.type) `Node` instances. They contain information\nabout the node type, such as its name and what kind of node it\nrepresents.\n*/\nclass NodeType {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The name the node type has in this schema.\n    */\n    name, \n    /**\n    A link back to the `Schema` the node type belongs to.\n    */\n    schema, \n    /**\n    The spec that this type is based on\n    */\n    spec) {\n        this.name = name;\n        this.schema = schema;\n        this.spec = spec;\n        /**\n        The set of marks allowed in this node. `null` means all marks\n        are allowed.\n        */\n        this.markSet = null;\n        this.groups = spec.group ? spec.group.split(\" \") : [];\n        this.attrs = initAttrs(spec.attrs);\n        this.defaultAttrs = defaultAttrs(this.attrs);\n        this.contentMatch = null;\n        this.inlineContent = null;\n        this.isBlock = !(spec.inline || name == \"text\");\n        this.isText = name == \"text\";\n    }\n    /**\n    True if this is an inline type.\n    */\n    get isInline() { return !this.isBlock; }\n    /**\n    True if this is a textblock type, a block that contains inline\n    content.\n    */\n    get isTextblock() { return this.isBlock && this.inlineContent; }\n    /**\n    True for node types that allow no content.\n    */\n    get isLeaf() { return this.contentMatch == ContentMatch.empty; }\n    /**\n    True when this node is an atom, i.e. when it does not have\n    directly editable content.\n    */\n    get isAtom() { return this.isLeaf || !!this.spec.atom; }\n    /**\n    The node type's [whitespace](https://prosemirror.net/docs/ref/#model.NodeSpec.whitespace) option.\n    */\n    get whitespace() {\n        return this.spec.whitespace || (this.spec.code ? \"pre\" : \"normal\");\n    }\n    /**\n    Tells you whether this node type has any required attributes.\n    */\n    hasRequiredAttrs() {\n        for (let n in this.attrs)\n            if (this.attrs[n].isRequired)\n                return true;\n        return false;\n    }\n    /**\n    Indicates whether this node allows some of the same content as\n    the given node type.\n    */\n    compatibleContent(other) {\n        return this == other || this.contentMatch.compatible(other.contentMatch);\n    }\n    /**\n    @internal\n    */\n    computeAttrs(attrs) {\n        if (!attrs && this.defaultAttrs)\n            return this.defaultAttrs;\n        else\n            return computeAttrs(this.attrs, attrs);\n    }\n    /**\n    Create a `Node` of this type. The given attributes are\n    checked and defaulted (you can pass `null` to use the type's\n    defaults entirely, if no required attributes exist). `content`\n    may be a `Fragment`, a node, an array of nodes, or\n    `null`. Similarly `marks` may be `null` to default to the empty\n    set of marks.\n    */\n    create(attrs = null, content, marks) {\n        if (this.isText)\n            throw new Error(\"NodeType.create can't construct text nodes\");\n        return new Node(this, this.computeAttrs(attrs), Fragment.from(content), Mark.setFrom(marks));\n    }\n    /**\n    Like [`create`](https://prosemirror.net/docs/ref/#model.NodeType.create), but check the given content\n    against the node type's content restrictions, and throw an error\n    if it doesn't match.\n    */\n    createChecked(attrs = null, content, marks) {\n        content = Fragment.from(content);\n        if (!this.validContent(content))\n            throw new RangeError(\"Invalid content for node \" + this.name);\n        return new Node(this, this.computeAttrs(attrs), content, Mark.setFrom(marks));\n    }\n    /**\n    Like [`create`](https://prosemirror.net/docs/ref/#model.NodeType.create), but see if it is\n    necessary to add nodes to the start or end of the given fragment\n    to make it fit the node. If no fitting wrapping can be found,\n    return null. Note that, due to the fact that required nodes can\n    always be created, this will always succeed if you pass null or\n    `Fragment.empty` as content.\n    */\n    createAndFill(attrs = null, content, marks) {\n        attrs = this.computeAttrs(attrs);\n        content = Fragment.from(content);\n        if (content.size) {\n            let before = this.contentMatch.fillBefore(content);\n            if (!before)\n                return null;\n            content = before.append(content);\n        }\n        let matched = this.contentMatch.matchFragment(content);\n        let after = matched && matched.fillBefore(Fragment.empty, true);\n        if (!after)\n            return null;\n        return new Node(this, attrs, content.append(after), Mark.setFrom(marks));\n    }\n    /**\n    Returns true if the given fragment is valid content for this node\n    type with the given attributes.\n    */\n    validContent(content) {\n        let result = this.contentMatch.matchFragment(content);\n        if (!result || !result.validEnd)\n            return false;\n        for (let i = 0; i < content.childCount; i++)\n            if (!this.allowsMarks(content.child(i).marks))\n                return false;\n        return true;\n    }\n    /**\n    Check whether the given mark type is allowed in this node.\n    */\n    allowsMarkType(markType) {\n        return this.markSet == null || this.markSet.indexOf(markType) > -1;\n    }\n    /**\n    Test whether the given set of marks are allowed in this node.\n    */\n    allowsMarks(marks) {\n        if (this.markSet == null)\n            return true;\n        for (let i = 0; i < marks.length; i++)\n            if (!this.allowsMarkType(marks[i].type))\n                return false;\n        return true;\n    }\n    /**\n    Removes the marks that are not allowed in this node from the given set.\n    */\n    allowedMarks(marks) {\n        if (this.markSet == null)\n            return marks;\n        let copy;\n        for (let i = 0; i < marks.length; i++) {\n            if (!this.allowsMarkType(marks[i].type)) {\n                if (!copy)\n                    copy = marks.slice(0, i);\n            }\n            else if (copy) {\n                copy.push(marks[i]);\n            }\n        }\n        return !copy ? marks : copy.length ? copy : Mark.none;\n    }\n    /**\n    @internal\n    */\n    static compile(nodes, schema) {\n        let result = Object.create(null);\n        nodes.forEach((name, spec) => result[name] = new NodeType(name, schema, spec));\n        let topType = schema.spec.topNode || \"doc\";\n        if (!result[topType])\n            throw new RangeError(\"Schema is missing its top node type ('\" + topType + \"')\");\n        if (!result.text)\n            throw new RangeError(\"Every schema needs a 'text' type\");\n        for (let _ in result.text.attrs)\n            throw new RangeError(\"The text node type should not have attributes\");\n        return result;\n    }\n}\n// Attribute descriptors\nclass Attribute {\n    constructor(options) {\n        this.hasDefault = Object.prototype.hasOwnProperty.call(options, \"default\");\n        this.default = options.default;\n    }\n    get isRequired() {\n        return !this.hasDefault;\n    }\n}\n// Marks\n/**\nLike nodes, marks (which are associated with nodes to signify\nthings like emphasis or being part of a link) are\n[tagged](https://prosemirror.net/docs/ref/#model.Mark.type) with type objects, which are\ninstantiated once per `Schema`.\n*/\nclass MarkType {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The name of the mark type.\n    */\n    name, \n    /**\n    @internal\n    */\n    rank, \n    /**\n    The schema that this mark type instance is part of.\n    */\n    schema, \n    /**\n    The spec on which the type is based.\n    */\n    spec) {\n        this.name = name;\n        this.rank = rank;\n        this.schema = schema;\n        this.spec = spec;\n        this.attrs = initAttrs(spec.attrs);\n        this.excluded = null;\n        let defaults = defaultAttrs(this.attrs);\n        this.instance = defaults ? new Mark(this, defaults) : null;\n    }\n    /**\n    Create a mark of this type. `attrs` may be `null` or an object\n    containing only some of the mark's attributes. The others, if\n    they have defaults, will be added.\n    */\n    create(attrs = null) {\n        if (!attrs && this.instance)\n            return this.instance;\n        return new Mark(this, computeAttrs(this.attrs, attrs));\n    }\n    /**\n    @internal\n    */\n    static compile(marks, schema) {\n        let result = Object.create(null), rank = 0;\n        marks.forEach((name, spec) => result[name] = new MarkType(name, rank++, schema, spec));\n        return result;\n    }\n    /**\n    When there is a mark of this type in the given set, a new set\n    without it is returned. Otherwise, the input set is returned.\n    */\n    removeFromSet(set) {\n        for (var i = 0; i < set.length; i++)\n            if (set[i].type == this) {\n                set = set.slice(0, i).concat(set.slice(i + 1));\n                i--;\n            }\n        return set;\n    }\n    /**\n    Tests whether there is a mark of this type in the given set.\n    */\n    isInSet(set) {\n        for (let i = 0; i < set.length; i++)\n            if (set[i].type == this)\n                return set[i];\n    }\n    /**\n    Queries whether a given mark type is\n    [excluded](https://prosemirror.net/docs/ref/#model.MarkSpec.excludes) by this one.\n    */\n    excludes(other) {\n        return this.excluded.indexOf(other) > -1;\n    }\n}\n/**\nA document schema. Holds [node](https://prosemirror.net/docs/ref/#model.NodeType) and [mark\ntype](https://prosemirror.net/docs/ref/#model.MarkType) objects for the nodes and marks that may\noccur in conforming documents, and provides functionality for\ncreating and deserializing such documents.\n\nWhen given, the type parameters provide the names of the nodes and\nmarks in this schema.\n*/\nclass Schema {\n    /**\n    Construct a schema from a schema [specification](https://prosemirror.net/docs/ref/#model.SchemaSpec).\n    */\n    constructor(spec) {\n        /**\n        An object for storing whatever values modules may want to\n        compute and cache per schema. (If you want to store something\n        in it, try to use property names unlikely to clash.)\n        */\n        this.cached = Object.create(null);\n        this.spec = {\n            nodes: OrderedMap.from(spec.nodes),\n            marks: OrderedMap.from(spec.marks || {}),\n            topNode: spec.topNode\n        };\n        this.nodes = NodeType.compile(this.spec.nodes, this);\n        this.marks = MarkType.compile(this.spec.marks, this);\n        let contentExprCache = Object.create(null);\n        for (let prop in this.nodes) {\n            if (prop in this.marks)\n                throw new RangeError(prop + \" can not be both a node and a mark\");\n            let type = this.nodes[prop], contentExpr = type.spec.content || \"\", markExpr = type.spec.marks;\n            type.contentMatch = contentExprCache[contentExpr] ||\n                (contentExprCache[contentExpr] = ContentMatch.parse(contentExpr, this.nodes));\n            type.inlineContent = type.contentMatch.inlineContent;\n            type.markSet = markExpr == \"_\" ? null :\n                markExpr ? gatherMarks(this, markExpr.split(\" \")) :\n                    markExpr == \"\" || !type.inlineContent ? [] : null;\n        }\n        for (let prop in this.marks) {\n            let type = this.marks[prop], excl = type.spec.excludes;\n            type.excluded = excl == null ? [type] : excl == \"\" ? [] : gatherMarks(this, excl.split(\" \"));\n        }\n        this.nodeFromJSON = this.nodeFromJSON.bind(this);\n        this.markFromJSON = this.markFromJSON.bind(this);\n        this.topNodeType = this.nodes[this.spec.topNode || \"doc\"];\n        this.cached.wrappings = Object.create(null);\n    }\n    /**\n    Create a node in this schema. The `type` may be a string or a\n    `NodeType` instance. Attributes will be extended with defaults,\n    `content` may be a `Fragment`, `null`, a `Node`, or an array of\n    nodes.\n    */\n    node(type, attrs = null, content, marks) {\n        if (typeof type == \"string\")\n            type = this.nodeType(type);\n        else if (!(type instanceof NodeType))\n            throw new RangeError(\"Invalid node type: \" + type);\n        else if (type.schema != this)\n            throw new RangeError(\"Node type from different schema used (\" + type.name + \")\");\n        return type.createChecked(attrs, content, marks);\n    }\n    /**\n    Create a text node in the schema. Empty text nodes are not\n    allowed.\n    */\n    text(text, marks) {\n        let type = this.nodes.text;\n        return new TextNode(type, type.defaultAttrs, text, Mark.setFrom(marks));\n    }\n    /**\n    Create a mark with the given type and attributes.\n    */\n    mark(type, attrs) {\n        if (typeof type == \"string\")\n            type = this.marks[type];\n        return type.create(attrs);\n    }\n    /**\n    Deserialize a node from its JSON representation. This method is\n    bound.\n    */\n    nodeFromJSON(json) {\n        return Node.fromJSON(this, json);\n    }\n    /**\n    Deserialize a mark from its JSON representation. This method is\n    bound.\n    */\n    markFromJSON(json) {\n        return Mark.fromJSON(this, json);\n    }\n    /**\n    @internal\n    */\n    nodeType(name) {\n        let found = this.nodes[name];\n        if (!found)\n            throw new RangeError(\"Unknown node type: \" + name);\n        return found;\n    }\n}\nfunction gatherMarks(schema, marks) {\n    let found = [];\n    for (let i = 0; i < marks.length; i++) {\n        let name = marks[i], mark = schema.marks[name], ok = mark;\n        if (mark) {\n            found.push(mark);\n        }\n        else {\n            for (let prop in schema.marks) {\n                let mark = schema.marks[prop];\n                if (name == \"_\" || (mark.spec.group && mark.spec.group.split(\" \").indexOf(name) > -1))\n                    found.push(ok = mark);\n            }\n        }\n        if (!ok)\n            throw new SyntaxError(\"Unknown mark type: '\" + marks[i] + \"'\");\n    }\n    return found;\n}\n\n/**\nA DOM parser represents a strategy for parsing DOM content into a\nProseMirror document conforming to a given schema. Its behavior is\ndefined by an array of [rules](https://prosemirror.net/docs/ref/#model.ParseRule).\n*/\nclass DOMParser {\n    /**\n    Create a parser that targets the given schema, using the given\n    parsing rules.\n    */\n    constructor(\n    /**\n    The schema into which the parser parses.\n    */\n    schema, \n    /**\n    The set of [parse rules](https://prosemirror.net/docs/ref/#model.ParseRule) that the parser\n    uses, in order of precedence.\n    */\n    rules) {\n        this.schema = schema;\n        this.rules = rules;\n        /**\n        @internal\n        */\n        this.tags = [];\n        /**\n        @internal\n        */\n        this.styles = [];\n        rules.forEach(rule => {\n            if (rule.tag)\n                this.tags.push(rule);\n            else if (rule.style)\n                this.styles.push(rule);\n        });\n        // Only normalize list elements when lists in the schema can't directly contain themselves\n        this.normalizeLists = !this.tags.some(r => {\n            if (!/^(ul|ol)\\b/.test(r.tag) || !r.node)\n                return false;\n            let node = schema.nodes[r.node];\n            return node.contentMatch.matchType(node);\n        });\n    }\n    /**\n    Parse a document from the content of a DOM node.\n    */\n    parse(dom, options = {}) {\n        let context = new ParseContext(this, options, false);\n        context.addAll(dom, options.from, options.to);\n        return context.finish();\n    }\n    /**\n    Parses the content of the given DOM node, like\n    [`parse`](https://prosemirror.net/docs/ref/#model.DOMParser.parse), and takes the same set of\n    options. But unlike that method, which produces a whole node,\n    this one returns a slice that is open at the sides, meaning that\n    the schema constraints aren't applied to the start of nodes to\n    the left of the input and the end of nodes at the end.\n    */\n    parseSlice(dom, options = {}) {\n        let context = new ParseContext(this, options, true);\n        context.addAll(dom, options.from, options.to);\n        return Slice.maxOpen(context.finish());\n    }\n    /**\n    @internal\n    */\n    matchTag(dom, context, after) {\n        for (let i = after ? this.tags.indexOf(after) + 1 : 0; i < this.tags.length; i++) {\n            let rule = this.tags[i];\n            if (matches(dom, rule.tag) &&\n                (rule.namespace === undefined || dom.namespaceURI == rule.namespace) &&\n                (!rule.context || context.matchesContext(rule.context))) {\n                if (rule.getAttrs) {\n                    let result = rule.getAttrs(dom);\n                    if (result === false)\n                        continue;\n                    rule.attrs = result || undefined;\n                }\n                return rule;\n            }\n        }\n    }\n    /**\n    @internal\n    */\n    matchStyle(prop, value, context, after) {\n        for (let i = after ? this.styles.indexOf(after) + 1 : 0; i < this.styles.length; i++) {\n            let rule = this.styles[i], style = rule.style;\n            if (style.indexOf(prop) != 0 ||\n                rule.context && !context.matchesContext(rule.context) ||\n                // Test that the style string either precisely matches the prop,\n                // or has an '=' sign after the prop, followed by the given\n                // value.\n                style.length > prop.length &&\n                    (style.charCodeAt(prop.length) != 61 || style.slice(prop.length + 1) != value))\n                continue;\n            if (rule.getAttrs) {\n                let result = rule.getAttrs(value);\n                if (result === false)\n                    continue;\n                rule.attrs = result || undefined;\n            }\n            return rule;\n        }\n    }\n    /**\n    @internal\n    */\n    static schemaRules(schema) {\n        let result = [];\n        function insert(rule) {\n            let priority = rule.priority == null ? 50 : rule.priority, i = 0;\n            for (; i < result.length; i++) {\n                let next = result[i], nextPriority = next.priority == null ? 50 : next.priority;\n                if (nextPriority < priority)\n                    break;\n            }\n            result.splice(i, 0, rule);\n        }\n        for (let name in schema.marks) {\n            let rules = schema.marks[name].spec.parseDOM;\n            if (rules)\n                rules.forEach(rule => {\n                    insert(rule = copy(rule));\n                    rule.mark = name;\n                });\n        }\n        for (let name in schema.nodes) {\n            let rules = schema.nodes[name].spec.parseDOM;\n            if (rules)\n                rules.forEach(rule => {\n                    insert(rule = copy(rule));\n                    rule.node = name;\n                });\n        }\n        return result;\n    }\n    /**\n    Construct a DOM parser using the parsing rules listed in a\n    schema's [node specs](https://prosemirror.net/docs/ref/#model.NodeSpec.parseDOM), reordered by\n    [priority](https://prosemirror.net/docs/ref/#model.ParseRule.priority).\n    */\n    static fromSchema(schema) {\n        return schema.cached.domParser ||\n            (schema.cached.domParser = new DOMParser(schema, DOMParser.schemaRules(schema)));\n    }\n}\nconst blockTags = {\n    address: true, article: true, aside: true, blockquote: true, canvas: true,\n    dd: true, div: true, dl: true, fieldset: true, figcaption: true, figure: true,\n    footer: true, form: true, h1: true, h2: true, h3: true, h4: true, h5: true,\n    h6: true, header: true, hgroup: true, hr: true, li: true, noscript: true, ol: true,\n    output: true, p: true, pre: true, section: true, table: true, tfoot: true, ul: true\n};\nconst ignoreTags = {\n    head: true, noscript: true, object: true, script: true, style: true, title: true\n};\nconst listTags = { ol: true, ul: true };\n// Using a bitfield for node context options\nconst OPT_PRESERVE_WS = 1, OPT_PRESERVE_WS_FULL = 2, OPT_OPEN_LEFT = 4;\nfunction wsOptionsFor(type, preserveWhitespace, base) {\n    if (preserveWhitespace != null)\n        return (preserveWhitespace ? OPT_PRESERVE_WS : 0) |\n            (preserveWhitespace === \"full\" ? OPT_PRESERVE_WS_FULL : 0);\n    return type && type.whitespace == \"pre\" ? OPT_PRESERVE_WS | OPT_PRESERVE_WS_FULL : base & ~OPT_OPEN_LEFT;\n}\nclass NodeContext {\n    constructor(type, attrs, \n    // Marks applied to this node itself\n    marks, \n    // Marks that can't apply here, but will be used in children if possible\n    pendingMarks, solid, match, options) {\n        this.type = type;\n        this.attrs = attrs;\n        this.marks = marks;\n        this.pendingMarks = pendingMarks;\n        this.solid = solid;\n        this.options = options;\n        this.content = [];\n        // Marks applied to the node's children\n        this.activeMarks = Mark.none;\n        // Nested Marks with same type\n        this.stashMarks = [];\n        this.match = match || (options & OPT_OPEN_LEFT ? null : type.contentMatch);\n    }\n    findWrapping(node) {\n        if (!this.match) {\n            if (!this.type)\n                return [];\n            let fill = this.type.contentMatch.fillBefore(Fragment.from(node));\n            if (fill) {\n                this.match = this.type.contentMatch.matchFragment(fill);\n            }\n            else {\n                let start = this.type.contentMatch, wrap;\n                if (wrap = start.findWrapping(node.type)) {\n                    this.match = start;\n                    return wrap;\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        return this.match.findWrapping(node.type);\n    }\n    finish(openEnd) {\n        if (!(this.options & OPT_PRESERVE_WS)) { // Strip trailing whitespace\n            let last = this.content[this.content.length - 1], m;\n            if (last && last.isText && (m = /[ \\t\\r\\n\\u000c]+$/.exec(last.text))) {\n                let text = last;\n                if (last.text.length == m[0].length)\n                    this.content.pop();\n                else\n                    this.content[this.content.length - 1] = text.withText(text.text.slice(0, text.text.length - m[0].length));\n            }\n        }\n        let content = Fragment.from(this.content);\n        if (!openEnd && this.match)\n            content = content.append(this.match.fillBefore(Fragment.empty, true));\n        return this.type ? this.type.create(this.attrs, content, this.marks) : content;\n    }\n    popFromStashMark(mark) {\n        for (let i = this.stashMarks.length - 1; i >= 0; i--)\n            if (mark.eq(this.stashMarks[i]))\n                return this.stashMarks.splice(i, 1)[0];\n    }\n    applyPending(nextType) {\n        for (let i = 0, pending = this.pendingMarks; i < pending.length; i++) {\n            let mark = pending[i];\n            if ((this.type ? this.type.allowsMarkType(mark.type) : markMayApply(mark.type, nextType)) &&\n                !mark.isInSet(this.activeMarks)) {\n                this.activeMarks = mark.addToSet(this.activeMarks);\n                this.pendingMarks = mark.removeFromSet(this.pendingMarks);\n            }\n        }\n    }\n    inlineContext(node) {\n        if (this.type)\n            return this.type.inlineContent;\n        if (this.content.length)\n            return this.content[0].isInline;\n        return node.parentNode && !blockTags.hasOwnProperty(node.parentNode.nodeName.toLowerCase());\n    }\n}\nclass ParseContext {\n    constructor(\n    // The parser we are using.\n    parser, \n    // The options passed to this parse.\n    options, isOpen) {\n        this.parser = parser;\n        this.options = options;\n        this.isOpen = isOpen;\n        this.open = 0;\n        let topNode = options.topNode, topContext;\n        let topOptions = wsOptionsFor(null, options.preserveWhitespace, 0) | (isOpen ? OPT_OPEN_LEFT : 0);\n        if (topNode)\n            topContext = new NodeContext(topNode.type, topNode.attrs, Mark.none, Mark.none, true, options.topMatch || topNode.type.contentMatch, topOptions);\n        else if (isOpen)\n            topContext = new NodeContext(null, null, Mark.none, Mark.none, true, null, topOptions);\n        else\n            topContext = new NodeContext(parser.schema.topNodeType, null, Mark.none, Mark.none, true, null, topOptions);\n        this.nodes = [topContext];\n        this.find = options.findPositions;\n        this.needsBlock = false;\n    }\n    get top() {\n        return this.nodes[this.open];\n    }\n    // Add a DOM node to the content. Text is inserted as text node,\n    // otherwise, the node is passed to `addElement` or, if it has a\n    // `style` attribute, `addElementWithStyles`.\n    addDOM(dom) {\n        if (dom.nodeType == 3) {\n            this.addTextNode(dom);\n        }\n        else if (dom.nodeType == 1) {\n            let style = dom.getAttribute(\"style\");\n            let marks = style ? this.readStyles(parseStyles(style)) : null, top = this.top;\n            if (marks != null)\n                for (let i = 0; i < marks.length; i++)\n                    this.addPendingMark(marks[i]);\n            this.addElement(dom);\n            if (marks != null)\n                for (let i = 0; i < marks.length; i++)\n                    this.removePendingMark(marks[i], top);\n        }\n    }\n    addTextNode(dom) {\n        let value = dom.nodeValue;\n        let top = this.top;\n        if (top.options & OPT_PRESERVE_WS_FULL ||\n            top.inlineContext(dom) ||\n            /[^ \\t\\r\\n\\u000c]/.test(value)) {\n            if (!(top.options & OPT_PRESERVE_WS)) {\n                value = value.replace(/[ \\t\\r\\n\\u000c]+/g, \" \");\n                // If this starts with whitespace, and there is no node before it, or\n                // a hard break, or a text node that ends with whitespace, strip the\n                // leading space.\n                if (/^[ \\t\\r\\n\\u000c]/.test(value) && this.open == this.nodes.length - 1) {\n                    let nodeBefore = top.content[top.content.length - 1];\n                    let domNodeBefore = dom.previousSibling;\n                    if (!nodeBefore ||\n                        (domNodeBefore && domNodeBefore.nodeName == 'BR') ||\n                        (nodeBefore.isText && /[ \\t\\r\\n\\u000c]$/.test(nodeBefore.text)))\n                        value = value.slice(1);\n                }\n            }\n            else if (!(top.options & OPT_PRESERVE_WS_FULL)) {\n                value = value.replace(/\\r?\\n|\\r/g, \" \");\n            }\n            else {\n                value = value.replace(/\\r\\n?/g, \"\\n\");\n            }\n            if (value)\n                this.insertNode(this.parser.schema.text(value));\n            this.findInText(dom);\n        }\n        else {\n            this.findInside(dom);\n        }\n    }\n    // Try to find a handler for the given tag and use that to parse. If\n    // none is found, the element's content nodes are added directly.\n    addElement(dom, matchAfter) {\n        let name = dom.nodeName.toLowerCase(), ruleID;\n        if (listTags.hasOwnProperty(name) && this.parser.normalizeLists)\n            normalizeList(dom);\n        let rule = (this.options.ruleFromNode && this.options.ruleFromNode(dom)) ||\n            (ruleID = this.parser.matchTag(dom, this, matchAfter));\n        if (rule ? rule.ignore : ignoreTags.hasOwnProperty(name)) {\n            this.findInside(dom);\n            this.ignoreFallback(dom);\n        }\n        else if (!rule || rule.skip || rule.closeParent) {\n            if (rule && rule.closeParent)\n                this.open = Math.max(0, this.open - 1);\n            else if (rule && rule.skip.nodeType)\n                dom = rule.skip;\n            let sync, top = this.top, oldNeedsBlock = this.needsBlock;\n            if (blockTags.hasOwnProperty(name)) {\n                sync = true;\n                if (!top.type)\n                    this.needsBlock = true;\n            }\n            else if (!dom.firstChild) {\n                this.leafFallback(dom);\n                return;\n            }\n            this.addAll(dom);\n            if (sync)\n                this.sync(top);\n            this.needsBlock = oldNeedsBlock;\n        }\n        else {\n            this.addElementByRule(dom, rule, rule.consuming === false ? ruleID : undefined);\n        }\n    }\n    // Called for leaf DOM nodes that would otherwise be ignored\n    leafFallback(dom) {\n        if (dom.nodeName == \"BR\" && this.top.type && this.top.type.inlineContent)\n            this.addTextNode(dom.ownerDocument.createTextNode(\"\\n\"));\n    }\n    // Called for ignored nodes\n    ignoreFallback(dom) {\n        // Ignored BR nodes should at least create an inline context\n        if (dom.nodeName == \"BR\" && (!this.top.type || !this.top.type.inlineContent))\n            this.findPlace(this.parser.schema.text(\"-\"));\n    }\n    // Run any style parser associated with the node's styles. Either\n    // return an array of marks, or null to indicate some of the styles\n    // had a rule with `ignore` set.\n    readStyles(styles) {\n        let marks = Mark.none;\n        style: for (let i = 0; i < styles.length; i += 2) {\n            for (let after = undefined;;) {\n                let rule = this.parser.matchStyle(styles[i], styles[i + 1], this, after);\n                if (!rule)\n                    continue style;\n                if (rule.ignore)\n                    return null;\n                marks = this.parser.schema.marks[rule.mark].create(rule.attrs).addToSet(marks);\n                if (rule.consuming === false)\n                    after = rule;\n                else\n                    break;\n            }\n        }\n        return marks;\n    }\n    // Look up a handler for the given node. If none are found, return\n    // false. Otherwise, apply it, use its return value to drive the way\n    // the node's content is wrapped, and return true.\n    addElementByRule(dom, rule, continueAfter) {\n        let sync, nodeType, mark;\n        if (rule.node) {\n            nodeType = this.parser.schema.nodes[rule.node];\n            if (!nodeType.isLeaf) {\n                sync = this.enter(nodeType, rule.attrs || null, rule.preserveWhitespace);\n            }\n            else if (!this.insertNode(nodeType.create(rule.attrs))) {\n                this.leafFallback(dom);\n            }\n        }\n        else {\n            let markType = this.parser.schema.marks[rule.mark];\n            mark = markType.create(rule.attrs);\n            this.addPendingMark(mark);\n        }\n        let startIn = this.top;\n        if (nodeType && nodeType.isLeaf) {\n            this.findInside(dom);\n        }\n        else if (continueAfter) {\n            this.addElement(dom, continueAfter);\n        }\n        else if (rule.getContent) {\n            this.findInside(dom);\n            rule.getContent(dom, this.parser.schema).forEach(node => this.insertNode(node));\n        }\n        else {\n            let contentDOM = dom;\n            if (typeof rule.contentElement == \"string\")\n                contentDOM = dom.querySelector(rule.contentElement);\n            else if (typeof rule.contentElement == \"function\")\n                contentDOM = rule.contentElement(dom);\n            else if (rule.contentElement)\n                contentDOM = rule.contentElement;\n            this.findAround(dom, contentDOM, true);\n            this.addAll(contentDOM);\n        }\n        if (sync && this.sync(startIn))\n            this.open--;\n        if (mark)\n            this.removePendingMark(mark, startIn);\n    }\n    // Add all child nodes between `startIndex` and `endIndex` (or the\n    // whole node, if not given). If `sync` is passed, use it to\n    // synchronize after every block element.\n    addAll(parent, startIndex, endIndex) {\n        let index = startIndex || 0;\n        for (let dom = startIndex ? parent.childNodes[startIndex] : parent.firstChild, end = endIndex == null ? null : parent.childNodes[endIndex]; dom != end; dom = dom.nextSibling, ++index) {\n            this.findAtPoint(parent, index);\n            this.addDOM(dom);\n        }\n        this.findAtPoint(parent, index);\n    }\n    // Try to find a way to fit the given node type into the current\n    // context. May add intermediate wrappers and/or leave non-solid\n    // nodes that we're in.\n    findPlace(node) {\n        let route, sync;\n        for (let depth = this.open; depth >= 0; depth--) {\n            let cx = this.nodes[depth];\n            let found = cx.findWrapping(node);\n            if (found && (!route || route.length > found.length)) {\n                route = found;\n                sync = cx;\n                if (!found.length)\n                    break;\n            }\n            if (cx.solid)\n                break;\n        }\n        if (!route)\n            return false;\n        this.sync(sync);\n        for (let i = 0; i < route.length; i++)\n            this.enterInner(route[i], null, false);\n        return true;\n    }\n    // Try to insert the given node, adjusting the context when needed.\n    insertNode(node) {\n        if (node.isInline && this.needsBlock && !this.top.type) {\n            let block = this.textblockFromContext();\n            if (block)\n                this.enterInner(block);\n        }\n        if (this.findPlace(node)) {\n            this.closeExtra();\n            let top = this.top;\n            top.applyPending(node.type);\n            if (top.match)\n                top.match = top.match.matchType(node.type);\n            let marks = top.activeMarks;\n            for (let i = 0; i < node.marks.length; i++)\n                if (!top.type || top.type.allowsMarkType(node.marks[i].type))\n                    marks = node.marks[i].addToSet(marks);\n            top.content.push(node.mark(marks));\n            return true;\n        }\n        return false;\n    }\n    // Try to start a node of the given type, adjusting the context when\n    // necessary.\n    enter(type, attrs, preserveWS) {\n        let ok = this.findPlace(type.create(attrs));\n        if (ok)\n            this.enterInner(type, attrs, true, preserveWS);\n        return ok;\n    }\n    // Open a node of the given type\n    enterInner(type, attrs = null, solid = false, preserveWS) {\n        this.closeExtra();\n        let top = this.top;\n        top.applyPending(type);\n        top.match = top.match && top.match.matchType(type);\n        let options = wsOptionsFor(type, preserveWS, top.options);\n        if ((top.options & OPT_OPEN_LEFT) && top.content.length == 0)\n            options |= OPT_OPEN_LEFT;\n        this.nodes.push(new NodeContext(type, attrs, top.activeMarks, top.pendingMarks, solid, null, options));\n        this.open++;\n    }\n    // Make sure all nodes above this.open are finished and added to\n    // their parents\n    closeExtra(openEnd = false) {\n        let i = this.nodes.length - 1;\n        if (i > this.open) {\n            for (; i > this.open; i--)\n                this.nodes[i - 1].content.push(this.nodes[i].finish(openEnd));\n            this.nodes.length = this.open + 1;\n        }\n    }\n    finish() {\n        this.open = 0;\n        this.closeExtra(this.isOpen);\n        return this.nodes[0].finish(this.isOpen || this.options.topOpen);\n    }\n    sync(to) {\n        for (let i = this.open; i >= 0; i--)\n            if (this.nodes[i] == to) {\n                this.open = i;\n                return true;\n            }\n        return false;\n    }\n    get currentPos() {\n        this.closeExtra();\n        let pos = 0;\n        for (let i = this.open; i >= 0; i--) {\n            let content = this.nodes[i].content;\n            for (let j = content.length - 1; j >= 0; j--)\n                pos += content[j].nodeSize;\n            if (i)\n                pos++;\n        }\n        return pos;\n    }\n    findAtPoint(parent, offset) {\n        if (this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].node == parent && this.find[i].offset == offset)\n                    this.find[i].pos = this.currentPos;\n            }\n    }\n    findInside(parent) {\n        if (this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].pos == null && parent.nodeType == 1 && parent.contains(this.find[i].node))\n                    this.find[i].pos = this.currentPos;\n            }\n    }\n    findAround(parent, content, before) {\n        if (parent != content && this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].pos == null && parent.nodeType == 1 && parent.contains(this.find[i].node)) {\n                    let pos = content.compareDocumentPosition(this.find[i].node);\n                    if (pos & (before ? 2 : 4))\n                        this.find[i].pos = this.currentPos;\n                }\n            }\n    }\n    findInText(textNode) {\n        if (this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].node == textNode)\n                    this.find[i].pos = this.currentPos - (textNode.nodeValue.length - this.find[i].offset);\n            }\n    }\n    // Determines whether the given context string matches this context.\n    matchesContext(context) {\n        if (context.indexOf(\"|\") > -1)\n            return context.split(/\\s*\\|\\s*/).some(this.matchesContext, this);\n        let parts = context.split(\"/\");\n        let option = this.options.context;\n        let useRoot = !this.isOpen && (!option || option.parent.type == this.nodes[0].type);\n        let minDepth = -(option ? option.depth + 1 : 0) + (useRoot ? 0 : 1);\n        let match = (i, depth) => {\n            for (; i >= 0; i--) {\n                let part = parts[i];\n                if (part == \"\") {\n                    if (i == parts.length - 1 || i == 0)\n                        continue;\n                    for (; depth >= minDepth; depth--)\n                        if (match(i - 1, depth))\n                            return true;\n                    return false;\n                }\n                else {\n                    let next = depth > 0 || (depth == 0 && useRoot) ? this.nodes[depth].type\n                        : option && depth >= minDepth ? option.node(depth - minDepth).type\n                            : null;\n                    if (!next || (next.name != part && next.groups.indexOf(part) == -1))\n                        return false;\n                    depth--;\n                }\n            }\n            return true;\n        };\n        return match(parts.length - 1, this.open);\n    }\n    textblockFromContext() {\n        let $context = this.options.context;\n        if ($context)\n            for (let d = $context.depth; d >= 0; d--) {\n                let deflt = $context.node(d).contentMatchAt($context.indexAfter(d)).defaultType;\n                if (deflt && deflt.isTextblock && deflt.defaultAttrs)\n                    return deflt;\n            }\n        for (let name in this.parser.schema.nodes) {\n            let type = this.parser.schema.nodes[name];\n            if (type.isTextblock && type.defaultAttrs)\n                return type;\n        }\n    }\n    addPendingMark(mark) {\n        let found = findSameMarkInSet(mark, this.top.pendingMarks);\n        if (found)\n            this.top.stashMarks.push(found);\n        this.top.pendingMarks = mark.addToSet(this.top.pendingMarks);\n    }\n    removePendingMark(mark, upto) {\n        for (let depth = this.open; depth >= 0; depth--) {\n            let level = this.nodes[depth];\n            let found = level.pendingMarks.lastIndexOf(mark);\n            if (found > -1) {\n                level.pendingMarks = mark.removeFromSet(level.pendingMarks);\n            }\n            else {\n                level.activeMarks = mark.removeFromSet(level.activeMarks);\n                let stashMark = level.popFromStashMark(mark);\n                if (stashMark && level.type && level.type.allowsMarkType(stashMark.type))\n                    level.activeMarks = stashMark.addToSet(level.activeMarks);\n            }\n            if (level == upto)\n                break;\n        }\n    }\n}\n// Kludge to work around directly nested list nodes produced by some\n// tools and allowed by browsers to mean that the nested list is\n// actually part of the list item above it.\nfunction normalizeList(dom) {\n    for (let child = dom.firstChild, prevItem = null; child; child = child.nextSibling) {\n        let name = child.nodeType == 1 ? child.nodeName.toLowerCase() : null;\n        if (name && listTags.hasOwnProperty(name) && prevItem) {\n            prevItem.appendChild(child);\n            child = prevItem;\n        }\n        else if (name == \"li\") {\n            prevItem = child;\n        }\n        else if (name) {\n            prevItem = null;\n        }\n    }\n}\n// Apply a CSS selector.\nfunction matches(dom, selector) {\n    return (dom.matches || dom.msMatchesSelector || dom.webkitMatchesSelector || dom.mozMatchesSelector).call(dom, selector);\n}\n// Tokenize a style attribute into property/value pairs.\nfunction parseStyles(style) {\n    let re = /\\s*([\\w-]+)\\s*:\\s*([^;]+)/g, m, result = [];\n    while (m = re.exec(style))\n        result.push(m[1], m[2].trim());\n    return result;\n}\nfunction copy(obj) {\n    let copy = {};\n    for (let prop in obj)\n        copy[prop] = obj[prop];\n    return copy;\n}\n// Used when finding a mark at the top level of a fragment parse.\n// Checks whether it would be reasonable to apply a given mark type to\n// a given node, by looking at the way the mark occurs in the schema.\nfunction markMayApply(markType, nodeType) {\n    let nodes = nodeType.schema.nodes;\n    for (let name in nodes) {\n        let parent = nodes[name];\n        if (!parent.allowsMarkType(markType))\n            continue;\n        let seen = [], scan = (match) => {\n            seen.push(match);\n            for (let i = 0; i < match.edgeCount; i++) {\n                let { type, next } = match.edge(i);\n                if (type == nodeType)\n                    return true;\n                if (seen.indexOf(next) < 0 && scan(next))\n                    return true;\n            }\n        };\n        if (scan(parent.contentMatch))\n            return true;\n    }\n}\nfunction findSameMarkInSet(mark, set) {\n    for (let i = 0; i < set.length; i++) {\n        if (mark.eq(set[i]))\n            return set[i];\n    }\n}\n\n/**\nA DOM serializer knows how to convert ProseMirror nodes and\nmarks of various types to DOM nodes.\n*/\nclass DOMSerializer {\n    /**\n    Create a serializer. `nodes` should map node names to functions\n    that take a node and return a description of the corresponding\n    DOM. `marks` does the same for mark names, but also gets an\n    argument that tells it whether the mark's content is block or\n    inline content (for typical use, it'll always be inline). A mark\n    serializer may be `null` to indicate that marks of that type\n    should not be serialized.\n    */\n    constructor(\n    /**\n    The node serialization functions.\n    */\n    nodes, \n    /**\n    The mark serialization functions.\n    */\n    marks) {\n        this.nodes = nodes;\n        this.marks = marks;\n    }\n    /**\n    Serialize the content of this fragment to a DOM fragment. When\n    not in the browser, the `document` option, containing a DOM\n    document, should be passed so that the serializer can create\n    nodes.\n    */\n    serializeFragment(fragment, options = {}, target) {\n        if (!target)\n            target = doc(options).createDocumentFragment();\n        let top = target, active = [];\n        fragment.forEach(node => {\n            if (active.length || node.marks.length) {\n                let keep = 0, rendered = 0;\n                while (keep < active.length && rendered < node.marks.length) {\n                    let next = node.marks[rendered];\n                    if (!this.marks[next.type.name]) {\n                        rendered++;\n                        continue;\n                    }\n                    if (!next.eq(active[keep][0]) || next.type.spec.spanning === false)\n                        break;\n                    keep++;\n                    rendered++;\n                }\n                while (keep < active.length)\n                    top = active.pop()[1];\n                while (rendered < node.marks.length) {\n                    let add = node.marks[rendered++];\n                    let markDOM = this.serializeMark(add, node.isInline, options);\n                    if (markDOM) {\n                        active.push([add, top]);\n                        top.appendChild(markDOM.dom);\n                        top = markDOM.contentDOM || markDOM.dom;\n                    }\n                }\n            }\n            top.appendChild(this.serializeNodeInner(node, options));\n        });\n        return target;\n    }\n    /**\n    @internal\n    */\n    serializeNodeInner(node, options) {\n        let { dom, contentDOM } = DOMSerializer.renderSpec(doc(options), this.nodes[node.type.name](node));\n        if (contentDOM) {\n            if (node.isLeaf)\n                throw new RangeError(\"Content hole not allowed in a leaf node spec\");\n            this.serializeFragment(node.content, options, contentDOM);\n        }\n        return dom;\n    }\n    /**\n    Serialize this node to a DOM node. This can be useful when you\n    need to serialize a part of a document, as opposed to the whole\n    document. To serialize a whole document, use\n    [`serializeFragment`](https://prosemirror.net/docs/ref/#model.DOMSerializer.serializeFragment) on\n    its [content](https://prosemirror.net/docs/ref/#model.Node.content).\n    */\n    serializeNode(node, options = {}) {\n        let dom = this.serializeNodeInner(node, options);\n        for (let i = node.marks.length - 1; i >= 0; i--) {\n            let wrap = this.serializeMark(node.marks[i], node.isInline, options);\n            if (wrap) {\n                (wrap.contentDOM || wrap.dom).appendChild(dom);\n                dom = wrap.dom;\n            }\n        }\n        return dom;\n    }\n    /**\n    @internal\n    */\n    serializeMark(mark, inline, options = {}) {\n        let toDOM = this.marks[mark.type.name];\n        return toDOM && DOMSerializer.renderSpec(doc(options), toDOM(mark, inline));\n    }\n    /**\n    Render an [output spec](https://prosemirror.net/docs/ref/#model.DOMOutputSpec) to a DOM node. If\n    the spec has a hole (zero) in it, `contentDOM` will point at the\n    node with the hole.\n    */\n    static renderSpec(doc, structure, xmlNS = null) {\n        if (typeof structure == \"string\")\n            return { dom: doc.createTextNode(structure) };\n        if (structure.nodeType != null)\n            return { dom: structure };\n        if (structure.dom && structure.dom.nodeType != null)\n            return structure;\n        let tagName = structure[0], space = tagName.indexOf(\" \");\n        if (space > 0) {\n            xmlNS = tagName.slice(0, space);\n            tagName = tagName.slice(space + 1);\n        }\n        let contentDOM;\n        let dom = (xmlNS ? doc.createElementNS(xmlNS, tagName) : doc.createElement(tagName));\n        let attrs = structure[1], start = 1;\n        if (attrs && typeof attrs == \"object\" && attrs.nodeType == null && !Array.isArray(attrs)) {\n            start = 2;\n            for (let name in attrs)\n                if (attrs[name] != null) {\n                    let space = name.indexOf(\" \");\n                    if (space > 0)\n                        dom.setAttributeNS(name.slice(0, space), name.slice(space + 1), attrs[name]);\n                    else\n                        dom.setAttribute(name, attrs[name]);\n                }\n        }\n        for (let i = start; i < structure.length; i++) {\n            let child = structure[i];\n            if (child === 0) {\n                if (i < structure.length - 1 || i > start)\n                    throw new RangeError(\"Content hole must be the only child of its parent node\");\n                return { dom, contentDOM: dom };\n            }\n            else {\n                let { dom: inner, contentDOM: innerContent } = DOMSerializer.renderSpec(doc, child, xmlNS);\n                dom.appendChild(inner);\n                if (innerContent) {\n                    if (contentDOM)\n                        throw new RangeError(\"Multiple content holes\");\n                    contentDOM = innerContent;\n                }\n            }\n        }\n        return { dom, contentDOM };\n    }\n    /**\n    Build a serializer using the [`toDOM`](https://prosemirror.net/docs/ref/#model.NodeSpec.toDOM)\n    properties in a schema's node and mark specs.\n    */\n    static fromSchema(schema) {\n        return schema.cached.domSerializer ||\n            (schema.cached.domSerializer = new DOMSerializer(this.nodesFromSchema(schema), this.marksFromSchema(schema)));\n    }\n    /**\n    Gather the serializers in a schema's node specs into an object.\n    This can be useful as a base to build a custom serializer from.\n    */\n    static nodesFromSchema(schema) {\n        let result = gatherToDOM(schema.nodes);\n        if (!result.text)\n            result.text = node => node.text;\n        return result;\n    }\n    /**\n    Gather the serializers in a schema's mark specs into an object.\n    */\n    static marksFromSchema(schema) {\n        return gatherToDOM(schema.marks);\n    }\n}\nfunction gatherToDOM(obj) {\n    let result = {};\n    for (let name in obj) {\n        let toDOM = obj[name].spec.toDOM;\n        if (toDOM)\n            result[name] = toDOM;\n    }\n    return result;\n}\nfunction doc(options) {\n    return options.document || window.document;\n}\n\nexport { ContentMatch, DOMParser, DOMSerializer, Fragment, Mark, MarkType, Node, NodeRange, NodeType, ReplaceError, ResolvedPos, Schema, Slice };\n","import { findWrapping, ReplaceAroundStep, canSplit, liftTarget } from 'prosemirror-transform';\nimport { NodeRange, Fragment, Slice } from 'prosemirror-model';\nimport { Selection } from 'prosemirror-state';\n\nconst olDOM = [\"ol\", 0], ulDOM = [\"ul\", 0], liDOM = [\"li\", 0];\n/**\nAn ordered list [node spec](https://prosemirror.net/docs/ref/#model.NodeSpec). Has a single\nattribute, `order`, which determines the number at which the list\nstarts counting, and defaults to 1. Represented as an `<ol>`\nelement.\n*/\nconst orderedList = {\n    attrs: { order: { default: 1 } },\n    parseDOM: [{ tag: \"ol\", getAttrs(dom) {\n                return { order: dom.hasAttribute(\"start\") ? +dom.getAttribute(\"start\") : 1 };\n            } }],\n    toDOM(node) {\n        return node.attrs.order == 1 ? olDOM : [\"ol\", { start: node.attrs.order }, 0];\n    }\n};\n/**\nA bullet list node spec, represented in the DOM as `<ul>`.\n*/\nconst bulletList = {\n    parseDOM: [{ tag: \"ul\" }],\n    toDOM() { return ulDOM; }\n};\n/**\nA list item (`<li>`) spec.\n*/\nconst listItem = {\n    parseDOM: [{ tag: \"li\" }],\n    toDOM() { return liDOM; },\n    defining: true\n};\nfunction add(obj, props) {\n    let copy = {};\n    for (let prop in obj)\n        copy[prop] = obj[prop];\n    for (let prop in props)\n        copy[prop] = props[prop];\n    return copy;\n}\n/**\nConvenience function for adding list-related node types to a map\nspecifying the nodes for a schema. Adds\n[`orderedList`](https://prosemirror.net/docs/ref/#schema-list.orderedList) as `\"ordered_list\"`,\n[`bulletList`](https://prosemirror.net/docs/ref/#schema-list.bulletList) as `\"bullet_list\"`, and\n[`listItem`](https://prosemirror.net/docs/ref/#schema-list.listItem) as `\"list_item\"`.\n\n`itemContent` determines the content expression for the list items.\nIf you want the commands defined in this module to apply to your\nlist structure, it should have a shape like `\"paragraph block*\"` or\n`\"paragraph (ordered_list | bullet_list)*\"`. `listGroup` can be\ngiven to assign a group name to the list node types, for example\n`\"block\"`.\n*/\nfunction addListNodes(nodes, itemContent, listGroup) {\n    return nodes.append({\n        ordered_list: add(orderedList, { content: \"list_item+\", group: listGroup }),\n        bullet_list: add(bulletList, { content: \"list_item+\", group: listGroup }),\n        list_item: add(listItem, { content: itemContent })\n    });\n}\n/**\nReturns a command function that wraps the selection in a list with\nthe given type an attributes. If `dispatch` is null, only return a\nvalue to indicate whether this is possible, but don't actually\nperform the change.\n*/\nfunction wrapInList(listType, attrs = null) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to), doJoin = false, outerRange = range;\n        if (!range)\n            return false;\n        // This is at the top of an existing list item\n        if (range.depth >= 2 && $from.node(range.depth - 1).type.compatibleContent(listType) && range.startIndex == 0) {\n            // Don't do anything if this is the top of the list\n            if ($from.index(range.depth - 1) == 0)\n                return false;\n            let $insert = state.doc.resolve(range.start - 2);\n            outerRange = new NodeRange($insert, $insert, range.depth);\n            if (range.endIndex < range.parent.childCount)\n                range = new NodeRange($from, state.doc.resolve($to.end(range.depth)), range.depth);\n            doJoin = true;\n        }\n        let wrap = findWrapping(outerRange, listType, attrs, range);\n        if (!wrap)\n            return false;\n        if (dispatch)\n            dispatch(doWrapInList(state.tr, range, wrap, doJoin, listType).scrollIntoView());\n        return true;\n    };\n}\nfunction doWrapInList(tr, range, wrappers, joinBefore, listType) {\n    let content = Fragment.empty;\n    for (let i = wrappers.length - 1; i >= 0; i--)\n        content = Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content));\n    tr.step(new ReplaceAroundStep(range.start - (joinBefore ? 2 : 0), range.end, range.start, range.end, new Slice(content, 0, 0), wrappers.length, true));\n    let found = 0;\n    for (let i = 0; i < wrappers.length; i++)\n        if (wrappers[i].type == listType)\n            found = i + 1;\n    let splitDepth = wrappers.length - found;\n    let splitPos = range.start + wrappers.length - (joinBefore ? 2 : 0), parent = range.parent;\n    for (let i = range.startIndex, e = range.endIndex, first = true; i < e; i++, first = false) {\n        if (!first && canSplit(tr.doc, splitPos, splitDepth)) {\n            tr.split(splitPos, splitDepth);\n            splitPos += 2 * splitDepth;\n        }\n        splitPos += parent.child(i).nodeSize;\n    }\n    return tr;\n}\n/**\nBuild a command that splits a non-empty textblock at the top level\nof a list item by also splitting that list item.\n*/\nfunction splitListItem(itemType) {\n    return function (state, dispatch) {\n        let { $from, $to, node } = state.selection;\n        if ((node && node.isBlock) || $from.depth < 2 || !$from.sameParent($to))\n            return false;\n        let grandParent = $from.node(-1);\n        if (grandParent.type != itemType)\n            return false;\n        if ($from.parent.content.size == 0 && $from.node(-1).childCount == $from.indexAfter(-1)) {\n            // In an empty block. If this is a nested list, the wrapping\n            // list item should be split. Otherwise, bail out and let next\n            // command handle lifting.\n            if ($from.depth == 3 || $from.node(-3).type != itemType ||\n                $from.index(-2) != $from.node(-2).childCount - 1)\n                return false;\n            if (dispatch) {\n                let wrap = Fragment.empty;\n                let depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3;\n                // Build a fragment containing empty versions of the structure\n                // from the outer list item to the parent node of the cursor\n                for (let d = $from.depth - depthBefore; d >= $from.depth - 3; d--)\n                    wrap = Fragment.from($from.node(d).copy(wrap));\n                let depthAfter = $from.indexAfter(-1) < $from.node(-2).childCount ? 1\n                    : $from.indexAfter(-2) < $from.node(-3).childCount ? 2 : 3;\n                // Add a second list item with an empty default start node\n                wrap = wrap.append(Fragment.from(itemType.createAndFill()));\n                let start = $from.before($from.depth - (depthBefore - 1));\n                let tr = state.tr.replace(start, $from.after(-depthAfter), new Slice(wrap, 4 - depthBefore, 0));\n                let sel = -1;\n                tr.doc.nodesBetween(start, tr.doc.content.size, (node, pos) => {\n                    if (sel > -1)\n                        return false;\n                    if (node.isTextblock && node.content.size == 0)\n                        sel = pos + 1;\n                });\n                if (sel > -1)\n                    tr.setSelection(Selection.near(tr.doc.resolve(sel)));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n        let nextType = $to.pos == $from.end() ? grandParent.contentMatchAt(0).defaultType : null;\n        let tr = state.tr.delete($from.pos, $to.pos);\n        let types = nextType ? [null, { type: nextType }] : undefined;\n        if (!canSplit(tr.doc, $from.pos, 2, types))\n            return false;\n        if (dispatch)\n            dispatch(tr.split($from.pos, 2, types).scrollIntoView());\n        return true;\n    };\n}\n/**\nCreate a command to lift the list item around the selection up into\na wrapping list.\n*/\nfunction liftListItem(itemType) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to, node => node.childCount > 0 && node.firstChild.type == itemType);\n        if (!range)\n            return false;\n        if (!dispatch)\n            return true;\n        if ($from.node(range.depth - 1).type == itemType) // Inside a parent list\n            return liftToOuterList(state, dispatch, itemType, range);\n        else // Outer list node\n            return liftOutOfList(state, dispatch, range);\n    };\n}\nfunction liftToOuterList(state, dispatch, itemType, range) {\n    let tr = state.tr, end = range.end, endOfList = range.$to.end(range.depth);\n    if (end < endOfList) {\n        // There are siblings after the lifted items, which must become\n        // children of the last item\n        tr.step(new ReplaceAroundStep(end - 1, endOfList, end, endOfList, new Slice(Fragment.from(itemType.create(null, range.parent.copy())), 1, 0), 1, true));\n        range = new NodeRange(tr.doc.resolve(range.$from.pos), tr.doc.resolve(endOfList), range.depth);\n    }\n    const target = liftTarget(range);\n    if (target == null)\n        return false;\n    dispatch(tr.lift(range, target).scrollIntoView());\n    return true;\n}\nfunction liftOutOfList(state, dispatch, range) {\n    let tr = state.tr, list = range.parent;\n    // Merge the list items into a single big item\n    for (let pos = range.end, i = range.endIndex - 1, e = range.startIndex; i > e; i--) {\n        pos -= list.child(i).nodeSize;\n        tr.delete(pos - 1, pos + 1);\n    }\n    let $start = tr.doc.resolve(range.start), item = $start.nodeAfter;\n    if (tr.mapping.map(range.end) != range.start + $start.nodeAfter.nodeSize)\n        return false;\n    let atStart = range.startIndex == 0, atEnd = range.endIndex == list.childCount;\n    let parent = $start.node(-1), indexBefore = $start.index(-1);\n    if (!parent.canReplace(indexBefore + (atStart ? 0 : 1), indexBefore + 1, item.content.append(atEnd ? Fragment.empty : Fragment.from(list))))\n        return false;\n    let start = $start.pos, end = start + item.nodeSize;\n    // Strip off the surrounding list. At the sides where we're not at\n    // the end of the list, the existing list is closed. At sides where\n    // this is the end, it is overwritten to its end.\n    tr.step(new ReplaceAroundStep(start - (atStart ? 1 : 0), end + (atEnd ? 1 : 0), start + 1, end - 1, new Slice((atStart ? Fragment.empty : Fragment.from(list.copy(Fragment.empty)))\n        .append(atEnd ? Fragment.empty : Fragment.from(list.copy(Fragment.empty))), atStart ? 0 : 1, atEnd ? 0 : 1), atStart ? 0 : 1));\n    dispatch(tr.scrollIntoView());\n    return true;\n}\n/**\nCreate a command to sink the list item around the selection down\ninto an inner list.\n*/\nfunction sinkListItem(itemType) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to, node => node.childCount > 0 && node.firstChild.type == itemType);\n        if (!range)\n            return false;\n        let startIndex = range.startIndex;\n        if (startIndex == 0)\n            return false;\n        let parent = range.parent, nodeBefore = parent.child(startIndex - 1);\n        if (nodeBefore.type != itemType)\n            return false;\n        if (dispatch) {\n            let nestedBefore = nodeBefore.lastChild && nodeBefore.lastChild.type == parent.type;\n            let inner = Fragment.from(nestedBefore ? itemType.create() : null);\n            let slice = new Slice(Fragment.from(itemType.create(null, Fragment.from(parent.type.create(null, inner)))), nestedBefore ? 3 : 1, 0);\n            let before = range.start, after = range.end;\n            dispatch(state.tr.step(new ReplaceAroundStep(before - (nestedBefore ? 3 : 1), after, before, after, slice, 1, true))\n                .scrollIntoView());\n        }\n        return true;\n    };\n}\n\nexport { addListNodes, bulletList, liftListItem, listItem, orderedList, sinkListItem, splitListItem, wrapInList };\n","import { Slice, Fragment, Mark, Node } from 'prosemirror-model';\nimport { ReplaceStep, ReplaceAroundStep, Transform } from 'prosemirror-transform';\n\nconst classesById = Object.create(null);\n/**\nSuperclass for editor selections. Every selection type should\nextend this. Should not be instantiated directly.\n*/\nclass Selection {\n    /**\n    Initialize a selection with the head and anchor and ranges. If no\n    ranges are given, constructs a single range across `$anchor` and\n    `$head`.\n    */\n    constructor(\n    /**\n    The resolved anchor of the selection (the side that stays in\n    place when the selection is modified).\n    */\n    $anchor, \n    /**\n    The resolved head of the selection (the side that moves when\n    the selection is modified).\n    */\n    $head, ranges) {\n        this.$anchor = $anchor;\n        this.$head = $head;\n        this.ranges = ranges || [new SelectionRange($anchor.min($head), $anchor.max($head))];\n    }\n    /**\n    The selection's anchor, as an unresolved position.\n    */\n    get anchor() { return this.$anchor.pos; }\n    /**\n    The selection's head.\n    */\n    get head() { return this.$head.pos; }\n    /**\n    The lower bound of the selection's main range.\n    */\n    get from() { return this.$from.pos; }\n    /**\n    The upper bound of the selection's main range.\n    */\n    get to() { return this.$to.pos; }\n    /**\n    The resolved lower  bound of the selection's main range.\n    */\n    get $from() {\n        return this.ranges[0].$from;\n    }\n    /**\n    The resolved upper bound of the selection's main range.\n    */\n    get $to() {\n        return this.ranges[0].$to;\n    }\n    /**\n    Indicates whether the selection contains any content.\n    */\n    get empty() {\n        let ranges = this.ranges;\n        for (let i = 0; i < ranges.length; i++)\n            if (ranges[i].$from.pos != ranges[i].$to.pos)\n                return false;\n        return true;\n    }\n    /**\n    Get the content of this selection as a slice.\n    */\n    content() {\n        return this.$from.doc.slice(this.from, this.to, true);\n    }\n    /**\n    Replace the selection with a slice or, if no slice is given,\n    delete the selection. Will append to the given transaction.\n    */\n    replace(tr, content = Slice.empty) {\n        // Put the new selection at the position after the inserted\n        // content. When that ended in an inline node, search backwards,\n        // to get the position after that node. If not, search forward.\n        let lastNode = content.content.lastChild, lastParent = null;\n        for (let i = 0; i < content.openEnd; i++) {\n            lastParent = lastNode;\n            lastNode = lastNode.lastChild;\n        }\n        let mapFrom = tr.steps.length, ranges = this.ranges;\n        for (let i = 0; i < ranges.length; i++) {\n            let { $from, $to } = ranges[i], mapping = tr.mapping.slice(mapFrom);\n            tr.replaceRange(mapping.map($from.pos), mapping.map($to.pos), i ? Slice.empty : content);\n            if (i == 0)\n                selectionToInsertionEnd(tr, mapFrom, (lastNode ? lastNode.isInline : lastParent && lastParent.isTextblock) ? -1 : 1);\n        }\n    }\n    /**\n    Replace the selection with the given node, appending the changes\n    to the given transaction.\n    */\n    replaceWith(tr, node) {\n        let mapFrom = tr.steps.length, ranges = this.ranges;\n        for (let i = 0; i < ranges.length; i++) {\n            let { $from, $to } = ranges[i], mapping = tr.mapping.slice(mapFrom);\n            let from = mapping.map($from.pos), to = mapping.map($to.pos);\n            if (i) {\n                tr.deleteRange(from, to);\n            }\n            else {\n                tr.replaceRangeWith(from, to, node);\n                selectionToInsertionEnd(tr, mapFrom, node.isInline ? -1 : 1);\n            }\n        }\n    }\n    /**\n    Find a valid cursor or leaf node selection starting at the given\n    position and searching back if `dir` is negative, and forward if\n    positive. When `textOnly` is true, only consider cursor\n    selections. Will return null when no valid selection position is\n    found.\n    */\n    static findFrom($pos, dir, textOnly = false) {\n        let inner = $pos.parent.inlineContent ? new TextSelection($pos)\n            : findSelectionIn($pos.node(0), $pos.parent, $pos.pos, $pos.index(), dir, textOnly);\n        if (inner)\n            return inner;\n        for (let depth = $pos.depth - 1; depth >= 0; depth--) {\n            let found = dir < 0\n                ? findSelectionIn($pos.node(0), $pos.node(depth), $pos.before(depth + 1), $pos.index(depth), dir, textOnly)\n                : findSelectionIn($pos.node(0), $pos.node(depth), $pos.after(depth + 1), $pos.index(depth) + 1, dir, textOnly);\n            if (found)\n                return found;\n        }\n        return null;\n    }\n    /**\n    Find a valid cursor or leaf node selection near the given\n    position. Searches forward first by default, but if `bias` is\n    negative, it will search backwards first.\n    */\n    static near($pos, bias = 1) {\n        return this.findFrom($pos, bias) || this.findFrom($pos, -bias) || new AllSelection($pos.node(0));\n    }\n    /**\n    Find the cursor or leaf node selection closest to the start of\n    the given document. Will return an\n    [`AllSelection`](https://prosemirror.net/docs/ref/#state.AllSelection) if no valid position\n    exists.\n    */\n    static atStart(doc) {\n        return findSelectionIn(doc, doc, 0, 0, 1) || new AllSelection(doc);\n    }\n    /**\n    Find the cursor or leaf node selection closest to the end of the\n    given document.\n    */\n    static atEnd(doc) {\n        return findSelectionIn(doc, doc, doc.content.size, doc.childCount, -1) || new AllSelection(doc);\n    }\n    /**\n    Deserialize the JSON representation of a selection. Must be\n    implemented for custom classes (as a static class method).\n    */\n    static fromJSON(doc, json) {\n        if (!json || !json.type)\n            throw new RangeError(\"Invalid input for Selection.fromJSON\");\n        let cls = classesById[json.type];\n        if (!cls)\n            throw new RangeError(`No selection type ${json.type} defined`);\n        return cls.fromJSON(doc, json);\n    }\n    /**\n    To be able to deserialize selections from JSON, custom selection\n    classes must register themselves with an ID string, so that they\n    can be disambiguated. Try to pick something that's unlikely to\n    clash with classes from other modules.\n    */\n    static jsonID(id, selectionClass) {\n        if (id in classesById)\n            throw new RangeError(\"Duplicate use of selection JSON ID \" + id);\n        classesById[id] = selectionClass;\n        selectionClass.prototype.jsonID = id;\n        return selectionClass;\n    }\n    /**\n    Get a [bookmark](https://prosemirror.net/docs/ref/#state.SelectionBookmark) for this selection,\n    which is a value that can be mapped without having access to a\n    current document, and later resolved to a real selection for a\n    given document again. (This is used mostly by the history to\n    track and restore old selections.) The default implementation of\n    this method just converts the selection to a text selection and\n    returns the bookmark for that.\n    */\n    getBookmark() {\n        return TextSelection.between(this.$anchor, this.$head).getBookmark();\n    }\n}\nSelection.prototype.visible = true;\n/**\nRepresents a selected range in a document.\n*/\nclass SelectionRange {\n    /**\n    Create a range.\n    */\n    constructor(\n    /**\n    The lower bound of the range.\n    */\n    $from, \n    /**\n    The upper bound of the range.\n    */\n    $to) {\n        this.$from = $from;\n        this.$to = $to;\n    }\n}\nlet warnedAboutTextSelection = false;\nfunction checkTextSelection($pos) {\n    if (!warnedAboutTextSelection && !$pos.parent.inlineContent) {\n        warnedAboutTextSelection = true;\n        console[\"warn\"](\"TextSelection endpoint not pointing into a node with inline content (\" + $pos.parent.type.name + \")\");\n    }\n}\n/**\nA text selection represents a classical editor selection, with a\nhead (the moving side) and anchor (immobile side), both of which\npoint into textblock nodes. It can be empty (a regular cursor\nposition).\n*/\nclass TextSelection extends Selection {\n    /**\n    Construct a text selection between the given points.\n    */\n    constructor($anchor, $head = $anchor) {\n        checkTextSelection($anchor);\n        checkTextSelection($head);\n        super($anchor, $head);\n    }\n    /**\n    Returns a resolved position if this is a cursor selection (an\n    empty text selection), and null otherwise.\n    */\n    get $cursor() { return this.$anchor.pos == this.$head.pos ? this.$head : null; }\n    map(doc, mapping) {\n        let $head = doc.resolve(mapping.map(this.head));\n        if (!$head.parent.inlineContent)\n            return Selection.near($head);\n        let $anchor = doc.resolve(mapping.map(this.anchor));\n        return new TextSelection($anchor.parent.inlineContent ? $anchor : $head, $head);\n    }\n    replace(tr, content = Slice.empty) {\n        super.replace(tr, content);\n        if (content == Slice.empty) {\n            let marks = this.$from.marksAcross(this.$to);\n            if (marks)\n                tr.ensureMarks(marks);\n        }\n    }\n    eq(other) {\n        return other instanceof TextSelection && other.anchor == this.anchor && other.head == this.head;\n    }\n    getBookmark() {\n        return new TextBookmark(this.anchor, this.head);\n    }\n    toJSON() {\n        return { type: \"text\", anchor: this.anchor, head: this.head };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(doc, json) {\n        if (typeof json.anchor != \"number\" || typeof json.head != \"number\")\n            throw new RangeError(\"Invalid input for TextSelection.fromJSON\");\n        return new TextSelection(doc.resolve(json.anchor), doc.resolve(json.head));\n    }\n    /**\n    Create a text selection from non-resolved positions.\n    */\n    static create(doc, anchor, head = anchor) {\n        let $anchor = doc.resolve(anchor);\n        return new this($anchor, head == anchor ? $anchor : doc.resolve(head));\n    }\n    /**\n    Return a text selection that spans the given positions or, if\n    they aren't text positions, find a text selection near them.\n    `bias` determines whether the method searches forward (default)\n    or backwards (negative number) first. Will fall back to calling\n    [`Selection.near`](https://prosemirror.net/docs/ref/#state.Selection^near) when the document\n    doesn't contain a valid text position.\n    */\n    static between($anchor, $head, bias) {\n        let dPos = $anchor.pos - $head.pos;\n        if (!bias || dPos)\n            bias = dPos >= 0 ? 1 : -1;\n        if (!$head.parent.inlineContent) {\n            let found = Selection.findFrom($head, bias, true) || Selection.findFrom($head, -bias, true);\n            if (found)\n                $head = found.$head;\n            else\n                return Selection.near($head, bias);\n        }\n        if (!$anchor.parent.inlineContent) {\n            if (dPos == 0) {\n                $anchor = $head;\n            }\n            else {\n                $anchor = (Selection.findFrom($anchor, -bias, true) || Selection.findFrom($anchor, bias, true)).$anchor;\n                if (($anchor.pos < $head.pos) != (dPos < 0))\n                    $anchor = $head;\n            }\n        }\n        return new TextSelection($anchor, $head);\n    }\n}\nSelection.jsonID(\"text\", TextSelection);\nclass TextBookmark {\n    constructor(anchor, head) {\n        this.anchor = anchor;\n        this.head = head;\n    }\n    map(mapping) {\n        return new TextBookmark(mapping.map(this.anchor), mapping.map(this.head));\n    }\n    resolve(doc) {\n        return TextSelection.between(doc.resolve(this.anchor), doc.resolve(this.head));\n    }\n}\n/**\nA node selection is a selection that points at a single node. All\nnodes marked [selectable](https://prosemirror.net/docs/ref/#model.NodeSpec.selectable) can be the\ntarget of a node selection. In such a selection, `from` and `to`\npoint directly before and after the selected node, `anchor` equals\n`from`, and `head` equals `to`..\n*/\nclass NodeSelection extends Selection {\n    /**\n    Create a node selection. Does not verify the validity of its\n    argument.\n    */\n    constructor($pos) {\n        let node = $pos.nodeAfter;\n        let $end = $pos.node(0).resolve($pos.pos + node.nodeSize);\n        super($pos, $end);\n        this.node = node;\n    }\n    map(doc, mapping) {\n        let { deleted, pos } = mapping.mapResult(this.anchor);\n        let $pos = doc.resolve(pos);\n        if (deleted)\n            return Selection.near($pos);\n        return new NodeSelection($pos);\n    }\n    content() {\n        return new Slice(Fragment.from(this.node), 0, 0);\n    }\n    eq(other) {\n        return other instanceof NodeSelection && other.anchor == this.anchor;\n    }\n    toJSON() {\n        return { type: \"node\", anchor: this.anchor };\n    }\n    getBookmark() { return new NodeBookmark(this.anchor); }\n    /**\n    @internal\n    */\n    static fromJSON(doc, json) {\n        if (typeof json.anchor != \"number\")\n            throw new RangeError(\"Invalid input for NodeSelection.fromJSON\");\n        return new NodeSelection(doc.resolve(json.anchor));\n    }\n    /**\n    Create a node selection from non-resolved positions.\n    */\n    static create(doc, from) {\n        return new NodeSelection(doc.resolve(from));\n    }\n    /**\n    Determines whether the given node may be selected as a node\n    selection.\n    */\n    static isSelectable(node) {\n        return !node.isText && node.type.spec.selectable !== false;\n    }\n}\nNodeSelection.prototype.visible = false;\nSelection.jsonID(\"node\", NodeSelection);\nclass NodeBookmark {\n    constructor(anchor) {\n        this.anchor = anchor;\n    }\n    map(mapping) {\n        let { deleted, pos } = mapping.mapResult(this.anchor);\n        return deleted ? new TextBookmark(pos, pos) : new NodeBookmark(pos);\n    }\n    resolve(doc) {\n        let $pos = doc.resolve(this.anchor), node = $pos.nodeAfter;\n        if (node && NodeSelection.isSelectable(node))\n            return new NodeSelection($pos);\n        return Selection.near($pos);\n    }\n}\n/**\nA selection type that represents selecting the whole document\n(which can not necessarily be expressed with a text selection, when\nthere are for example leaf block nodes at the start or end of the\ndocument).\n*/\nclass AllSelection extends Selection {\n    /**\n    Create an all-selection over the given document.\n    */\n    constructor(doc) {\n        super(doc.resolve(0), doc.resolve(doc.content.size));\n    }\n    replace(tr, content = Slice.empty) {\n        if (content == Slice.empty) {\n            tr.delete(0, tr.doc.content.size);\n            let sel = Selection.atStart(tr.doc);\n            if (!sel.eq(tr.selection))\n                tr.setSelection(sel);\n        }\n        else {\n            super.replace(tr, content);\n        }\n    }\n    toJSON() { return { type: \"all\" }; }\n    /**\n    @internal\n    */\n    static fromJSON(doc) { return new AllSelection(doc); }\n    map(doc) { return new AllSelection(doc); }\n    eq(other) { return other instanceof AllSelection; }\n    getBookmark() { return AllBookmark; }\n}\nSelection.jsonID(\"all\", AllSelection);\nconst AllBookmark = {\n    map() { return this; },\n    resolve(doc) { return new AllSelection(doc); }\n};\n// FIXME we'll need some awareness of text direction when scanning for selections\n// Try to find a selection inside the given node. `pos` points at the\n// position where the search starts. When `text` is true, only return\n// text selections.\nfunction findSelectionIn(doc, node, pos, index, dir, text = false) {\n    if (node.inlineContent)\n        return TextSelection.create(doc, pos);\n    for (let i = index - (dir > 0 ? 0 : 1); dir > 0 ? i < node.childCount : i >= 0; i += dir) {\n        let child = node.child(i);\n        if (!child.isAtom) {\n            let inner = findSelectionIn(doc, child, pos + dir, dir < 0 ? child.childCount : 0, dir, text);\n            if (inner)\n                return inner;\n        }\n        else if (!text && NodeSelection.isSelectable(child)) {\n            return NodeSelection.create(doc, pos - (dir < 0 ? child.nodeSize : 0));\n        }\n        pos += child.nodeSize * dir;\n    }\n    return null;\n}\nfunction selectionToInsertionEnd(tr, startLen, bias) {\n    let last = tr.steps.length - 1;\n    if (last < startLen)\n        return;\n    let step = tr.steps[last];\n    if (!(step instanceof ReplaceStep || step instanceof ReplaceAroundStep))\n        return;\n    let map = tr.mapping.maps[last], end;\n    map.forEach((_from, _to, _newFrom, newTo) => { if (end == null)\n        end = newTo; });\n    tr.setSelection(Selection.near(tr.doc.resolve(end), bias));\n}\n\nconst UPDATED_SEL = 1, UPDATED_MARKS = 2, UPDATED_SCROLL = 4;\n/**\nAn editor state transaction, which can be applied to a state to\ncreate an updated state. Use\n[`EditorState.tr`](https://prosemirror.net/docs/ref/#state.EditorState.tr) to create an instance.\n\nTransactions track changes to the document (they are a subclass of\n[`Transform`](https://prosemirror.net/docs/ref/#transform.Transform)), but also other state changes,\nlike selection updates and adjustments of the set of [stored\nmarks](https://prosemirror.net/docs/ref/#state.EditorState.storedMarks). In addition, you can store\nmetadata properties in a transaction, which are extra pieces of\ninformation that client code or plugins can use to describe what a\ntransaction represents, so that they can update their [own\nstate](https://prosemirror.net/docs/ref/#state.StateField) accordingly.\n\nThe [editor view](https://prosemirror.net/docs/ref/#view.EditorView) uses a few metadata properties:\nit will attach a property `\"pointer\"` with the value `true` to\nselection transactions directly caused by mouse or touch input, and\na `\"uiEvent\"` property of that may be `\"paste\"`, `\"cut\"`, or `\"drop\"`.\n*/\nclass Transaction extends Transform {\n    /**\n    @internal\n    */\n    constructor(state) {\n        super(state.doc);\n        // The step count for which the current selection is valid.\n        this.curSelectionFor = 0;\n        // Bitfield to track which aspects of the state were updated by\n        // this transaction.\n        this.updated = 0;\n        // Object used to store metadata properties for the transaction.\n        this.meta = Object.create(null);\n        this.time = Date.now();\n        this.curSelection = state.selection;\n        this.storedMarks = state.storedMarks;\n    }\n    /**\n    The transaction's current selection. This defaults to the editor\n    selection [mapped](https://prosemirror.net/docs/ref/#state.Selection.map) through the steps in the\n    transaction, but can be overwritten with\n    [`setSelection`](https://prosemirror.net/docs/ref/#state.Transaction.setSelection).\n    */\n    get selection() {\n        if (this.curSelectionFor < this.steps.length) {\n            this.curSelection = this.curSelection.map(this.doc, this.mapping.slice(this.curSelectionFor));\n            this.curSelectionFor = this.steps.length;\n        }\n        return this.curSelection;\n    }\n    /**\n    Update the transaction's current selection. Will determine the\n    selection that the editor gets when the transaction is applied.\n    */\n    setSelection(selection) {\n        if (selection.$from.doc != this.doc)\n            throw new RangeError(\"Selection passed to setSelection must point at the current document\");\n        this.curSelection = selection;\n        this.curSelectionFor = this.steps.length;\n        this.updated = (this.updated | UPDATED_SEL) & ~UPDATED_MARKS;\n        this.storedMarks = null;\n        return this;\n    }\n    /**\n    Whether the selection was explicitly updated by this transaction.\n    */\n    get selectionSet() {\n        return (this.updated & UPDATED_SEL) > 0;\n    }\n    /**\n    Set the current stored marks.\n    */\n    setStoredMarks(marks) {\n        this.storedMarks = marks;\n        this.updated |= UPDATED_MARKS;\n        return this;\n    }\n    /**\n    Make sure the current stored marks or, if that is null, the marks\n    at the selection, match the given set of marks. Does nothing if\n    this is already the case.\n    */\n    ensureMarks(marks) {\n        if (!Mark.sameSet(this.storedMarks || this.selection.$from.marks(), marks))\n            this.setStoredMarks(marks);\n        return this;\n    }\n    /**\n    Add a mark to the set of stored marks.\n    */\n    addStoredMark(mark) {\n        return this.ensureMarks(mark.addToSet(this.storedMarks || this.selection.$head.marks()));\n    }\n    /**\n    Remove a mark or mark type from the set of stored marks.\n    */\n    removeStoredMark(mark) {\n        return this.ensureMarks(mark.removeFromSet(this.storedMarks || this.selection.$head.marks()));\n    }\n    /**\n    Whether the stored marks were explicitly set for this transaction.\n    */\n    get storedMarksSet() {\n        return (this.updated & UPDATED_MARKS) > 0;\n    }\n    /**\n    @internal\n    */\n    addStep(step, doc) {\n        super.addStep(step, doc);\n        this.updated = this.updated & ~UPDATED_MARKS;\n        this.storedMarks = null;\n    }\n    /**\n    Update the timestamp for the transaction.\n    */\n    setTime(time) {\n        this.time = time;\n        return this;\n    }\n    /**\n    Replace the current selection with the given slice.\n    */\n    replaceSelection(slice) {\n        this.selection.replace(this, slice);\n        return this;\n    }\n    /**\n    Replace the selection with the given node. When `inheritMarks` is\n    true and the content is inline, it inherits the marks from the\n    place where it is inserted.\n    */\n    replaceSelectionWith(node, inheritMarks = true) {\n        let selection = this.selection;\n        if (inheritMarks)\n            node = node.mark(this.storedMarks || (selection.empty ? selection.$from.marks() : (selection.$from.marksAcross(selection.$to) || Mark.none)));\n        selection.replaceWith(this, node);\n        return this;\n    }\n    /**\n    Delete the selection.\n    */\n    deleteSelection() {\n        this.selection.replace(this);\n        return this;\n    }\n    /**\n    Replace the given range, or the selection if no range is given,\n    with a text node containing the given string.\n    */\n    insertText(text, from, to) {\n        let schema = this.doc.type.schema;\n        if (from == null) {\n            if (!text)\n                return this.deleteSelection();\n            return this.replaceSelectionWith(schema.text(text), true);\n        }\n        else {\n            if (to == null)\n                to = from;\n            to = to == null ? from : to;\n            if (!text)\n                return this.deleteRange(from, to);\n            let marks = this.storedMarks;\n            if (!marks) {\n                let $from = this.doc.resolve(from);\n                marks = to == from ? $from.marks() : $from.marksAcross(this.doc.resolve(to));\n            }\n            this.replaceRangeWith(from, to, schema.text(text, marks));\n            if (!this.selection.empty)\n                this.setSelection(Selection.near(this.selection.$to));\n            return this;\n        }\n    }\n    /**\n    Store a metadata property in this transaction, keyed either by\n    name or by plugin.\n    */\n    setMeta(key, value) {\n        this.meta[typeof key == \"string\" ? key : key.key] = value;\n        return this;\n    }\n    /**\n    Retrieve a metadata property for a given name or plugin.\n    */\n    getMeta(key) {\n        return this.meta[typeof key == \"string\" ? key : key.key];\n    }\n    /**\n    Returns true if this transaction doesn't contain any metadata,\n    and can thus safely be extended.\n    */\n    get isGeneric() {\n        for (let _ in this.meta)\n            return false;\n        return true;\n    }\n    /**\n    Indicate that the editor should scroll the selection into view\n    when updated to the state produced by this transaction.\n    */\n    scrollIntoView() {\n        this.updated |= UPDATED_SCROLL;\n        return this;\n    }\n    /**\n    True when this transaction has had `scrollIntoView` called on it.\n    */\n    get scrolledIntoView() {\n        return (this.updated & UPDATED_SCROLL) > 0;\n    }\n}\n\nfunction bind(f, self) {\n    return !self || !f ? f : f.bind(self);\n}\nclass FieldDesc {\n    constructor(name, desc, self) {\n        this.name = name;\n        this.init = bind(desc.init, self);\n        this.apply = bind(desc.apply, self);\n    }\n}\nconst baseFields = [\n    new FieldDesc(\"doc\", {\n        init(config) { return config.doc || config.schema.topNodeType.createAndFill(); },\n        apply(tr) { return tr.doc; }\n    }),\n    new FieldDesc(\"selection\", {\n        init(config, instance) { return config.selection || Selection.atStart(instance.doc); },\n        apply(tr) { return tr.selection; }\n    }),\n    new FieldDesc(\"storedMarks\", {\n        init(config) { return config.storedMarks || null; },\n        apply(tr, _marks, _old, state) { return state.selection.$cursor ? tr.storedMarks : null; }\n    }),\n    new FieldDesc(\"scrollToSelection\", {\n        init() { return 0; },\n        apply(tr, prev) { return tr.scrolledIntoView ? prev + 1 : prev; }\n    })\n];\n// Object wrapping the part of a state object that stays the same\n// across transactions. Stored in the state's `config` property.\nclass Configuration {\n    constructor(schema, plugins) {\n        this.schema = schema;\n        this.plugins = [];\n        this.pluginsByKey = Object.create(null);\n        this.fields = baseFields.slice();\n        if (plugins)\n            plugins.forEach(plugin => {\n                if (this.pluginsByKey[plugin.key])\n                    throw new RangeError(\"Adding different instances of a keyed plugin (\" + plugin.key + \")\");\n                this.plugins.push(plugin);\n                this.pluginsByKey[plugin.key] = plugin;\n                if (plugin.spec.state)\n                    this.fields.push(new FieldDesc(plugin.key, plugin.spec.state, plugin));\n            });\n    }\n}\n/**\nThe state of a ProseMirror editor is represented by an object of\nthis type. A state is a persistent data structure—it isn't\nupdated, but rather a new state value is computed from an old one\nusing the [`apply`](https://prosemirror.net/docs/ref/#state.EditorState.apply) method.\n\nA state holds a number of built-in fields, and plugins can\n[define](https://prosemirror.net/docs/ref/#state.PluginSpec.state) additional fields.\n*/\nclass EditorState {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    config) {\n        this.config = config;\n    }\n    /**\n    The schema of the state's document.\n    */\n    get schema() {\n        return this.config.schema;\n    }\n    /**\n    The plugins that are active in this state.\n    */\n    get plugins() {\n        return this.config.plugins;\n    }\n    /**\n    Apply the given transaction to produce a new state.\n    */\n    apply(tr) {\n        return this.applyTransaction(tr).state;\n    }\n    /**\n    @ignore\n    */\n    filterTransaction(tr, ignore = -1) {\n        for (let i = 0; i < this.config.plugins.length; i++)\n            if (i != ignore) {\n                let plugin = this.config.plugins[i];\n                if (plugin.spec.filterTransaction && !plugin.spec.filterTransaction.call(plugin, tr, this))\n                    return false;\n            }\n        return true;\n    }\n    /**\n    Verbose variant of [`apply`](https://prosemirror.net/docs/ref/#state.EditorState.apply) that\n    returns the precise transactions that were applied (which might\n    be influenced by the [transaction\n    hooks](https://prosemirror.net/docs/ref/#state.PluginSpec.filterTransaction) of\n    plugins) along with the new state.\n    */\n    applyTransaction(rootTr) {\n        if (!this.filterTransaction(rootTr))\n            return { state: this, transactions: [] };\n        let trs = [rootTr], newState = this.applyInner(rootTr), seen = null;\n        // This loop repeatedly gives plugins a chance to respond to\n        // transactions as new transactions are added, making sure to only\n        // pass the transactions the plugin did not see before.\n        for (;;) {\n            let haveNew = false;\n            for (let i = 0; i < this.config.plugins.length; i++) {\n                let plugin = this.config.plugins[i];\n                if (plugin.spec.appendTransaction) {\n                    let n = seen ? seen[i].n : 0, oldState = seen ? seen[i].state : this;\n                    let tr = n < trs.length &&\n                        plugin.spec.appendTransaction.call(plugin, n ? trs.slice(n) : trs, oldState, newState);\n                    if (tr && newState.filterTransaction(tr, i)) {\n                        tr.setMeta(\"appendedTransaction\", rootTr);\n                        if (!seen) {\n                            seen = [];\n                            for (let j = 0; j < this.config.plugins.length; j++)\n                                seen.push(j < i ? { state: newState, n: trs.length } : { state: this, n: 0 });\n                        }\n                        trs.push(tr);\n                        newState = newState.applyInner(tr);\n                        haveNew = true;\n                    }\n                    if (seen)\n                        seen[i] = { state: newState, n: trs.length };\n                }\n            }\n            if (!haveNew)\n                return { state: newState, transactions: trs };\n        }\n    }\n    /**\n    @internal\n    */\n    applyInner(tr) {\n        if (!tr.before.eq(this.doc))\n            throw new RangeError(\"Applying a mismatched transaction\");\n        let newInstance = new EditorState(this.config), fields = this.config.fields;\n        for (let i = 0; i < fields.length; i++) {\n            let field = fields[i];\n            newInstance[field.name] = field.apply(tr, this[field.name], this, newInstance);\n        }\n        return newInstance;\n    }\n    /**\n    Start a [transaction](https://prosemirror.net/docs/ref/#state.Transaction) from this state.\n    */\n    get tr() { return new Transaction(this); }\n    /**\n    Create a new state.\n    */\n    static create(config) {\n        let $config = new Configuration(config.doc ? config.doc.type.schema : config.schema, config.plugins);\n        let instance = new EditorState($config);\n        for (let i = 0; i < $config.fields.length; i++)\n            instance[$config.fields[i].name] = $config.fields[i].init(config, instance);\n        return instance;\n    }\n    /**\n    Create a new state based on this one, but with an adjusted set\n    of active plugins. State fields that exist in both sets of\n    plugins are kept unchanged. Those that no longer exist are\n    dropped, and those that are new are initialized using their\n    [`init`](https://prosemirror.net/docs/ref/#state.StateField.init) method, passing in the new\n    configuration object..\n    */\n    reconfigure(config) {\n        let $config = new Configuration(this.schema, config.plugins);\n        let fields = $config.fields, instance = new EditorState($config);\n        for (let i = 0; i < fields.length; i++) {\n            let name = fields[i].name;\n            instance[name] = this.hasOwnProperty(name) ? this[name] : fields[i].init(config, instance);\n        }\n        return instance;\n    }\n    /**\n    Serialize this state to JSON. If you want to serialize the state\n    of plugins, pass an object mapping property names to use in the\n    resulting JSON object to plugin objects. The argument may also be\n    a string or number, in which case it is ignored, to support the\n    way `JSON.stringify` calls `toString` methods.\n    */\n    toJSON(pluginFields) {\n        let result = { doc: this.doc.toJSON(), selection: this.selection.toJSON() };\n        if (this.storedMarks)\n            result.storedMarks = this.storedMarks.map(m => m.toJSON());\n        if (pluginFields && typeof pluginFields == 'object')\n            for (let prop in pluginFields) {\n                if (prop == \"doc\" || prop == \"selection\")\n                    throw new RangeError(\"The JSON fields `doc` and `selection` are reserved\");\n                let plugin = pluginFields[prop], state = plugin.spec.state;\n                if (state && state.toJSON)\n                    result[prop] = state.toJSON.call(plugin, this[plugin.key]);\n            }\n        return result;\n    }\n    /**\n    Deserialize a JSON representation of a state. `config` should\n    have at least a `schema` field, and should contain array of\n    plugins to initialize the state with. `pluginFields` can be used\n    to deserialize the state of plugins, by associating plugin\n    instances with the property names they use in the JSON object.\n    */\n    static fromJSON(config, json, pluginFields) {\n        if (!json)\n            throw new RangeError(\"Invalid input for EditorState.fromJSON\");\n        if (!config.schema)\n            throw new RangeError(\"Required config field 'schema' missing\");\n        let $config = new Configuration(config.schema, config.plugins);\n        let instance = new EditorState($config);\n        $config.fields.forEach(field => {\n            if (field.name == \"doc\") {\n                instance.doc = Node.fromJSON(config.schema, json.doc);\n            }\n            else if (field.name == \"selection\") {\n                instance.selection = Selection.fromJSON(instance.doc, json.selection);\n            }\n            else if (field.name == \"storedMarks\") {\n                if (json.storedMarks)\n                    instance.storedMarks = json.storedMarks.map(config.schema.markFromJSON);\n            }\n            else {\n                if (pluginFields)\n                    for (let prop in pluginFields) {\n                        let plugin = pluginFields[prop], state = plugin.spec.state;\n                        if (plugin.key == field.name && state && state.fromJSON &&\n                            Object.prototype.hasOwnProperty.call(json, prop)) {\n                            instance[field.name] = state.fromJSON.call(plugin, config, json[prop], instance);\n                            return;\n                        }\n                    }\n                instance[field.name] = field.init(config, instance);\n            }\n        });\n        return instance;\n    }\n}\n\nfunction bindProps(obj, self, target) {\n    for (let prop in obj) {\n        let val = obj[prop];\n        if (val instanceof Function)\n            val = val.bind(self);\n        else if (prop == \"handleDOMEvents\")\n            val = bindProps(val, self, {});\n        target[prop] = val;\n    }\n    return target;\n}\n/**\nPlugins bundle functionality that can be added to an editor.\nThey are part of the [editor state](https://prosemirror.net/docs/ref/#state.EditorState) and\nmay influence that state and the view that contains it.\n*/\nclass Plugin {\n    /**\n    Create a plugin.\n    */\n    constructor(\n    /**\n    The plugin's [spec object](https://prosemirror.net/docs/ref/#state.PluginSpec).\n    */\n    spec) {\n        this.spec = spec;\n        /**\n        The [props](https://prosemirror.net/docs/ref/#view.EditorProps) exported by this plugin.\n        */\n        this.props = {};\n        if (spec.props)\n            bindProps(spec.props, this, this.props);\n        this.key = spec.key ? spec.key.key : createKey(\"plugin\");\n    }\n    /**\n    Extract the plugin's state field from an editor state.\n    */\n    getState(state) { return state[this.key]; }\n}\nconst keys = Object.create(null);\nfunction createKey(name) {\n    if (name in keys)\n        return name + \"$\" + ++keys[name];\n    keys[name] = 0;\n    return name + \"$\";\n}\n/**\nA key is used to [tag](https://prosemirror.net/docs/ref/#state.PluginSpec.key) plugins in a way\nthat makes it possible to find them, given an editor state.\nAssigning a key does mean only one plugin of that type can be\nactive in a state.\n*/\nclass PluginKey {\n    /**\n    Create a plugin key.\n    */\n    constructor(name = \"key\") { this.key = createKey(name); }\n    /**\n    Get the active plugin with this key, if any, from an editor\n    state.\n    */\n    get(state) { return state.config.pluginsByKey[this.key]; }\n    /**\n    Get the plugin's state from an editor state.\n    */\n    getState(state) { return state[this.key]; }\n}\n\nexport { AllSelection, EditorState, NodeSelection, Plugin, PluginKey, Selection, SelectionRange, TextSelection, Transaction };\n","import { ReplaceError, Slice, Fragment, MarkType } from 'prosemirror-model';\n\n// Recovery values encode a range index and an offset. They are\n// represented as numbers, because tons of them will be created when\n// mapping, for example, a large number of decorations. The number's\n// lower 16 bits provide the index, the remaining bits the offset.\n//\n// Note: We intentionally don't use bit shift operators to en- and\n// decode these, since those clip to 32 bits, which we might in rare\n// cases want to overflow. A 64-bit float can represent 48-bit\n// integers precisely.\nconst lower16 = 0xffff;\nconst factor16 = Math.pow(2, 16);\nfunction makeRecover(index, offset) { return index + offset * factor16; }\nfunction recoverIndex(value) { return value & lower16; }\nfunction recoverOffset(value) { return (value - (value & lower16)) / factor16; }\nconst DEL_BEFORE = 1, DEL_AFTER = 2, DEL_ACROSS = 4, DEL_SIDE = 8;\n/**\nAn object representing a mapped position with extra\ninformation.\n*/\nclass MapResult {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The mapped version of the position.\n    */\n    pos, \n    /**\n    @internal\n    */\n    delInfo, \n    /**\n    @internal\n    */\n    recover) {\n        this.pos = pos;\n        this.delInfo = delInfo;\n        this.recover = recover;\n    }\n    /**\n    Tells you whether the position was deleted, that is, whether the\n    step removed the token on the side queried (via the `assoc`)\n    argument from the document.\n    */\n    get deleted() { return (this.delInfo & DEL_SIDE) > 0; }\n    /**\n    Tells you whether the token before the mapped position was deleted.\n    */\n    get deletedBefore() { return (this.delInfo & (DEL_BEFORE | DEL_ACROSS)) > 0; }\n    /**\n    True when the token after the mapped position was deleted.\n    */\n    get deletedAfter() { return (this.delInfo & (DEL_AFTER | DEL_ACROSS)) > 0; }\n    /**\n    Tells whether any of the steps mapped through deletes across the\n    position (including both the token before and after the\n    position).\n    */\n    get deletedAcross() { return (this.delInfo & DEL_ACROSS) > 0; }\n}\n/**\nA map describing the deletions and insertions made by a step, which\ncan be used to find the correspondence between positions in the\npre-step version of a document and the same position in the\npost-step version.\n*/\nclass StepMap {\n    /**\n    Create a position map. The modifications to the document are\n    represented as an array of numbers, in which each group of three\n    represents a modified chunk as `[start, oldSize, newSize]`.\n    */\n    constructor(\n    /**\n    @internal\n    */\n    ranges, \n    /**\n    @internal\n    */\n    inverted = false) {\n        this.ranges = ranges;\n        this.inverted = inverted;\n        if (!ranges.length && StepMap.empty)\n            return StepMap.empty;\n    }\n    /**\n    @internal\n    */\n    recover(value) {\n        let diff = 0, index = recoverIndex(value);\n        if (!this.inverted)\n            for (let i = 0; i < index; i++)\n                diff += this.ranges[i * 3 + 2] - this.ranges[i * 3 + 1];\n        return this.ranges[index * 3] + diff + recoverOffset(value);\n    }\n    mapResult(pos, assoc = 1) { return this._map(pos, assoc, false); }\n    map(pos, assoc = 1) { return this._map(pos, assoc, true); }\n    /**\n    @internal\n    */\n    _map(pos, assoc, simple) {\n        let diff = 0, oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i] - (this.inverted ? diff : 0);\n            if (start > pos)\n                break;\n            let oldSize = this.ranges[i + oldIndex], newSize = this.ranges[i + newIndex], end = start + oldSize;\n            if (pos <= end) {\n                let side = !oldSize ? assoc : pos == start ? -1 : pos == end ? 1 : assoc;\n                let result = start + diff + (side < 0 ? 0 : newSize);\n                if (simple)\n                    return result;\n                let recover = pos == (assoc < 0 ? start : end) ? null : makeRecover(i / 3, pos - start);\n                let del = pos == start ? DEL_AFTER : pos == end ? DEL_BEFORE : DEL_ACROSS;\n                if (assoc < 0 ? pos != start : pos != end)\n                    del |= DEL_SIDE;\n                return new MapResult(result, del, recover);\n            }\n            diff += newSize - oldSize;\n        }\n        return simple ? pos + diff : new MapResult(pos + diff, 0, null);\n    }\n    /**\n    @internal\n    */\n    touches(pos, recover) {\n        let diff = 0, index = recoverIndex(recover);\n        let oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i] - (this.inverted ? diff : 0);\n            if (start > pos)\n                break;\n            let oldSize = this.ranges[i + oldIndex], end = start + oldSize;\n            if (pos <= end && i == index * 3)\n                return true;\n            diff += this.ranges[i + newIndex] - oldSize;\n        }\n        return false;\n    }\n    /**\n    Calls the given function on each of the changed ranges included in\n    this map.\n    */\n    forEach(f) {\n        let oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0, diff = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i], oldStart = start - (this.inverted ? diff : 0), newStart = start + (this.inverted ? 0 : diff);\n            let oldSize = this.ranges[i + oldIndex], newSize = this.ranges[i + newIndex];\n            f(oldStart, oldStart + oldSize, newStart, newStart + newSize);\n            diff += newSize - oldSize;\n        }\n    }\n    /**\n    Create an inverted version of this map. The result can be used to\n    map positions in the post-step document to the pre-step document.\n    */\n    invert() {\n        return new StepMap(this.ranges, !this.inverted);\n    }\n    /**\n    @internal\n    */\n    toString() {\n        return (this.inverted ? \"-\" : \"\") + JSON.stringify(this.ranges);\n    }\n    /**\n    Create a map that moves all positions by offset `n` (which may be\n    negative). This can be useful when applying steps meant for a\n    sub-document to a larger document, or vice-versa.\n    */\n    static offset(n) {\n        return n == 0 ? StepMap.empty : new StepMap(n < 0 ? [0, -n, 0] : [0, 0, n]);\n    }\n}\n/**\nA StepMap that contains no changed ranges.\n*/\nStepMap.empty = new StepMap([]);\n/**\nA mapping represents a pipeline of zero or more [step\nmaps](https://prosemirror.net/docs/ref/#transform.StepMap). It has special provisions for losslessly\nhandling mapping positions through a series of steps in which some\nsteps are inverted versions of earlier steps. (This comes up when\n‘[rebasing](/docs/guide/#transform.rebasing)’ steps for\ncollaboration or history management.)\n*/\nclass Mapping {\n    /**\n    Create a new mapping with the given position maps.\n    */\n    constructor(\n    /**\n    The step maps in this mapping.\n    */\n    maps = [], \n    /**\n    @internal\n    */\n    mirror, \n    /**\n    The starting position in the `maps` array, used when `map` or\n    `mapResult` is called.\n    */\n    from = 0, \n    /**\n    The end position in the `maps` array.\n    */\n    to = maps.length) {\n        this.maps = maps;\n        this.mirror = mirror;\n        this.from = from;\n        this.to = to;\n    }\n    /**\n    Create a mapping that maps only through a part of this one.\n    */\n    slice(from = 0, to = this.maps.length) {\n        return new Mapping(this.maps, this.mirror, from, to);\n    }\n    /**\n    @internal\n    */\n    copy() {\n        return new Mapping(this.maps.slice(), this.mirror && this.mirror.slice(), this.from, this.to);\n    }\n    /**\n    Add a step map to the end of this mapping. If `mirrors` is\n    given, it should be the index of the step map that is the mirror\n    image of this one.\n    */\n    appendMap(map, mirrors) {\n        this.to = this.maps.push(map);\n        if (mirrors != null)\n            this.setMirror(this.maps.length - 1, mirrors);\n    }\n    /**\n    Add all the step maps in a given mapping to this one (preserving\n    mirroring information).\n    */\n    appendMapping(mapping) {\n        for (let i = 0, startSize = this.maps.length; i < mapping.maps.length; i++) {\n            let mirr = mapping.getMirror(i);\n            this.appendMap(mapping.maps[i], mirr != null && mirr < i ? startSize + mirr : undefined);\n        }\n    }\n    /**\n    Finds the offset of the step map that mirrors the map at the\n    given offset, in this mapping (as per the second argument to\n    `appendMap`).\n    */\n    getMirror(n) {\n        if (this.mirror)\n            for (let i = 0; i < this.mirror.length; i++)\n                if (this.mirror[i] == n)\n                    return this.mirror[i + (i % 2 ? -1 : 1)];\n    }\n    /**\n    @internal\n    */\n    setMirror(n, m) {\n        if (!this.mirror)\n            this.mirror = [];\n        this.mirror.push(n, m);\n    }\n    /**\n    Append the inverse of the given mapping to this one.\n    */\n    appendMappingInverted(mapping) {\n        for (let i = mapping.maps.length - 1, totalSize = this.maps.length + mapping.maps.length; i >= 0; i--) {\n            let mirr = mapping.getMirror(i);\n            this.appendMap(mapping.maps[i].invert(), mirr != null && mirr > i ? totalSize - mirr - 1 : undefined);\n        }\n    }\n    /**\n    Create an inverted version of this mapping.\n    */\n    invert() {\n        let inverse = new Mapping;\n        inverse.appendMappingInverted(this);\n        return inverse;\n    }\n    /**\n    Map a position through this mapping.\n    */\n    map(pos, assoc = 1) {\n        if (this.mirror)\n            return this._map(pos, assoc, true);\n        for (let i = this.from; i < this.to; i++)\n            pos = this.maps[i].map(pos, assoc);\n        return pos;\n    }\n    /**\n    Map a position through this mapping, returning a mapping\n    result.\n    */\n    mapResult(pos, assoc = 1) { return this._map(pos, assoc, false); }\n    /**\n    @internal\n    */\n    _map(pos, assoc, simple) {\n        let delInfo = 0;\n        for (let i = this.from; i < this.to; i++) {\n            let map = this.maps[i], result = map.mapResult(pos, assoc);\n            if (result.recover != null) {\n                let corr = this.getMirror(i);\n                if (corr != null && corr > i && corr < this.to) {\n                    i = corr;\n                    pos = this.maps[corr].recover(result.recover);\n                    continue;\n                }\n            }\n            delInfo |= result.delInfo;\n            pos = result.pos;\n        }\n        return simple ? pos : new MapResult(pos, delInfo, null);\n    }\n}\n\nconst stepsByID = Object.create(null);\n/**\nA step object represents an atomic change. It generally applies\nonly to the document it was created for, since the positions\nstored in it will only make sense for that document.\n\nNew steps are defined by creating classes that extend `Step`,\noverriding the `apply`, `invert`, `map`, `getMap` and `fromJSON`\nmethods, and registering your class with a unique\nJSON-serialization identifier using\n[`Step.jsonID`](https://prosemirror.net/docs/ref/#transform.Step^jsonID).\n*/\nclass Step {\n    /**\n    Get the step map that represents the changes made by this step,\n    and which can be used to transform between positions in the old\n    and the new document.\n    */\n    getMap() { return StepMap.empty; }\n    /**\n    Try to merge this step with another one, to be applied directly\n    after it. Returns the merged step when possible, null if the\n    steps can't be merged.\n    */\n    merge(other) { return null; }\n    /**\n    Deserialize a step from its JSON representation. Will call\n    through to the step class' own implementation of this method.\n    */\n    static fromJSON(schema, json) {\n        if (!json || !json.stepType)\n            throw new RangeError(\"Invalid input for Step.fromJSON\");\n        let type = stepsByID[json.stepType];\n        if (!type)\n            throw new RangeError(`No step type ${json.stepType} defined`);\n        return type.fromJSON(schema, json);\n    }\n    /**\n    To be able to serialize steps to JSON, each step needs a string\n    ID to attach to its JSON representation. Use this method to\n    register an ID for your step classes. Try to pick something\n    that's unlikely to clash with steps from other modules.\n    */\n    static jsonID(id, stepClass) {\n        if (id in stepsByID)\n            throw new RangeError(\"Duplicate use of step JSON ID \" + id);\n        stepsByID[id] = stepClass;\n        stepClass.prototype.jsonID = id;\n        return stepClass;\n    }\n}\n/**\nThe result of [applying](https://prosemirror.net/docs/ref/#transform.Step.apply) a step. Contains either a\nnew document or a failure value.\n*/\nclass StepResult {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The transformed document, if successful.\n    */\n    doc, \n    /**\n    The failure message, if unsuccessful.\n    */\n    failed) {\n        this.doc = doc;\n        this.failed = failed;\n    }\n    /**\n    Create a successful step result.\n    */\n    static ok(doc) { return new StepResult(doc, null); }\n    /**\n    Create a failed step result.\n    */\n    static fail(message) { return new StepResult(null, message); }\n    /**\n    Call [`Node.replace`](https://prosemirror.net/docs/ref/#model.Node.replace) with the given\n    arguments. Create a successful result if it succeeds, and a\n    failed one if it throws a `ReplaceError`.\n    */\n    static fromReplace(doc, from, to, slice) {\n        try {\n            return StepResult.ok(doc.replace(from, to, slice));\n        }\n        catch (e) {\n            if (e instanceof ReplaceError)\n                return StepResult.fail(e.message);\n            throw e;\n        }\n    }\n}\n\nfunction mapFragment(fragment, f, parent) {\n    let mapped = [];\n    for (let i = 0; i < fragment.childCount; i++) {\n        let child = fragment.child(i);\n        if (child.content.size)\n            child = child.copy(mapFragment(child.content, f, child));\n        if (child.isInline)\n            child = f(child, parent, i);\n        mapped.push(child);\n    }\n    return Fragment.fromArray(mapped);\n}\n/**\nAdd a mark to all inline content between two positions.\n*/\nclass AddMarkStep extends Step {\n    /**\n    Create a mark step.\n    */\n    constructor(\n    /**\n    The start of the marked range.\n    */\n    from, \n    /**\n    The end of the marked range.\n    */\n    to, \n    /**\n    The mark to add.\n    */\n    mark) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let oldSlice = doc.slice(this.from, this.to), $from = doc.resolve(this.from);\n        let parent = $from.node($from.sharedDepth(this.to));\n        let slice = new Slice(mapFragment(oldSlice.content, (node, parent) => {\n            if (!node.isAtom || !parent.type.allowsMarkType(this.mark.type))\n                return node;\n            return node.mark(this.mark.addToSet(node.marks));\n        }, parent), oldSlice.openStart, oldSlice.openEnd);\n        return StepResult.fromReplace(doc, this.from, this.to, slice);\n    }\n    invert() {\n        return new RemoveMarkStep(this.from, this.to, this.mark);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deleted && to.deleted || from.pos >= to.pos)\n            return null;\n        return new AddMarkStep(from.pos, to.pos, this.mark);\n    }\n    merge(other) {\n        if (other instanceof AddMarkStep &&\n            other.mark.eq(this.mark) &&\n            this.from <= other.to && this.to >= other.from)\n            return new AddMarkStep(Math.min(this.from, other.from), Math.max(this.to, other.to), this.mark);\n        return null;\n    }\n    toJSON() {\n        return { stepType: \"addMark\", mark: this.mark.toJSON(),\n            from: this.from, to: this.to };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for AddMarkStep.fromJSON\");\n        return new AddMarkStep(json.from, json.to, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"addMark\", AddMarkStep);\n/**\nRemove a mark from all inline content between two positions.\n*/\nclass RemoveMarkStep extends Step {\n    /**\n    Create a mark-removing step.\n    */\n    constructor(\n    /**\n    The start of the unmarked range.\n    */\n    from, \n    /**\n    The end of the unmarked range.\n    */\n    to, \n    /**\n    The mark to remove.\n    */\n    mark) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let oldSlice = doc.slice(this.from, this.to);\n        let slice = new Slice(mapFragment(oldSlice.content, node => {\n            return node.mark(this.mark.removeFromSet(node.marks));\n        }, doc), oldSlice.openStart, oldSlice.openEnd);\n        return StepResult.fromReplace(doc, this.from, this.to, slice);\n    }\n    invert() {\n        return new AddMarkStep(this.from, this.to, this.mark);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deleted && to.deleted || from.pos >= to.pos)\n            return null;\n        return new RemoveMarkStep(from.pos, to.pos, this.mark);\n    }\n    merge(other) {\n        if (other instanceof RemoveMarkStep &&\n            other.mark.eq(this.mark) &&\n            this.from <= other.to && this.to >= other.from)\n            return new RemoveMarkStep(Math.min(this.from, other.from), Math.max(this.to, other.to), this.mark);\n        return null;\n    }\n    toJSON() {\n        return { stepType: \"removeMark\", mark: this.mark.toJSON(),\n            from: this.from, to: this.to };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for RemoveMarkStep.fromJSON\");\n        return new RemoveMarkStep(json.from, json.to, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"removeMark\", RemoveMarkStep);\n\n/**\nReplace a part of the document with a slice of new content.\n*/\nclass ReplaceStep extends Step {\n    /**\n    The given `slice` should fit the 'gap' between `from` and\n    `to`—the depths must line up, and the surrounding nodes must be\n    able to be joined with the open sides of the slice. When\n    `structure` is true, the step will fail if the content between\n    from and to is not just a sequence of closing and then opening\n    tokens (this is to guard against rebased replace steps\n    overwriting something they weren't supposed to).\n    */\n    constructor(\n    /**\n    The start position of the replaced range.\n    */\n    from, \n    /**\n    The end position of the replaced range.\n    */\n    to, \n    /**\n    The slice to insert.\n    */\n    slice, \n    /**\n    @internal\n    */\n    structure = false) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.slice = slice;\n        this.structure = structure;\n    }\n    apply(doc) {\n        if (this.structure && contentBetween(doc, this.from, this.to))\n            return StepResult.fail(\"Structure replace would overwrite content\");\n        return StepResult.fromReplace(doc, this.from, this.to, this.slice);\n    }\n    getMap() {\n        return new StepMap([this.from, this.to - this.from, this.slice.size]);\n    }\n    invert(doc) {\n        return new ReplaceStep(this.from, this.from + this.slice.size, doc.slice(this.from, this.to));\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deletedAcross && to.deletedAcross)\n            return null;\n        return new ReplaceStep(from.pos, Math.max(from.pos, to.pos), this.slice);\n    }\n    merge(other) {\n        if (!(other instanceof ReplaceStep) || other.structure || this.structure)\n            return null;\n        if (this.from + this.slice.size == other.from && !this.slice.openEnd && !other.slice.openStart) {\n            let slice = this.slice.size + other.slice.size == 0 ? Slice.empty\n                : new Slice(this.slice.content.append(other.slice.content), this.slice.openStart, other.slice.openEnd);\n            return new ReplaceStep(this.from, this.to + (other.to - other.from), slice, this.structure);\n        }\n        else if (other.to == this.from && !this.slice.openStart && !other.slice.openEnd) {\n            let slice = this.slice.size + other.slice.size == 0 ? Slice.empty\n                : new Slice(other.slice.content.append(this.slice.content), other.slice.openStart, this.slice.openEnd);\n            return new ReplaceStep(other.from, this.to, slice, this.structure);\n        }\n        else {\n            return null;\n        }\n    }\n    toJSON() {\n        let json = { stepType: \"replace\", from: this.from, to: this.to };\n        if (this.slice.size)\n            json.slice = this.slice.toJSON();\n        if (this.structure)\n            json.structure = true;\n        return json;\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for ReplaceStep.fromJSON\");\n        return new ReplaceStep(json.from, json.to, Slice.fromJSON(schema, json.slice), !!json.structure);\n    }\n}\nStep.jsonID(\"replace\", ReplaceStep);\n/**\nReplace a part of the document with a slice of content, but\npreserve a range of the replaced content by moving it into the\nslice.\n*/\nclass ReplaceAroundStep extends Step {\n    /**\n    Create a replace-around step with the given range and gap.\n    `insert` should be the point in the slice into which the content\n    of the gap should be moved. `structure` has the same meaning as\n    it has in the [`ReplaceStep`](https://prosemirror.net/docs/ref/#transform.ReplaceStep) class.\n    */\n    constructor(\n    /**\n    The start position of the replaced range.\n    */\n    from, \n    /**\n    The end position of the replaced range.\n    */\n    to, \n    /**\n    The start of preserved range.\n    */\n    gapFrom, \n    /**\n    The end of preserved range.\n    */\n    gapTo, \n    /**\n    The slice to insert.\n    */\n    slice, \n    /**\n    The position in the slice where the preserved range should be\n    inserted.\n    */\n    insert, \n    /**\n    @internal\n    */\n    structure = false) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.gapFrom = gapFrom;\n        this.gapTo = gapTo;\n        this.slice = slice;\n        this.insert = insert;\n        this.structure = structure;\n    }\n    apply(doc) {\n        if (this.structure && (contentBetween(doc, this.from, this.gapFrom) ||\n            contentBetween(doc, this.gapTo, this.to)))\n            return StepResult.fail(\"Structure gap-replace would overwrite content\");\n        let gap = doc.slice(this.gapFrom, this.gapTo);\n        if (gap.openStart || gap.openEnd)\n            return StepResult.fail(\"Gap is not a flat range\");\n        let inserted = this.slice.insertAt(this.insert, gap.content);\n        if (!inserted)\n            return StepResult.fail(\"Content does not fit in gap\");\n        return StepResult.fromReplace(doc, this.from, this.to, inserted);\n    }\n    getMap() {\n        return new StepMap([this.from, this.gapFrom - this.from, this.insert,\n            this.gapTo, this.to - this.gapTo, this.slice.size - this.insert]);\n    }\n    invert(doc) {\n        let gap = this.gapTo - this.gapFrom;\n        return new ReplaceAroundStep(this.from, this.from + this.slice.size + gap, this.from + this.insert, this.from + this.insert + gap, doc.slice(this.from, this.to).removeBetween(this.gapFrom - this.from, this.gapTo - this.from), this.gapFrom - this.from, this.structure);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        let gapFrom = mapping.map(this.gapFrom, -1), gapTo = mapping.map(this.gapTo, 1);\n        if ((from.deletedAcross && to.deletedAcross) || gapFrom < from.pos || gapTo > to.pos)\n            return null;\n        return new ReplaceAroundStep(from.pos, to.pos, gapFrom, gapTo, this.slice, this.insert, this.structure);\n    }\n    toJSON() {\n        let json = { stepType: \"replaceAround\", from: this.from, to: this.to,\n            gapFrom: this.gapFrom, gapTo: this.gapTo, insert: this.insert };\n        if (this.slice.size)\n            json.slice = this.slice.toJSON();\n        if (this.structure)\n            json.structure = true;\n        return json;\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\" ||\n            typeof json.gapFrom != \"number\" || typeof json.gapTo != \"number\" || typeof json.insert != \"number\")\n            throw new RangeError(\"Invalid input for ReplaceAroundStep.fromJSON\");\n        return new ReplaceAroundStep(json.from, json.to, json.gapFrom, json.gapTo, Slice.fromJSON(schema, json.slice), json.insert, !!json.structure);\n    }\n}\nStep.jsonID(\"replaceAround\", ReplaceAroundStep);\nfunction contentBetween(doc, from, to) {\n    let $from = doc.resolve(from), dist = to - from, depth = $from.depth;\n    while (dist > 0 && depth > 0 && $from.indexAfter(depth) == $from.node(depth).childCount) {\n        depth--;\n        dist--;\n    }\n    if (dist > 0) {\n        let next = $from.node(depth).maybeChild($from.indexAfter(depth));\n        while (dist > 0) {\n            if (!next || next.isLeaf)\n                return true;\n            next = next.firstChild;\n            dist--;\n        }\n    }\n    return false;\n}\n\nfunction addMark(tr, from, to, mark) {\n    let removed = [], added = [];\n    let removing, adding;\n    tr.doc.nodesBetween(from, to, (node, pos, parent) => {\n        if (!node.isInline)\n            return;\n        let marks = node.marks;\n        if (!mark.isInSet(marks) && parent.type.allowsMarkType(mark.type)) {\n            let start = Math.max(pos, from), end = Math.min(pos + node.nodeSize, to);\n            let newSet = mark.addToSet(marks);\n            for (let i = 0; i < marks.length; i++) {\n                if (!marks[i].isInSet(newSet)) {\n                    if (removing && removing.to == start && removing.mark.eq(marks[i]))\n                        removing.to = end;\n                    else\n                        removed.push(removing = new RemoveMarkStep(start, end, marks[i]));\n                }\n            }\n            if (adding && adding.to == start)\n                adding.to = end;\n            else\n                added.push(adding = new AddMarkStep(start, end, mark));\n        }\n    });\n    removed.forEach(s => tr.step(s));\n    added.forEach(s => tr.step(s));\n}\nfunction removeMark(tr, from, to, mark) {\n    let matched = [], step = 0;\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n        if (!node.isInline)\n            return;\n        step++;\n        let toRemove = null;\n        if (mark instanceof MarkType) {\n            let set = node.marks, found;\n            while (found = mark.isInSet(set)) {\n                (toRemove || (toRemove = [])).push(found);\n                set = found.removeFromSet(set);\n            }\n        }\n        else if (mark) {\n            if (mark.isInSet(node.marks))\n                toRemove = [mark];\n        }\n        else {\n            toRemove = node.marks;\n        }\n        if (toRemove && toRemove.length) {\n            let end = Math.min(pos + node.nodeSize, to);\n            for (let i = 0; i < toRemove.length; i++) {\n                let style = toRemove[i], found;\n                for (let j = 0; j < matched.length; j++) {\n                    let m = matched[j];\n                    if (m.step == step - 1 && style.eq(matched[j].style))\n                        found = m;\n                }\n                if (found) {\n                    found.to = end;\n                    found.step = step;\n                }\n                else {\n                    matched.push({ style, from: Math.max(pos, from), to: end, step });\n                }\n            }\n        }\n    });\n    matched.forEach(m => tr.step(new RemoveMarkStep(m.from, m.to, m.style)));\n}\nfunction clearIncompatible(tr, pos, parentType, match = parentType.contentMatch) {\n    let node = tr.doc.nodeAt(pos);\n    let delSteps = [], cur = pos + 1;\n    for (let i = 0; i < node.childCount; i++) {\n        let child = node.child(i), end = cur + child.nodeSize;\n        let allowed = match.matchType(child.type);\n        if (!allowed) {\n            delSteps.push(new ReplaceStep(cur, end, Slice.empty));\n        }\n        else {\n            match = allowed;\n            for (let j = 0; j < child.marks.length; j++)\n                if (!parentType.allowsMarkType(child.marks[j].type))\n                    tr.step(new RemoveMarkStep(cur, end, child.marks[j]));\n        }\n        cur = end;\n    }\n    if (!match.validEnd) {\n        let fill = match.fillBefore(Fragment.empty, true);\n        tr.replace(cur, cur, new Slice(fill, 0, 0));\n    }\n    for (let i = delSteps.length - 1; i >= 0; i--)\n        tr.step(delSteps[i]);\n}\n\nfunction canCut(node, start, end) {\n    return (start == 0 || node.canReplace(start, node.childCount)) &&\n        (end == node.childCount || node.canReplace(0, end));\n}\n/**\nTry to find a target depth to which the content in the given range\ncan be lifted. Will not go across\n[isolating](https://prosemirror.net/docs/ref/#model.NodeSpec.isolating) parent nodes.\n*/\nfunction liftTarget(range) {\n    let parent = range.parent;\n    let content = parent.content.cutByIndex(range.startIndex, range.endIndex);\n    for (let depth = range.depth;; --depth) {\n        let node = range.$from.node(depth);\n        let index = range.$from.index(depth), endIndex = range.$to.indexAfter(depth);\n        if (depth < range.depth && node.canReplace(index, endIndex, content))\n            return depth;\n        if (depth == 0 || node.type.spec.isolating || !canCut(node, index, endIndex))\n            break;\n    }\n    return null;\n}\nfunction lift(tr, range, target) {\n    let { $from, $to, depth } = range;\n    let gapStart = $from.before(depth + 1), gapEnd = $to.after(depth + 1);\n    let start = gapStart, end = gapEnd;\n    let before = Fragment.empty, openStart = 0;\n    for (let d = depth, splitting = false; d > target; d--)\n        if (splitting || $from.index(d) > 0) {\n            splitting = true;\n            before = Fragment.from($from.node(d).copy(before));\n            openStart++;\n        }\n        else {\n            start--;\n        }\n    let after = Fragment.empty, openEnd = 0;\n    for (let d = depth, splitting = false; d > target; d--)\n        if (splitting || $to.after(d + 1) < $to.end(d)) {\n            splitting = true;\n            after = Fragment.from($to.node(d).copy(after));\n            openEnd++;\n        }\n        else {\n            end++;\n        }\n    tr.step(new ReplaceAroundStep(start, end, gapStart, gapEnd, new Slice(before.append(after), openStart, openEnd), before.size - openStart, true));\n}\n/**\nTry to find a valid way to wrap the content in the given range in a\nnode of the given type. May introduce extra nodes around and inside\nthe wrapper node, if necessary. Returns null if no valid wrapping\ncould be found. When `innerRange` is given, that range's content is\nused as the content to fit into the wrapping, instead of the\ncontent of `range`.\n*/\nfunction findWrapping(range, nodeType, attrs = null, innerRange = range) {\n    let around = findWrappingOutside(range, nodeType);\n    let inner = around && findWrappingInside(innerRange, nodeType);\n    if (!inner)\n        return null;\n    return around.map(withAttrs)\n        .concat({ type: nodeType, attrs }).concat(inner.map(withAttrs));\n}\nfunction withAttrs(type) { return { type, attrs: null }; }\nfunction findWrappingOutside(range, type) {\n    let { parent, startIndex, endIndex } = range;\n    let around = parent.contentMatchAt(startIndex).findWrapping(type);\n    if (!around)\n        return null;\n    let outer = around.length ? around[0] : type;\n    return parent.canReplaceWith(startIndex, endIndex, outer) ? around : null;\n}\nfunction findWrappingInside(range, type) {\n    let { parent, startIndex, endIndex } = range;\n    let inner = parent.child(startIndex);\n    let inside = type.contentMatch.findWrapping(inner.type);\n    if (!inside)\n        return null;\n    let lastType = inside.length ? inside[inside.length - 1] : type;\n    let innerMatch = lastType.contentMatch;\n    for (let i = startIndex; innerMatch && i < endIndex; i++)\n        innerMatch = innerMatch.matchType(parent.child(i).type);\n    if (!innerMatch || !innerMatch.validEnd)\n        return null;\n    return inside;\n}\nfunction wrap(tr, range, wrappers) {\n    let content = Fragment.empty;\n    for (let i = wrappers.length - 1; i >= 0; i--) {\n        if (content.size) {\n            let match = wrappers[i].type.contentMatch.matchFragment(content);\n            if (!match || !match.validEnd)\n                throw new RangeError(\"Wrapper type given to Transform.wrap does not form valid content of its parent wrapper\");\n        }\n        content = Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content));\n    }\n    let start = range.start, end = range.end;\n    tr.step(new ReplaceAroundStep(start, end, start, end, new Slice(content, 0, 0), wrappers.length, true));\n}\nfunction setBlockType(tr, from, to, type, attrs) {\n    if (!type.isTextblock)\n        throw new RangeError(\"Type given to setBlockType should be a textblock\");\n    let mapFrom = tr.steps.length;\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n        if (node.isTextblock && !node.hasMarkup(type, attrs) && canChangeType(tr.doc, tr.mapping.slice(mapFrom).map(pos), type)) {\n            // Ensure all markup that isn't allowed in the new node type is cleared\n            tr.clearIncompatible(tr.mapping.slice(mapFrom).map(pos, 1), type);\n            let mapping = tr.mapping.slice(mapFrom);\n            let startM = mapping.map(pos, 1), endM = mapping.map(pos + node.nodeSize, 1);\n            tr.step(new ReplaceAroundStep(startM, endM, startM + 1, endM - 1, new Slice(Fragment.from(type.create(attrs, null, node.marks)), 0, 0), 1, true));\n            return false;\n        }\n    });\n}\nfunction canChangeType(doc, pos, type) {\n    let $pos = doc.resolve(pos), index = $pos.index();\n    return $pos.parent.canReplaceWith(index, index + 1, type);\n}\n/**\nChange the type, attributes, and/or marks of the node at `pos`.\nWhen `type` isn't given, the existing node type is preserved,\n*/\nfunction setNodeMarkup(tr, pos, type, attrs, marks) {\n    let node = tr.doc.nodeAt(pos);\n    if (!node)\n        throw new RangeError(\"No node at given position\");\n    if (!type)\n        type = node.type;\n    let newNode = type.create(attrs, null, marks || node.marks);\n    if (node.isLeaf)\n        return tr.replaceWith(pos, pos + node.nodeSize, newNode);\n    if (!type.validContent(node.content))\n        throw new RangeError(\"Invalid content for node type \" + type.name);\n    tr.step(new ReplaceAroundStep(pos, pos + node.nodeSize, pos + 1, pos + node.nodeSize - 1, new Slice(Fragment.from(newNode), 0, 0), 1, true));\n}\n/**\nCheck whether splitting at the given position is allowed.\n*/\nfunction canSplit(doc, pos, depth = 1, typesAfter) {\n    let $pos = doc.resolve(pos), base = $pos.depth - depth;\n    let innerType = (typesAfter && typesAfter[typesAfter.length - 1]) || $pos.parent;\n    if (base < 0 || $pos.parent.type.spec.isolating ||\n        !$pos.parent.canReplace($pos.index(), $pos.parent.childCount) ||\n        !innerType.type.validContent($pos.parent.content.cutByIndex($pos.index(), $pos.parent.childCount)))\n        return false;\n    for (let d = $pos.depth - 1, i = depth - 2; d > base; d--, i--) {\n        let node = $pos.node(d), index = $pos.index(d);\n        if (node.type.spec.isolating)\n            return false;\n        let rest = node.content.cutByIndex(index, node.childCount);\n        let after = (typesAfter && typesAfter[i]) || node;\n        if (after != node)\n            rest = rest.replaceChild(0, after.type.create(after.attrs));\n        if (!node.canReplace(index + 1, node.childCount) || !after.type.validContent(rest))\n            return false;\n    }\n    let index = $pos.indexAfter(base);\n    let baseType = typesAfter && typesAfter[0];\n    return $pos.node(base).canReplaceWith(index, index, baseType ? baseType.type : $pos.node(base + 1).type);\n}\nfunction split(tr, pos, depth = 1, typesAfter) {\n    let $pos = tr.doc.resolve(pos), before = Fragment.empty, after = Fragment.empty;\n    for (let d = $pos.depth, e = $pos.depth - depth, i = depth - 1; d > e; d--, i--) {\n        before = Fragment.from($pos.node(d).copy(before));\n        let typeAfter = typesAfter && typesAfter[i];\n        after = Fragment.from(typeAfter ? typeAfter.type.create(typeAfter.attrs, after) : $pos.node(d).copy(after));\n    }\n    tr.step(new ReplaceStep(pos, pos, new Slice(before.append(after), depth, depth), true));\n}\n/**\nTest whether the blocks before and after a given position can be\njoined.\n*/\nfunction canJoin(doc, pos) {\n    let $pos = doc.resolve(pos), index = $pos.index();\n    return joinable($pos.nodeBefore, $pos.nodeAfter) &&\n        $pos.parent.canReplace(index, index + 1);\n}\nfunction joinable(a, b) {\n    return !!(a && b && !a.isLeaf && a.canAppend(b));\n}\n/**\nFind an ancestor of the given position that can be joined to the\nblock before (or after if `dir` is positive). Returns the joinable\npoint, if any.\n*/\nfunction joinPoint(doc, pos, dir = -1) {\n    let $pos = doc.resolve(pos);\n    for (let d = $pos.depth;; d--) {\n        let before, after, index = $pos.index(d);\n        if (d == $pos.depth) {\n            before = $pos.nodeBefore;\n            after = $pos.nodeAfter;\n        }\n        else if (dir > 0) {\n            before = $pos.node(d + 1);\n            index++;\n            after = $pos.node(d).maybeChild(index);\n        }\n        else {\n            before = $pos.node(d).maybeChild(index - 1);\n            after = $pos.node(d + 1);\n        }\n        if (before && !before.isTextblock && joinable(before, after) &&\n            $pos.node(d).canReplace(index, index + 1))\n            return pos;\n        if (d == 0)\n            break;\n        pos = dir < 0 ? $pos.before(d) : $pos.after(d);\n    }\n}\nfunction join(tr, pos, depth) {\n    let step = new ReplaceStep(pos - depth, pos + depth, Slice.empty, true);\n    tr.step(step);\n}\n/**\nTry to find a point where a node of the given type can be inserted\nnear `pos`, by searching up the node hierarchy when `pos` itself\nisn't a valid place but is at the start or end of a node. Return\nnull if no position was found.\n*/\nfunction insertPoint(doc, pos, nodeType) {\n    let $pos = doc.resolve(pos);\n    if ($pos.parent.canReplaceWith($pos.index(), $pos.index(), nodeType))\n        return pos;\n    if ($pos.parentOffset == 0)\n        for (let d = $pos.depth - 1; d >= 0; d--) {\n            let index = $pos.index(d);\n            if ($pos.node(d).canReplaceWith(index, index, nodeType))\n                return $pos.before(d + 1);\n            if (index > 0)\n                return null;\n        }\n    if ($pos.parentOffset == $pos.parent.content.size)\n        for (let d = $pos.depth - 1; d >= 0; d--) {\n            let index = $pos.indexAfter(d);\n            if ($pos.node(d).canReplaceWith(index, index, nodeType))\n                return $pos.after(d + 1);\n            if (index < $pos.node(d).childCount)\n                return null;\n        }\n    return null;\n}\n/**\nFinds a position at or around the given position where the given\nslice can be inserted. Will look at parent nodes' nearest boundary\nand try there, even if the original position wasn't directly at the\nstart or end of that node. Returns null when no position was found.\n*/\nfunction dropPoint(doc, pos, slice) {\n    let $pos = doc.resolve(pos);\n    if (!slice.content.size)\n        return pos;\n    let content = slice.content;\n    for (let i = 0; i < slice.openStart; i++)\n        content = content.firstChild.content;\n    for (let pass = 1; pass <= (slice.openStart == 0 && slice.size ? 2 : 1); pass++) {\n        for (let d = $pos.depth; d >= 0; d--) {\n            let bias = d == $pos.depth ? 0 : $pos.pos <= ($pos.start(d + 1) + $pos.end(d + 1)) / 2 ? -1 : 1;\n            let insertPos = $pos.index(d) + (bias > 0 ? 1 : 0);\n            let parent = $pos.node(d), fits = false;\n            if (pass == 1) {\n                fits = parent.canReplace(insertPos, insertPos, content);\n            }\n            else {\n                let wrapping = parent.contentMatchAt(insertPos).findWrapping(content.firstChild.type);\n                fits = wrapping && parent.canReplaceWith(insertPos, insertPos, wrapping[0]);\n            }\n            if (fits)\n                return bias == 0 ? $pos.pos : bias < 0 ? $pos.before(d + 1) : $pos.after(d + 1);\n        }\n    }\n    return null;\n}\n\n/**\n‘Fit’ a slice into a given position in the document, producing a\n[step](https://prosemirror.net/docs/ref/#transform.Step) that inserts it. Will return null if\nthere's no meaningful way to insert the slice here, or inserting it\nwould be a no-op (an empty slice over an empty range).\n*/\nfunction replaceStep(doc, from, to = from, slice = Slice.empty) {\n    if (from == to && !slice.size)\n        return null;\n    let $from = doc.resolve(from), $to = doc.resolve(to);\n    // Optimization -- avoid work if it's obvious that it's not needed.\n    if (fitsTrivially($from, $to, slice))\n        return new ReplaceStep(from, to, slice);\n    return new Fitter($from, $to, slice).fit();\n}\nfunction fitsTrivially($from, $to, slice) {\n    return !slice.openStart && !slice.openEnd && $from.start() == $to.start() &&\n        $from.parent.canReplace($from.index(), $to.index(), slice.content);\n}\n// Algorithm for 'placing' the elements of a slice into a gap:\n//\n// We consider the content of each node that is open to the left to be\n// independently placeable. I.e. in <p(\"foo\"), p(\"bar\")>, when the\n// paragraph on the left is open, \"foo\" can be placed (somewhere on\n// the left side of the replacement gap) independently from p(\"bar\").\n//\n// This class tracks the state of the placement progress in the\n// following properties:\n//\n//  - `frontier` holds a stack of `{type, match}` objects that\n//    represent the open side of the replacement. It starts at\n//    `$from`, then moves forward as content is placed, and is finally\n//    reconciled with `$to`.\n//\n//  - `unplaced` is a slice that represents the content that hasn't\n//    been placed yet.\n//\n//  - `placed` is a fragment of placed content. Its open-start value\n//    is implicit in `$from`, and its open-end value in `frontier`.\nclass Fitter {\n    constructor($from, $to, unplaced) {\n        this.$from = $from;\n        this.$to = $to;\n        this.unplaced = unplaced;\n        this.frontier = [];\n        this.placed = Fragment.empty;\n        for (let i = 0; i <= $from.depth; i++) {\n            let node = $from.node(i);\n            this.frontier.push({\n                type: node.type,\n                match: node.contentMatchAt($from.indexAfter(i))\n            });\n        }\n        for (let i = $from.depth; i > 0; i--)\n            this.placed = Fragment.from($from.node(i).copy(this.placed));\n    }\n    get depth() { return this.frontier.length - 1; }\n    fit() {\n        // As long as there's unplaced content, try to place some of it.\n        // If that fails, either increase the open score of the unplaced\n        // slice, or drop nodes from it, and then try again.\n        while (this.unplaced.size) {\n            let fit = this.findFittable();\n            if (fit)\n                this.placeNodes(fit);\n            else\n                this.openMore() || this.dropNode();\n        }\n        // When there's inline content directly after the frontier _and_\n        // directly after `this.$to`, we must generate a `ReplaceAround`\n        // step that pulls that content into the node after the frontier.\n        // That means the fitting must be done to the end of the textblock\n        // node after `this.$to`, not `this.$to` itself.\n        let moveInline = this.mustMoveInline(), placedSize = this.placed.size - this.depth - this.$from.depth;\n        let $from = this.$from, $to = this.close(moveInline < 0 ? this.$to : $from.doc.resolve(moveInline));\n        if (!$to)\n            return null;\n        // If closing to `$to` succeeded, create a step\n        let content = this.placed, openStart = $from.depth, openEnd = $to.depth;\n        while (openStart && openEnd && content.childCount == 1) { // Normalize by dropping open parent nodes\n            content = content.firstChild.content;\n            openStart--;\n            openEnd--;\n        }\n        let slice = new Slice(content, openStart, openEnd);\n        if (moveInline > -1)\n            return new ReplaceAroundStep($from.pos, moveInline, this.$to.pos, this.$to.end(), slice, placedSize);\n        if (slice.size || $from.pos != this.$to.pos) // Don't generate no-op steps\n            return new ReplaceStep($from.pos, $to.pos, slice);\n        return null;\n    }\n    // Find a position on the start spine of `this.unplaced` that has\n    // content that can be moved somewhere on the frontier. Returns two\n    // depths, one for the slice and one for the frontier.\n    findFittable() {\n        // Only try wrapping nodes (pass 2) after finding a place without\n        // wrapping failed.\n        for (let pass = 1; pass <= 2; pass++) {\n            for (let sliceDepth = this.unplaced.openStart; sliceDepth >= 0; sliceDepth--) {\n                let fragment, parent = null;\n                if (sliceDepth) {\n                    parent = contentAt(this.unplaced.content, sliceDepth - 1).firstChild;\n                    fragment = parent.content;\n                }\n                else {\n                    fragment = this.unplaced.content;\n                }\n                let first = fragment.firstChild;\n                for (let frontierDepth = this.depth; frontierDepth >= 0; frontierDepth--) {\n                    let { type, match } = this.frontier[frontierDepth], wrap, inject = null;\n                    // In pass 1, if the next node matches, or there is no next\n                    // node but the parents look compatible, we've found a\n                    // place.\n                    if (pass == 1 && (first ? match.matchType(first.type) || (inject = match.fillBefore(Fragment.from(first), false))\n                        : parent && type.compatibleContent(parent.type)))\n                        return { sliceDepth, frontierDepth, parent, inject };\n                    // In pass 2, look for a set of wrapping nodes that make\n                    // `first` fit here.\n                    else if (pass == 2 && first && (wrap = match.findWrapping(first.type)))\n                        return { sliceDepth, frontierDepth, parent, wrap };\n                    // Don't continue looking further up if the parent node\n                    // would fit here.\n                    if (parent && match.matchType(parent.type))\n                        break;\n                }\n            }\n        }\n    }\n    openMore() {\n        let { content, openStart, openEnd } = this.unplaced;\n        let inner = contentAt(content, openStart);\n        if (!inner.childCount || inner.firstChild.isLeaf)\n            return false;\n        this.unplaced = new Slice(content, openStart + 1, Math.max(openEnd, inner.size + openStart >= content.size - openEnd ? openStart + 1 : 0));\n        return true;\n    }\n    dropNode() {\n        let { content, openStart, openEnd } = this.unplaced;\n        let inner = contentAt(content, openStart);\n        if (inner.childCount <= 1 && openStart > 0) {\n            let openAtEnd = content.size - openStart <= openStart + inner.size;\n            this.unplaced = new Slice(dropFromFragment(content, openStart - 1, 1), openStart - 1, openAtEnd ? openStart - 1 : openEnd);\n        }\n        else {\n            this.unplaced = new Slice(dropFromFragment(content, openStart, 1), openStart, openEnd);\n        }\n    }\n    // Move content from the unplaced slice at `sliceDepth` to the\n    // frontier node at `frontierDepth`. Close that frontier node when\n    // applicable.\n    placeNodes({ sliceDepth, frontierDepth, parent, inject, wrap }) {\n        while (this.depth > frontierDepth)\n            this.closeFrontierNode();\n        if (wrap)\n            for (let i = 0; i < wrap.length; i++)\n                this.openFrontierNode(wrap[i]);\n        let slice = this.unplaced, fragment = parent ? parent.content : slice.content;\n        let openStart = slice.openStart - sliceDepth;\n        let taken = 0, add = [];\n        let { match, type } = this.frontier[frontierDepth];\n        if (inject) {\n            for (let i = 0; i < inject.childCount; i++)\n                add.push(inject.child(i));\n            match = match.matchFragment(inject);\n        }\n        // Computes the amount of (end) open nodes at the end of the\n        // fragment. When 0, the parent is open, but no more. When\n        // negative, nothing is open.\n        let openEndCount = (fragment.size + sliceDepth) - (slice.content.size - slice.openEnd);\n        // Scan over the fragment, fitting as many child nodes as\n        // possible.\n        while (taken < fragment.childCount) {\n            let next = fragment.child(taken), matches = match.matchType(next.type);\n            if (!matches)\n                break;\n            taken++;\n            if (taken > 1 || openStart == 0 || next.content.size) { // Drop empty open nodes\n                match = matches;\n                add.push(closeNodeStart(next.mark(type.allowedMarks(next.marks)), taken == 1 ? openStart : 0, taken == fragment.childCount ? openEndCount : -1));\n            }\n        }\n        let toEnd = taken == fragment.childCount;\n        if (!toEnd)\n            openEndCount = -1;\n        this.placed = addToFragment(this.placed, frontierDepth, Fragment.from(add));\n        this.frontier[frontierDepth].match = match;\n        // If the parent types match, and the entire node was moved, and\n        // it's not open, close this frontier node right away.\n        if (toEnd && openEndCount < 0 && parent && parent.type == this.frontier[this.depth].type && this.frontier.length > 1)\n            this.closeFrontierNode();\n        // Add new frontier nodes for any open nodes at the end.\n        for (let i = 0, cur = fragment; i < openEndCount; i++) {\n            let node = cur.lastChild;\n            this.frontier.push({ type: node.type, match: node.contentMatchAt(node.childCount) });\n            cur = node.content;\n        }\n        // Update `this.unplaced`. Drop the entire node from which we\n        // placed it we got to its end, otherwise just drop the placed\n        // nodes.\n        this.unplaced = !toEnd ? new Slice(dropFromFragment(slice.content, sliceDepth, taken), slice.openStart, slice.openEnd)\n            : sliceDepth == 0 ? Slice.empty\n                : new Slice(dropFromFragment(slice.content, sliceDepth - 1, 1), sliceDepth - 1, openEndCount < 0 ? slice.openEnd : sliceDepth - 1);\n    }\n    mustMoveInline() {\n        if (!this.$to.parent.isTextblock)\n            return -1;\n        let top = this.frontier[this.depth], level;\n        if (!top.type.isTextblock || !contentAfterFits(this.$to, this.$to.depth, top.type, top.match, false) ||\n            (this.$to.depth == this.depth && (level = this.findCloseLevel(this.$to)) && level.depth == this.depth))\n            return -1;\n        let { depth } = this.$to, after = this.$to.after(depth);\n        while (depth > 1 && after == this.$to.end(--depth))\n            ++after;\n        return after;\n    }\n    findCloseLevel($to) {\n        scan: for (let i = Math.min(this.depth, $to.depth); i >= 0; i--) {\n            let { match, type } = this.frontier[i];\n            let dropInner = i < $to.depth && $to.end(i + 1) == $to.pos + ($to.depth - (i + 1));\n            let fit = contentAfterFits($to, i, type, match, dropInner);\n            if (!fit)\n                continue;\n            for (let d = i - 1; d >= 0; d--) {\n                let { match, type } = this.frontier[d];\n                let matches = contentAfterFits($to, d, type, match, true);\n                if (!matches || matches.childCount)\n                    continue scan;\n            }\n            return { depth: i, fit, move: dropInner ? $to.doc.resolve($to.after(i + 1)) : $to };\n        }\n    }\n    close($to) {\n        let close = this.findCloseLevel($to);\n        if (!close)\n            return null;\n        while (this.depth > close.depth)\n            this.closeFrontierNode();\n        if (close.fit.childCount)\n            this.placed = addToFragment(this.placed, close.depth, close.fit);\n        $to = close.move;\n        for (let d = close.depth + 1; d <= $to.depth; d++) {\n            let node = $to.node(d), add = node.type.contentMatch.fillBefore(node.content, true, $to.index(d));\n            this.openFrontierNode(node.type, node.attrs, add);\n        }\n        return $to;\n    }\n    openFrontierNode(type, attrs = null, content) {\n        let top = this.frontier[this.depth];\n        top.match = top.match.matchType(type);\n        this.placed = addToFragment(this.placed, this.depth, Fragment.from(type.create(attrs, content)));\n        this.frontier.push({ type, match: type.contentMatch });\n    }\n    closeFrontierNode() {\n        let open = this.frontier.pop();\n        let add = open.match.fillBefore(Fragment.empty, true);\n        if (add.childCount)\n            this.placed = addToFragment(this.placed, this.frontier.length, add);\n    }\n}\nfunction dropFromFragment(fragment, depth, count) {\n    if (depth == 0)\n        return fragment.cutByIndex(count, fragment.childCount);\n    return fragment.replaceChild(0, fragment.firstChild.copy(dropFromFragment(fragment.firstChild.content, depth - 1, count)));\n}\nfunction addToFragment(fragment, depth, content) {\n    if (depth == 0)\n        return fragment.append(content);\n    return fragment.replaceChild(fragment.childCount - 1, fragment.lastChild.copy(addToFragment(fragment.lastChild.content, depth - 1, content)));\n}\nfunction contentAt(fragment, depth) {\n    for (let i = 0; i < depth; i++)\n        fragment = fragment.firstChild.content;\n    return fragment;\n}\nfunction closeNodeStart(node, openStart, openEnd) {\n    if (openStart <= 0)\n        return node;\n    let frag = node.content;\n    if (openStart > 1)\n        frag = frag.replaceChild(0, closeNodeStart(frag.firstChild, openStart - 1, frag.childCount == 1 ? openEnd - 1 : 0));\n    if (openStart > 0) {\n        frag = node.type.contentMatch.fillBefore(frag).append(frag);\n        if (openEnd <= 0)\n            frag = frag.append(node.type.contentMatch.matchFragment(frag).fillBefore(Fragment.empty, true));\n    }\n    return node.copy(frag);\n}\nfunction contentAfterFits($to, depth, type, match, open) {\n    let node = $to.node(depth), index = open ? $to.indexAfter(depth) : $to.index(depth);\n    if (index == node.childCount && !type.compatibleContent(node.type))\n        return null;\n    let fit = match.fillBefore(node.content, true, index);\n    return fit && !invalidMarks(type, node.content, index) ? fit : null;\n}\nfunction invalidMarks(type, fragment, start) {\n    for (let i = start; i < fragment.childCount; i++)\n        if (!type.allowsMarks(fragment.child(i).marks))\n            return true;\n    return false;\n}\nfunction definesContent(type) {\n    return type.spec.defining || type.spec.definingForContent;\n}\nfunction replaceRange(tr, from, to, slice) {\n    if (!slice.size)\n        return tr.deleteRange(from, to);\n    let $from = tr.doc.resolve(from), $to = tr.doc.resolve(to);\n    if (fitsTrivially($from, $to, slice))\n        return tr.step(new ReplaceStep(from, to, slice));\n    let targetDepths = coveredDepths($from, tr.doc.resolve(to));\n    // Can't replace the whole document, so remove 0 if it's present\n    if (targetDepths[targetDepths.length - 1] == 0)\n        targetDepths.pop();\n    // Negative numbers represent not expansion over the whole node at\n    // that depth, but replacing from $from.before(-D) to $to.pos.\n    let preferredTarget = -($from.depth + 1);\n    targetDepths.unshift(preferredTarget);\n    // This loop picks a preferred target depth, if one of the covering\n    // depths is not outside of a defining node, and adds negative\n    // depths for any depth that has $from at its start and does not\n    // cross a defining node.\n    for (let d = $from.depth, pos = $from.pos - 1; d > 0; d--, pos--) {\n        let spec = $from.node(d).type.spec;\n        if (spec.defining || spec.definingAsContext || spec.isolating)\n            break;\n        if (targetDepths.indexOf(d) > -1)\n            preferredTarget = d;\n        else if ($from.before(d) == pos)\n            targetDepths.splice(1, 0, -d);\n    }\n    // Try to fit each possible depth of the slice into each possible\n    // target depth, starting with the preferred depths.\n    let preferredTargetIndex = targetDepths.indexOf(preferredTarget);\n    let leftNodes = [], preferredDepth = slice.openStart;\n    for (let content = slice.content, i = 0;; i++) {\n        let node = content.firstChild;\n        leftNodes.push(node);\n        if (i == slice.openStart)\n            break;\n        content = node.content;\n    }\n    // Back up preferredDepth to cover defining textblocks directly\n    // above it, possibly skipping a non-defining textblock.\n    for (let d = preferredDepth - 1; d >= 0; d--) {\n        let type = leftNodes[d].type, def = definesContent(type);\n        if (def && $from.node(preferredTargetIndex).type != type)\n            preferredDepth = d;\n        else if (def || !type.isTextblock)\n            break;\n    }\n    for (let j = slice.openStart; j >= 0; j--) {\n        let openDepth = (j + preferredDepth + 1) % (slice.openStart + 1);\n        let insert = leftNodes[openDepth];\n        if (!insert)\n            continue;\n        for (let i = 0; i < targetDepths.length; i++) {\n            // Loop over possible expansion levels, starting with the\n            // preferred one\n            let targetDepth = targetDepths[(i + preferredTargetIndex) % targetDepths.length], expand = true;\n            if (targetDepth < 0) {\n                expand = false;\n                targetDepth = -targetDepth;\n            }\n            let parent = $from.node(targetDepth - 1), index = $from.index(targetDepth - 1);\n            if (parent.canReplaceWith(index, index, insert.type, insert.marks))\n                return tr.replace($from.before(targetDepth), expand ? $to.after(targetDepth) : to, new Slice(closeFragment(slice.content, 0, slice.openStart, openDepth), openDepth, slice.openEnd));\n        }\n    }\n    let startSteps = tr.steps.length;\n    for (let i = targetDepths.length - 1; i >= 0; i--) {\n        tr.replace(from, to, slice);\n        if (tr.steps.length > startSteps)\n            break;\n        let depth = targetDepths[i];\n        if (depth < 0)\n            continue;\n        from = $from.before(depth);\n        to = $to.after(depth);\n    }\n}\nfunction closeFragment(fragment, depth, oldOpen, newOpen, parent) {\n    if (depth < oldOpen) {\n        let first = fragment.firstChild;\n        fragment = fragment.replaceChild(0, first.copy(closeFragment(first.content, depth + 1, oldOpen, newOpen, first)));\n    }\n    if (depth > newOpen) {\n        let match = parent.contentMatchAt(0);\n        let start = match.fillBefore(fragment).append(fragment);\n        fragment = start.append(match.matchFragment(start).fillBefore(Fragment.empty, true));\n    }\n    return fragment;\n}\nfunction replaceRangeWith(tr, from, to, node) {\n    if (!node.isInline && from == to && tr.doc.resolve(from).parent.content.size) {\n        let point = insertPoint(tr.doc, from, node.type);\n        if (point != null)\n            from = to = point;\n    }\n    tr.replaceRange(from, to, new Slice(Fragment.from(node), 0, 0));\n}\nfunction deleteRange(tr, from, to) {\n    let $from = tr.doc.resolve(from), $to = tr.doc.resolve(to);\n    let covered = coveredDepths($from, $to);\n    for (let i = 0; i < covered.length; i++) {\n        let depth = covered[i], last = i == covered.length - 1;\n        if ((last && depth == 0) || $from.node(depth).type.contentMatch.validEnd)\n            return tr.delete($from.start(depth), $to.end(depth));\n        if (depth > 0 && (last || $from.node(depth - 1).canReplace($from.index(depth - 1), $to.indexAfter(depth - 1))))\n            return tr.delete($from.before(depth), $to.after(depth));\n    }\n    for (let d = 1; d <= $from.depth && d <= $to.depth; d++) {\n        if (from - $from.start(d) == $from.depth - d && to > $from.end(d) && $to.end(d) - to != $to.depth - d)\n            return tr.delete($from.before(d), to);\n    }\n    tr.delete(from, to);\n}\n// Returns an array of all depths for which $from - $to spans the\n// whole content of the nodes at that depth.\nfunction coveredDepths($from, $to) {\n    let result = [], minDepth = Math.min($from.depth, $to.depth);\n    for (let d = minDepth; d >= 0; d--) {\n        let start = $from.start(d);\n        if (start < $from.pos - ($from.depth - d) ||\n            $to.end(d) > $to.pos + ($to.depth - d) ||\n            $from.node(d).type.spec.isolating ||\n            $to.node(d).type.spec.isolating)\n            break;\n        if (start == $to.start(d) ||\n            (d == $from.depth && d == $to.depth && $from.parent.inlineContent && $to.parent.inlineContent &&\n                d && $to.start(d - 1) == start - 1))\n            result.push(d);\n    }\n    return result;\n}\n\n/**\n@internal\n*/\nlet TransformError = class extends Error {\n};\nTransformError = function TransformError(message) {\n    let err = Error.call(this, message);\n    err.__proto__ = TransformError.prototype;\n    return err;\n};\nTransformError.prototype = Object.create(Error.prototype);\nTransformError.prototype.constructor = TransformError;\nTransformError.prototype.name = \"TransformError\";\n/**\nAbstraction to build up and track an array of\n[steps](https://prosemirror.net/docs/ref/#transform.Step) representing a document transformation.\n\nMost transforming methods return the `Transform` object itself, so\nthat they can be chained.\n*/\nclass Transform {\n    /**\n    Create a transform that starts with the given document.\n    */\n    constructor(\n    /**\n    The current document (the result of applying the steps in the\n    transform).\n    */\n    doc) {\n        this.doc = doc;\n        /**\n        The steps in this transform.\n        */\n        this.steps = [];\n        /**\n        The documents before each of the steps.\n        */\n        this.docs = [];\n        /**\n        A mapping with the maps for each of the steps in this transform.\n        */\n        this.mapping = new Mapping;\n    }\n    /**\n    The starting document.\n    */\n    get before() { return this.docs.length ? this.docs[0] : this.doc; }\n    /**\n    Apply a new step in this transform, saving the result. Throws an\n    error when the step fails.\n    */\n    step(step) {\n        let result = this.maybeStep(step);\n        if (result.failed)\n            throw new TransformError(result.failed);\n        return this;\n    }\n    /**\n    Try to apply a step in this transformation, ignoring it if it\n    fails. Returns the step result.\n    */\n    maybeStep(step) {\n        let result = step.apply(this.doc);\n        if (!result.failed)\n            this.addStep(step, result.doc);\n        return result;\n    }\n    /**\n    True when the document has been changed (when there are any\n    steps).\n    */\n    get docChanged() {\n        return this.steps.length > 0;\n    }\n    /**\n    @internal\n    */\n    addStep(step, doc) {\n        this.docs.push(this.doc);\n        this.steps.push(step);\n        this.mapping.appendMap(step.getMap());\n        this.doc = doc;\n    }\n    /**\n    Replace the part of the document between `from` and `to` with the\n    given `slice`.\n    */\n    replace(from, to = from, slice = Slice.empty) {\n        let step = replaceStep(this.doc, from, to, slice);\n        if (step)\n            this.step(step);\n        return this;\n    }\n    /**\n    Replace the given range with the given content, which may be a\n    fragment, node, or array of nodes.\n    */\n    replaceWith(from, to, content) {\n        return this.replace(from, to, new Slice(Fragment.from(content), 0, 0));\n    }\n    /**\n    Delete the content between the given positions.\n    */\n    delete(from, to) {\n        return this.replace(from, to, Slice.empty);\n    }\n    /**\n    Insert the given content at the given position.\n    */\n    insert(pos, content) {\n        return this.replaceWith(pos, pos, content);\n    }\n    /**\n    Replace a range of the document with a given slice, using\n    `from`, `to`, and the slice's\n    [`openStart`](https://prosemirror.net/docs/ref/#model.Slice.openStart) property as hints, rather\n    than fixed start and end points. This method may grow the\n    replaced area or close open nodes in the slice in order to get a\n    fit that is more in line with WYSIWYG expectations, by dropping\n    fully covered parent nodes of the replaced region when they are\n    marked [non-defining as\n    context](https://prosemirror.net/docs/ref/#model.NodeSpec.definingAsContext), or including an\n    open parent node from the slice that _is_ marked as [defining\n    its content](https://prosemirror.net/docs/ref/#model.NodeSpec.definingForContent).\n    \n    This is the method, for example, to handle paste. The similar\n    [`replace`](https://prosemirror.net/docs/ref/#transform.Transform.replace) method is a more\n    primitive tool which will _not_ move the start and end of its given\n    range, and is useful in situations where you need more precise\n    control over what happens.\n    */\n    replaceRange(from, to, slice) {\n        replaceRange(this, from, to, slice);\n        return this;\n    }\n    /**\n    Replace the given range with a node, but use `from` and `to` as\n    hints, rather than precise positions. When from and to are the same\n    and are at the start or end of a parent node in which the given\n    node doesn't fit, this method may _move_ them out towards a parent\n    that does allow the given node to be placed. When the given range\n    completely covers a parent node, this method may completely replace\n    that parent node.\n    */\n    replaceRangeWith(from, to, node) {\n        replaceRangeWith(this, from, to, node);\n        return this;\n    }\n    /**\n    Delete the given range, expanding it to cover fully covered\n    parent nodes until a valid replace is found.\n    */\n    deleteRange(from, to) {\n        deleteRange(this, from, to);\n        return this;\n    }\n    /**\n    Split the content in the given range off from its parent, if there\n    is sibling content before or after it, and move it up the tree to\n    the depth specified by `target`. You'll probably want to use\n    [`liftTarget`](https://prosemirror.net/docs/ref/#transform.liftTarget) to compute `target`, to make\n    sure the lift is valid.\n    */\n    lift(range, target) {\n        lift(this, range, target);\n        return this;\n    }\n    /**\n    Join the blocks around the given position. If depth is 2, their\n    last and first siblings are also joined, and so on.\n    */\n    join(pos, depth = 1) {\n        join(this, pos, depth);\n        return this;\n    }\n    /**\n    Wrap the given [range](https://prosemirror.net/docs/ref/#model.NodeRange) in the given set of wrappers.\n    The wrappers are assumed to be valid in this position, and should\n    probably be computed with [`findWrapping`](https://prosemirror.net/docs/ref/#transform.findWrapping).\n    */\n    wrap(range, wrappers) {\n        wrap(this, range, wrappers);\n        return this;\n    }\n    /**\n    Set the type of all textblocks (partly) between `from` and `to` to\n    the given node type with the given attributes.\n    */\n    setBlockType(from, to = from, type, attrs = null) {\n        setBlockType(this, from, to, type, attrs);\n        return this;\n    }\n    /**\n    Change the type, attributes, and/or marks of the node at `pos`.\n    When `type` isn't given, the existing node type is preserved,\n    */\n    setNodeMarkup(pos, type, attrs = null, marks = []) {\n        setNodeMarkup(this, pos, type, attrs, marks);\n        return this;\n    }\n    /**\n    Split the node at the given position, and optionally, if `depth` is\n    greater than one, any number of nodes above that. By default, the\n    parts split off will inherit the node type of the original node.\n    This can be changed by passing an array of types and attributes to\n    use after the split.\n    */\n    split(pos, depth = 1, typesAfter) {\n        split(this, pos, depth, typesAfter);\n        return this;\n    }\n    /**\n    Add the given mark to the inline content between `from` and `to`.\n    */\n    addMark(from, to, mark) {\n        addMark(this, from, to, mark);\n        return this;\n    }\n    /**\n    Remove marks from inline nodes between `from` and `to`. When\n    `mark` is a single mark, remove precisely that mark. When it is\n    a mark type, remove all marks of that type. When it is null,\n    remove all marks of any type.\n    */\n    removeMark(from, to, mark) {\n        removeMark(this, from, to, mark);\n        return this;\n    }\n    /**\n    Removes all marks and nodes from the content of the node at\n    `pos` that don't match the given new parent node type. Accepts\n    an optional starting [content match](https://prosemirror.net/docs/ref/#model.ContentMatch) as\n    third argument.\n    */\n    clearIncompatible(pos, parentType, match) {\n        clearIncompatible(this, pos, parentType, match);\n        return this;\n    }\n}\n\nexport { AddMarkStep, MapResult, Mapping, RemoveMarkStep, ReplaceAroundStep, ReplaceStep, Step, StepMap, StepResult, Transform, TransformError, canJoin, canSplit, dropPoint, findWrapping, insertPoint, joinPoint, liftTarget, replaceStep };\n","import { TextSelection, NodeSelection, Selection, AllSelection } from 'prosemirror-state';\nimport { DOMSerializer, Fragment, Mark, Slice, DOMParser } from 'prosemirror-model';\nimport { dropPoint } from 'prosemirror-transform';\n\nconst nav = typeof navigator != \"undefined\" ? navigator : null;\nconst doc = typeof document != \"undefined\" ? document : null;\nconst agent = (nav && nav.userAgent) || \"\";\nconst ie_edge = /Edge\\/(\\d+)/.exec(agent);\nconst ie_upto10 = /MSIE \\d/.exec(agent);\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(agent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst ie_version = ie_upto10 ? document.documentMode : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0;\nconst gecko = !ie && /gecko\\/(\\d+)/i.test(agent);\ngecko && +(/Firefox\\/(\\d+)/.exec(agent) || [0, 0])[1];\nconst _chrome = !ie && /Chrome\\/(\\d+)/.exec(agent);\nconst chrome = !!_chrome;\nconst chrome_version = _chrome ? +_chrome[1] : 0;\nconst safari = !ie && !!nav && /Apple Computer/.test(nav.vendor);\n// Is true for both iOS and iPadOS for convenience\nconst ios = safari && (/Mobile\\/\\w+/.test(agent) || !!nav && nav.maxTouchPoints > 2);\nconst mac = ios || (nav ? /Mac/.test(nav.platform) : false);\nconst android = /Android \\d/.test(agent);\nconst webkit = !!doc && \"webkitFontSmoothing\" in doc.documentElement.style;\nconst webkit_version = webkit ? +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0;\n\nconst domIndex = function (node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n};\nconst parentNode = function (node) {\n    let parent = node.assignedSlot || node.parentNode;\n    return parent && parent.nodeType == 11 ? parent.host : parent;\n};\nlet reusedRange = null;\n// Note that this will always return the same range, because DOM range\n// objects are every expensive, and keep slowing down subsequent DOM\n// updates, for some reason.\nconst textRange = function (node, from, to) {\n    let range = reusedRange || (reusedRange = document.createRange());\n    range.setEnd(node, to == null ? node.nodeValue.length : to);\n    range.setStart(node, from || 0);\n    return range;\n};\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nconst isEquivalentPosition = function (node, off, targetNode, targetOff) {\n    return targetNode && (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1));\n};\nconst atomElements = /^(img|br|input|textarea|hr)$/i;\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : nodeSize(node))) {\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1 || hasBlockDesc(node) || atomElements.test(node.nodeName) ||\n                node.contentEditable == \"false\")\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? nodeSize(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction nodeSize(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nfunction isOnEdge(node, offset, parent) {\n    for (let atStart = offset == 0, atEnd = offset == nodeSize(node); atStart || atEnd;) {\n        if (node == parent)\n            return true;\n        let index = domIndex(node);\n        node = node.parentNode;\n        if (!node)\n            return false;\n        atStart = atStart && index == 0;\n        atEnd = atEnd && index == nodeSize(node);\n    }\n}\nfunction hasBlockDesc(dom) {\n    let desc;\n    for (let cur = dom; cur; cur = cur.parentNode)\n        if (desc = cur.pmViewDesc)\n            break;\n    return desc && desc.node && desc.node.isBlock && (desc.dom == dom || desc.contentDOM == dom);\n}\n// Work around Chrome issue https://bugs.chromium.org/p/chromium/issues/detail?id=447523\n// (isCollapsed inappropriately returns true in shadow dom)\nconst selectionCollapsed = function (domSel) {\n    let collapsed = domSel.isCollapsed;\n    if (collapsed && chrome && domSel.rangeCount && !domSel.getRangeAt(0).collapsed)\n        collapsed = false;\n    return collapsed;\n};\nfunction keyEvent(keyCode, key) {\n    let event = document.createEvent(\"Event\");\n    event.initEvent(\"keydown\", true, true);\n    event.keyCode = keyCode;\n    event.key = event.code = key;\n    return event;\n}\n\nfunction windowRect(doc) {\n    return { left: 0, right: doc.documentElement.clientWidth,\n        top: 0, bottom: doc.documentElement.clientHeight };\n}\nfunction getSide(value, side) {\n    return typeof value == \"number\" ? value : value[side];\n}\nfunction clientRect(node) {\n    let rect = node.getBoundingClientRect();\n    // Adjust for elements with style \"transform: scale()\"\n    let scaleX = (rect.width / node.offsetWidth) || 1;\n    let scaleY = (rect.height / node.offsetHeight) || 1;\n    // Make sure scrollbar width isn't included in the rectangle\n    return { left: rect.left, right: rect.left + node.clientWidth * scaleX,\n        top: rect.top, bottom: rect.top + node.clientHeight * scaleY };\n}\nfunction scrollRectIntoView(view, rect, startDOM) {\n    let scrollThreshold = view.someProp(\"scrollThreshold\") || 0, scrollMargin = view.someProp(\"scrollMargin\") || 5;\n    let doc = view.dom.ownerDocument;\n    for (let parent = startDOM || view.dom;; parent = parentNode(parent)) {\n        if (!parent)\n            break;\n        if (parent.nodeType != 1)\n            continue;\n        let elt = parent;\n        let atTop = elt == doc.body;\n        let bounding = atTop ? windowRect(doc) : clientRect(elt);\n        let moveX = 0, moveY = 0;\n        if (rect.top < bounding.top + getSide(scrollThreshold, \"top\"))\n            moveY = -(bounding.top - rect.top + getSide(scrollMargin, \"top\"));\n        else if (rect.bottom > bounding.bottom - getSide(scrollThreshold, \"bottom\"))\n            moveY = rect.bottom - bounding.bottom + getSide(scrollMargin, \"bottom\");\n        if (rect.left < bounding.left + getSide(scrollThreshold, \"left\"))\n            moveX = -(bounding.left - rect.left + getSide(scrollMargin, \"left\"));\n        else if (rect.right > bounding.right - getSide(scrollThreshold, \"right\"))\n            moveX = rect.right - bounding.right + getSide(scrollMargin, \"right\");\n        if (moveX || moveY) {\n            if (atTop) {\n                doc.defaultView.scrollBy(moveX, moveY);\n            }\n            else {\n                let startX = elt.scrollLeft, startY = elt.scrollTop;\n                if (moveY)\n                    elt.scrollTop += moveY;\n                if (moveX)\n                    elt.scrollLeft += moveX;\n                let dX = elt.scrollLeft - startX, dY = elt.scrollTop - startY;\n                rect = { left: rect.left - dX, top: rect.top - dY, right: rect.right - dX, bottom: rect.bottom - dY };\n            }\n        }\n        if (atTop)\n            break;\n    }\n}\n// Store the scroll position of the editor's parent nodes, along with\n// the top position of an element near the top of the editor, which\n// will be used to make sure the visible viewport remains stable even\n// when the size of the content above changes.\nfunction storeScrollPos(view) {\n    let rect = view.dom.getBoundingClientRect(), startY = Math.max(0, rect.top);\n    let refDOM, refTop;\n    for (let x = (rect.left + rect.right) / 2, y = startY + 1; y < Math.min(innerHeight, rect.bottom); y += 5) {\n        let dom = view.root.elementFromPoint(x, y);\n        if (!dom || dom == view.dom || !view.dom.contains(dom))\n            continue;\n        let localRect = dom.getBoundingClientRect();\n        if (localRect.top >= startY - 20) {\n            refDOM = dom;\n            refTop = localRect.top;\n            break;\n        }\n    }\n    return { refDOM: refDOM, refTop: refTop, stack: scrollStack(view.dom) };\n}\nfunction scrollStack(dom) {\n    let stack = [], doc = dom.ownerDocument;\n    for (let cur = dom; cur; cur = parentNode(cur)) {\n        stack.push({ dom: cur, top: cur.scrollTop, left: cur.scrollLeft });\n        if (dom == doc)\n            break;\n    }\n    return stack;\n}\n// Reset the scroll position of the editor's parent nodes to that what\n// it was before, when storeScrollPos was called.\nfunction resetScrollPos({ refDOM, refTop, stack }) {\n    let newRefTop = refDOM ? refDOM.getBoundingClientRect().top : 0;\n    restoreScrollStack(stack, newRefTop == 0 ? 0 : newRefTop - refTop);\n}\nfunction restoreScrollStack(stack, dTop) {\n    for (let i = 0; i < stack.length; i++) {\n        let { dom, top, left } = stack[i];\n        if (dom.scrollTop != top + dTop)\n            dom.scrollTop = top + dTop;\n        if (dom.scrollLeft != left)\n            dom.scrollLeft = left;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stored = scrollStack(dom);\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        restoreScrollStack(stored, 0);\n    }\n}\nfunction findOffsetInNode(node, coords) {\n    let closest, dxClosest = 2e8, coordsClosest, offset = 0;\n    let rowBot = coords.top, rowTop = coords.top;\n    for (let child = node.firstChild, childIndex = 0; child; child = child.nextSibling, childIndex++) {\n        let rects;\n        if (child.nodeType == 1)\n            rects = child.getClientRects();\n        else if (child.nodeType == 3)\n            rects = textRange(child).getClientRects();\n        else\n            continue;\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (rect.top <= rowBot && rect.bottom >= rowTop) {\n                rowBot = Math.max(rect.bottom, rowBot);\n                rowTop = Math.min(rect.top, rowTop);\n                let dx = rect.left > coords.left ? rect.left - coords.left\n                    : rect.right < coords.left ? coords.left - rect.right : 0;\n                if (dx < dxClosest) {\n                    closest = child;\n                    dxClosest = dx;\n                    coordsClosest = dx && closest.nodeType == 3 ? {\n                        left: rect.right < coords.left ? rect.right : rect.left,\n                        top: coords.top\n                    } : coords;\n                    if (child.nodeType == 1 && dx)\n                        offset = childIndex + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0);\n                    continue;\n                }\n            }\n            if (!closest && (coords.left >= rect.right && coords.top >= rect.top ||\n                coords.left >= rect.left && coords.top >= rect.bottom))\n                offset = childIndex + 1;\n        }\n    }\n    if (closest && closest.nodeType == 3)\n        return findOffsetInText(closest, coordsClosest);\n    if (!closest || (dxClosest && closest.nodeType == 1))\n        return { node, offset };\n    return findOffsetInNode(closest, coordsClosest);\n}\nfunction findOffsetInText(node, coords) {\n    let len = node.nodeValue.length;\n    let range = document.createRange();\n    for (let i = 0; i < len; i++) {\n        range.setEnd(node, i + 1);\n        range.setStart(node, i);\n        let rect = singleRect(range, 1);\n        if (rect.top == rect.bottom)\n            continue;\n        if (inRect(coords, rect))\n            return { node, offset: i + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0) };\n    }\n    return { node, offset: 0 };\n}\nfunction inRect(coords, rect) {\n    return coords.left >= rect.left - 1 && coords.left <= rect.right + 1 &&\n        coords.top >= rect.top - 1 && coords.top <= rect.bottom + 1;\n}\nfunction targetKludge(dom, coords) {\n    let parent = dom.parentNode;\n    if (parent && /^li$/i.test(parent.nodeName) && coords.left < dom.getBoundingClientRect().left)\n        return parent;\n    return dom;\n}\nfunction posFromElement(view, elt, coords) {\n    let { node, offset } = findOffsetInNode(elt, coords), bias = -1;\n    if (node.nodeType == 1 && !node.firstChild) {\n        let rect = node.getBoundingClientRect();\n        bias = rect.left != rect.right && coords.left > (rect.left + rect.right) / 2 ? 1 : -1;\n    }\n    return view.docView.posFromDOM(node, offset, bias);\n}\nfunction posFromCaret(view, node, offset, coords) {\n    // Browser (in caretPosition/RangeFromPoint) will agressively\n    // normalize towards nearby inline nodes. Since we are interested in\n    // positions between block nodes too, we first walk up the hierarchy\n    // of nodes to see if there are block nodes that the coordinates\n    // fall outside of. If so, we take the position before/after that\n    // block. If not, we call `posFromDOM` on the raw node/offset.\n    let outside = -1;\n    for (let cur = node;;) {\n        if (cur == view.dom)\n            break;\n        let desc = view.docView.nearestDesc(cur, true);\n        if (!desc)\n            return null;\n        if (desc.node.isBlock && desc.parent) {\n            let rect = desc.dom.getBoundingClientRect();\n            if (rect.left > coords.left || rect.top > coords.top)\n                outside = desc.posBefore;\n            else if (rect.right < coords.left || rect.bottom < coords.top)\n                outside = desc.posAfter;\n            else\n                break;\n        }\n        cur = desc.dom.parentNode;\n    }\n    return outside > -1 ? outside : view.docView.posFromDOM(node, offset, 1);\n}\nfunction elementFromPoint(element, coords, box) {\n    let len = element.childNodes.length;\n    if (len && box.top < box.bottom) {\n        for (let startI = Math.max(0, Math.min(len - 1, Math.floor(len * (coords.top - box.top) / (box.bottom - box.top)) - 2)), i = startI;;) {\n            let child = element.childNodes[i];\n            if (child.nodeType == 1) {\n                let rects = child.getClientRects();\n                for (let j = 0; j < rects.length; j++) {\n                    let rect = rects[j];\n                    if (inRect(coords, rect))\n                        return elementFromPoint(child, coords, rect);\n                }\n            }\n            if ((i = (i + 1) % len) == startI)\n                break;\n        }\n    }\n    return element;\n}\n// Given an x,y position on the editor, get the position in the document.\nfunction posAtCoords(view, coords) {\n    let doc = view.dom.ownerDocument, node, offset = 0;\n    if (doc.caretPositionFromPoint) {\n        try { // Firefox throws for this call in hard-to-predict circumstances (#994)\n            let pos = doc.caretPositionFromPoint(coords.left, coords.top);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        catch (_) { }\n    }\n    if (!node && doc.caretRangeFromPoint) {\n        let range = doc.caretRangeFromPoint(coords.left, coords.top);\n        if (range)\n            ({ startContainer: node, startOffset: offset } = range);\n    }\n    let elt = (view.root.elementFromPoint ? view.root : doc)\n        .elementFromPoint(coords.left, coords.top);\n    let pos;\n    if (!elt || !view.dom.contains(elt.nodeType != 1 ? elt.parentNode : elt)) {\n        let box = view.dom.getBoundingClientRect();\n        if (!inRect(coords, box))\n            return null;\n        elt = elementFromPoint(view.dom, coords, box);\n        if (!elt)\n            return null;\n    }\n    // Safari's caretRangeFromPoint returns nonsense when on a draggable element\n    if (safari) {\n        for (let p = elt; node && p; p = parentNode(p))\n            if (p.draggable)\n                node = undefined;\n    }\n    elt = targetKludge(elt, coords);\n    if (node) {\n        if (gecko && node.nodeType == 1) {\n            // Firefox will sometimes return offsets into <input> nodes, which\n            // have no actual children, from caretPositionFromPoint (#953)\n            offset = Math.min(offset, node.childNodes.length);\n            // It'll also move the returned position before image nodes,\n            // even if those are behind it.\n            if (offset < node.childNodes.length) {\n                let next = node.childNodes[offset], box;\n                if (next.nodeName == \"IMG\" && (box = next.getBoundingClientRect()).right <= coords.left &&\n                    box.bottom > coords.top)\n                    offset++;\n            }\n        }\n        // Suspiciously specific kludge to work around caret*FromPoint\n        // never returning a position at the end of the document\n        if (node == view.dom && offset == node.childNodes.length - 1 && node.lastChild.nodeType == 1 &&\n            coords.top > node.lastChild.getBoundingClientRect().bottom)\n            pos = view.state.doc.content.size;\n        // Ignore positions directly after a BR, since caret*FromPoint\n        // 'round up' positions that would be more accurately placed\n        // before the BR node.\n        else if (offset == 0 || node.nodeType != 1 || node.childNodes[offset - 1].nodeName != \"BR\")\n            pos = posFromCaret(view, node, offset, coords);\n    }\n    if (pos == null)\n        pos = posFromElement(view, elt, coords);\n    let desc = view.docView.nearestDesc(elt, true);\n    return { pos, inside: desc ? desc.posAtStart - desc.border : -1 };\n}\nfunction singleRect(target, bias) {\n    let rects = target.getClientRects();\n    return !rects.length ? target.getBoundingClientRect() : rects[bias < 0 ? 0 : rects.length - 1];\n}\nconst BIDI = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n// Given a position in the document model, get a bounding box of the\n// character at that position, relative to the window.\nfunction coordsAtPos(view, pos, side) {\n    let { node, offset, atom } = view.docView.domFromPos(pos, side < 0 ? -1 : 1);\n    let supportEmptyRange = webkit || gecko;\n    if (node.nodeType == 3) {\n        // These browsers support querying empty text ranges. Prefer that in\n        // bidi context or when at the end of a node.\n        if (supportEmptyRange && (BIDI.test(node.nodeValue) || (side < 0 ? !offset : offset == node.nodeValue.length))) {\n            let rect = singleRect(textRange(node, offset, offset), side);\n            // Firefox returns bad results (the position before the space)\n            // when querying a position directly after line-broken\n            // whitespace. Detect this situation and and kludge around it\n            if (gecko && offset && /\\s/.test(node.nodeValue[offset - 1]) && offset < node.nodeValue.length) {\n                let rectBefore = singleRect(textRange(node, offset - 1, offset - 1), -1);\n                if (rectBefore.top == rect.top) {\n                    let rectAfter = singleRect(textRange(node, offset, offset + 1), -1);\n                    if (rectAfter.top != rect.top)\n                        return flattenV(rectAfter, rectAfter.left < rectBefore.left);\n                }\n            }\n            return rect;\n        }\n        else {\n            let from = offset, to = offset, takeSide = side < 0 ? 1 : -1;\n            if (side < 0 && !offset) {\n                to++;\n                takeSide = -1;\n            }\n            else if (side >= 0 && offset == node.nodeValue.length) {\n                from--;\n                takeSide = 1;\n            }\n            else if (side < 0) {\n                from--;\n            }\n            else {\n                to++;\n            }\n            return flattenV(singleRect(textRange(node, from, to), takeSide), takeSide < 0);\n        }\n    }\n    let $dom = view.state.doc.resolve(pos - (atom || 0));\n    // Return a horizontal line in block context\n    if (!$dom.parent.inlineContent) {\n        if (atom == null && offset && (side < 0 || offset == nodeSize(node))) {\n            let before = node.childNodes[offset - 1];\n            if (before.nodeType == 1)\n                return flattenH(before.getBoundingClientRect(), false);\n        }\n        if (atom == null && offset < nodeSize(node)) {\n            let after = node.childNodes[offset];\n            if (after.nodeType == 1)\n                return flattenH(after.getBoundingClientRect(), true);\n        }\n        return flattenH(node.getBoundingClientRect(), side >= 0);\n    }\n    // Inline, not in text node (this is not Bidi-safe)\n    if (atom == null && offset && (side < 0 || offset == nodeSize(node))) {\n        let before = node.childNodes[offset - 1];\n        let target = before.nodeType == 3 ? textRange(before, nodeSize(before) - (supportEmptyRange ? 0 : 1))\n            // BR nodes tend to only return the rectangle before them.\n            // Only use them if they are the last element in their parent\n            : before.nodeType == 1 && (before.nodeName != \"BR\" || !before.nextSibling) ? before : null;\n        if (target)\n            return flattenV(singleRect(target, 1), false);\n    }\n    if (atom == null && offset < nodeSize(node)) {\n        let after = node.childNodes[offset];\n        while (after.pmViewDesc && after.pmViewDesc.ignoreForCoords)\n            after = after.nextSibling;\n        let target = !after ? null : after.nodeType == 3 ? textRange(after, 0, (supportEmptyRange ? 0 : 1))\n            : after.nodeType == 1 ? after : null;\n        if (target)\n            return flattenV(singleRect(target, -1), true);\n    }\n    // All else failed, just try to get a rectangle for the target node\n    return flattenV(singleRect(node.nodeType == 3 ? textRange(node) : node, -side), side >= 0);\n}\nfunction flattenV(rect, left) {\n    if (rect.width == 0)\n        return rect;\n    let x = left ? rect.left : rect.right;\n    return { top: rect.top, bottom: rect.bottom, left: x, right: x };\n}\nfunction flattenH(rect, top) {\n    if (rect.height == 0)\n        return rect;\n    let y = top ? rect.top : rect.bottom;\n    return { top: y, bottom: y, left: rect.left, right: rect.right };\n}\nfunction withFlushedState(view, state, f) {\n    let viewState = view.state, active = view.root.activeElement;\n    if (viewState != state)\n        view.updateState(state);\n    if (active != view.dom)\n        view.focus();\n    try {\n        return f();\n    }\n    finally {\n        if (viewState != state)\n            view.updateState(viewState);\n        if (active != view.dom && active)\n            active.focus();\n    }\n}\n// Whether vertical position motion in a given direction\n// from a position would leave a text block.\nfunction endOfTextblockVertical(view, state, dir) {\n    let sel = state.selection;\n    let $pos = dir == \"up\" ? sel.$from : sel.$to;\n    return withFlushedState(view, state, () => {\n        let { node: dom } = view.docView.domFromPos($pos.pos, dir == \"up\" ? -1 : 1);\n        for (;;) {\n            let nearest = view.docView.nearestDesc(dom, true);\n            if (!nearest)\n                break;\n            if (nearest.node.isBlock) {\n                dom = nearest.dom;\n                break;\n            }\n            dom = nearest.dom.parentNode;\n        }\n        let coords = coordsAtPos(view, $pos.pos, 1);\n        for (let child = dom.firstChild; child; child = child.nextSibling) {\n            let boxes;\n            if (child.nodeType == 1)\n                boxes = child.getClientRects();\n            else if (child.nodeType == 3)\n                boxes = textRange(child, 0, child.nodeValue.length).getClientRects();\n            else\n                continue;\n            for (let i = 0; i < boxes.length; i++) {\n                let box = boxes[i];\n                if (box.bottom > box.top + 1 &&\n                    (dir == \"up\" ? coords.top - box.top > (box.bottom - coords.top) * 2\n                        : box.bottom - coords.bottom > (coords.bottom - box.top) * 2))\n                    return false;\n            }\n        }\n        return true;\n    });\n}\nconst maybeRTL = /[\\u0590-\\u08ac]/;\nfunction endOfTextblockHorizontal(view, state, dir) {\n    let { $head } = state.selection;\n    if (!$head.parent.isTextblock)\n        return false;\n    let offset = $head.parentOffset, atStart = !offset, atEnd = offset == $head.parent.content.size;\n    let sel = view.domSelection();\n    // If the textblock is all LTR, or the browser doesn't support\n    // Selection.modify (Edge), fall back to a primitive approach\n    if (!maybeRTL.test($head.parent.textContent) || !sel.modify)\n        return dir == \"left\" || dir == \"backward\" ? atStart : atEnd;\n    return withFlushedState(view, state, () => {\n        // This is a huge hack, but appears to be the best we can\n        // currently do: use `Selection.modify` to move the selection by\n        // one character, and see if that moves the cursor out of the\n        // textblock (or doesn't move it at all, when at the start/end of\n        // the document).\n        let oldRange = sel.getRangeAt(0), oldNode = sel.focusNode, oldOff = sel.focusOffset;\n        let oldBidiLevel = sel.caretBidiLevel // Only for Firefox\n        ;\n        sel.modify(\"move\", dir, \"character\");\n        let parentDOM = $head.depth ? view.docView.domAfterPos($head.before()) : view.dom;\n        let result = !parentDOM.contains(sel.focusNode.nodeType == 1 ? sel.focusNode : sel.focusNode.parentNode) ||\n            (oldNode == sel.focusNode && oldOff == sel.focusOffset);\n        // Restore the previous selection\n        sel.removeAllRanges();\n        sel.addRange(oldRange);\n        if (oldBidiLevel != null)\n            sel.caretBidiLevel = oldBidiLevel;\n        return result;\n    });\n}\nlet cachedState = null;\nlet cachedDir = null;\nlet cachedResult = false;\nfunction endOfTextblock(view, state, dir) {\n    if (cachedState == state && cachedDir == dir)\n        return cachedResult;\n    cachedState = state;\n    cachedDir = dir;\n    return cachedResult = dir == \"up\" || dir == \"down\"\n        ? endOfTextblockVertical(view, state, dir)\n        : endOfTextblockHorizontal(view, state, dir);\n}\n\n// View descriptions are data structures that describe the DOM that is\n// used to represent the editor's content. They are used for:\n//\n// - Incremental redrawing when the document changes\n//\n// - Figuring out what part of the document a given DOM position\n//   corresponds to\n//\n// - Wiring in custom implementations of the editing interface for a\n//   given node\n//\n// They form a doubly-linked mutable tree, starting at `view.docView`.\nconst NOT_DIRTY = 0, CHILD_DIRTY = 1, CONTENT_DIRTY = 2, NODE_DIRTY = 3;\n// Superclass for the various kinds of descriptions. Defines their\n// basic structure and shared methods.\nclass ViewDesc {\n    constructor(parent, children, dom, \n    // This is the node that holds the child views. It may be null for\n    // descs that don't have children.\n    contentDOM) {\n        this.parent = parent;\n        this.children = children;\n        this.dom = dom;\n        this.contentDOM = contentDOM;\n        this.dirty = NOT_DIRTY;\n        // An expando property on the DOM node provides a link back to its\n        // description.\n        dom.pmViewDesc = this;\n    }\n    // Used to check whether a given description corresponds to a\n    // widget/mark/node.\n    matchesWidget(widget) { return false; }\n    matchesMark(mark) { return false; }\n    matchesNode(node, outerDeco, innerDeco) { return false; }\n    matchesHack(nodeName) { return false; }\n    // When parsing in-editor content (in domchange.js), we allow\n    // descriptions to determine the parse rules that should be used to\n    // parse them.\n    parseRule() { return null; }\n    // Used by the editor's event handler to ignore events that come\n    // from certain descs.\n    stopEvent(event) { return false; }\n    // The size of the content represented by this desc.\n    get size() {\n        let size = 0;\n        for (let i = 0; i < this.children.length; i++)\n            size += this.children[i].size;\n        return size;\n    }\n    // For block nodes, this represents the space taken up by their\n    // start/end tokens.\n    get border() { return 0; }\n    destroy() {\n        this.parent = undefined;\n        if (this.dom.pmViewDesc == this)\n            this.dom.pmViewDesc = undefined;\n        for (let i = 0; i < this.children.length; i++)\n            this.children[i].destroy();\n    }\n    posBeforeChild(child) {\n        for (let i = 0, pos = this.posAtStart;; i++) {\n            let cur = this.children[i];\n            if (cur == child)\n                return pos;\n            pos += cur.size;\n        }\n    }\n    get posBefore() {\n        return this.parent.posBeforeChild(this);\n    }\n    get posAtStart() {\n        return this.parent ? this.parent.posBeforeChild(this) + this.border : 0;\n    }\n    get posAfter() {\n        return this.posBefore + this.size;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.size - 2 * this.border;\n    }\n    localPosFromDOM(dom, offset, bias) {\n        // If the DOM position is in the content, use the child desc after\n        // it to figure out a position.\n        if (this.contentDOM && this.contentDOM.contains(dom.nodeType == 1 ? dom : dom.parentNode)) {\n            if (bias < 0) {\n                let domBefore, desc;\n                if (dom == this.contentDOM) {\n                    domBefore = dom.childNodes[offset - 1];\n                }\n                else {\n                    while (dom.parentNode != this.contentDOM)\n                        dom = dom.parentNode;\n                    domBefore = dom.previousSibling;\n                }\n                while (domBefore && !((desc = domBefore.pmViewDesc) && desc.parent == this))\n                    domBefore = domBefore.previousSibling;\n                return domBefore ? this.posBeforeChild(desc) + desc.size : this.posAtStart;\n            }\n            else {\n                let domAfter, desc;\n                if (dom == this.contentDOM) {\n                    domAfter = dom.childNodes[offset];\n                }\n                else {\n                    while (dom.parentNode != this.contentDOM)\n                        dom = dom.parentNode;\n                    domAfter = dom.nextSibling;\n                }\n                while (domAfter && !((desc = domAfter.pmViewDesc) && desc.parent == this))\n                    domAfter = domAfter.nextSibling;\n                return domAfter ? this.posBeforeChild(desc) : this.posAtEnd;\n            }\n        }\n        // Otherwise, use various heuristics, falling back on the bias\n        // parameter, to determine whether to return the position at the\n        // start or at the end of this view desc.\n        let atEnd;\n        if (dom == this.dom && this.contentDOM) {\n            atEnd = offset > domIndex(this.contentDOM);\n        }\n        else if (this.contentDOM && this.contentDOM != this.dom && this.dom.contains(this.contentDOM)) {\n            atEnd = dom.compareDocumentPosition(this.contentDOM) & 2;\n        }\n        else if (this.dom.firstChild) {\n            if (offset == 0)\n                for (let search = dom;; search = search.parentNode) {\n                    if (search == this.dom) {\n                        atEnd = false;\n                        break;\n                    }\n                    if (search.previousSibling)\n                        break;\n                }\n            if (atEnd == null && offset == dom.childNodes.length)\n                for (let search = dom;; search = search.parentNode) {\n                    if (search == this.dom) {\n                        atEnd = true;\n                        break;\n                    }\n                    if (search.nextSibling)\n                        break;\n                }\n        }\n        return (atEnd == null ? bias > 0 : atEnd) ? this.posAtEnd : this.posAtStart;\n    }\n    // Scan up the dom finding the first desc that is a descendant of\n    // this one.\n    nearestDesc(dom, onlyNodes = false) {\n        for (let first = true, cur = dom; cur; cur = cur.parentNode) {\n            let desc = this.getDesc(cur), nodeDOM;\n            if (desc && (!onlyNodes || desc.node)) {\n                // If dom is outside of this desc's nodeDOM, don't count it.\n                if (first && (nodeDOM = desc.nodeDOM) &&\n                    !(nodeDOM.nodeType == 1 ? nodeDOM.contains(dom.nodeType == 1 ? dom : dom.parentNode) : nodeDOM == dom))\n                    first = false;\n                else\n                    return desc;\n            }\n        }\n    }\n    getDesc(dom) {\n        let desc = dom.pmViewDesc;\n        for (let cur = desc; cur; cur = cur.parent)\n            if (cur == this)\n                return desc;\n    }\n    posFromDOM(dom, offset, bias) {\n        for (let scan = dom; scan; scan = scan.parentNode) {\n            let desc = this.getDesc(scan);\n            if (desc)\n                return desc.localPosFromDOM(dom, offset, bias);\n        }\n        return -1;\n    }\n    // Find the desc for the node after the given pos, if any. (When a\n    // parent node overrode rendering, there might not be one.)\n    descAt(pos) {\n        for (let i = 0, offset = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (offset == pos && end != offset) {\n                while (!child.border && child.children.length)\n                    child = child.children[0];\n                return child;\n            }\n            if (pos < end)\n                return child.descAt(pos - offset - child.border);\n            offset = end;\n        }\n    }\n    domFromPos(pos, side) {\n        if (!this.contentDOM)\n            return { node: this.dom, offset: 0, atom: pos + 1 };\n        // First find the position in the child array\n        let i = 0, offset = 0;\n        for (let curPos = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = curPos + child.size;\n            if (end > pos || child instanceof TrailingHackViewDesc) {\n                offset = pos - curPos;\n                break;\n            }\n            curPos = end;\n        }\n        // If this points into the middle of a child, call through\n        if (offset)\n            return this.children[i].domFromPos(offset - this.children[i].border, side);\n        // Go back if there were any zero-length widgets with side >= 0 before this point\n        for (let prev; i && !(prev = this.children[i - 1]).size && prev instanceof WidgetViewDesc && prev.side >= 0; i--) { }\n        // Scan towards the first useable node\n        if (side <= 0) {\n            let prev, enter = true;\n            for (;; i--, enter = false) {\n                prev = i ? this.children[i - 1] : null;\n                if (!prev || prev.dom.parentNode == this.contentDOM)\n                    break;\n            }\n            if (prev && side && enter && !prev.border && !prev.domAtom)\n                return prev.domFromPos(prev.size, side);\n            return { node: this.contentDOM, offset: prev ? domIndex(prev.dom) + 1 : 0 };\n        }\n        else {\n            let next, enter = true;\n            for (;; i++, enter = false) {\n                next = i < this.children.length ? this.children[i] : null;\n                if (!next || next.dom.parentNode == this.contentDOM)\n                    break;\n            }\n            if (next && enter && !next.border && !next.domAtom)\n                return next.domFromPos(0, side);\n            return { node: this.contentDOM, offset: next ? domIndex(next.dom) : this.contentDOM.childNodes.length };\n        }\n    }\n    // Used to find a DOM range in a single parent for a given changed\n    // range.\n    parseRange(from, to, base = 0) {\n        if (this.children.length == 0)\n            return { node: this.contentDOM, from, to, fromOffset: 0, toOffset: this.contentDOM.childNodes.length };\n        let fromOffset = -1, toOffset = -1;\n        for (let offset = base, i = 0;; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (fromOffset == -1 && from <= end) {\n                let childBase = offset + child.border;\n                // FIXME maybe descend mark views to parse a narrower range?\n                if (from >= childBase && to <= end - child.border && child.node &&\n                    child.contentDOM && this.contentDOM.contains(child.contentDOM))\n                    return child.parseRange(from, to, childBase);\n                from = offset;\n                for (let j = i; j > 0; j--) {\n                    let prev = this.children[j - 1];\n                    if (prev.size && prev.dom.parentNode == this.contentDOM && !prev.emptyChildAt(1)) {\n                        fromOffset = domIndex(prev.dom) + 1;\n                        break;\n                    }\n                    from -= prev.size;\n                }\n                if (fromOffset == -1)\n                    fromOffset = 0;\n            }\n            if (fromOffset > -1 && (end > to || i == this.children.length - 1)) {\n                to = end;\n                for (let j = i + 1; j < this.children.length; j++) {\n                    let next = this.children[j];\n                    if (next.size && next.dom.parentNode == this.contentDOM && !next.emptyChildAt(-1)) {\n                        toOffset = domIndex(next.dom);\n                        break;\n                    }\n                    to += next.size;\n                }\n                if (toOffset == -1)\n                    toOffset = this.contentDOM.childNodes.length;\n                break;\n            }\n            offset = end;\n        }\n        return { node: this.contentDOM, from, to, fromOffset, toOffset };\n    }\n    emptyChildAt(side) {\n        if (this.border || !this.contentDOM || !this.children.length)\n            return false;\n        let child = this.children[side < 0 ? 0 : this.children.length - 1];\n        return child.size == 0 || child.emptyChildAt(side);\n    }\n    domAfterPos(pos) {\n        let { node, offset } = this.domFromPos(pos, 0);\n        if (node.nodeType != 1 || offset == node.childNodes.length)\n            throw new RangeError(\"No node after pos \" + pos);\n        return node.childNodes[offset];\n    }\n    // View descs are responsible for setting any selection that falls\n    // entirely inside of them, so that custom implementations can do\n    // custom things with the selection. Note that this falls apart when\n    // a selection starts in such a node and ends in another, in which\n    // case we just use whatever domFromPos produces as a best effort.\n    setSelection(anchor, head, root, force = false) {\n        // If the selection falls entirely in a child, give it to that child\n        let from = Math.min(anchor, head), to = Math.max(anchor, head);\n        for (let i = 0, offset = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (from > offset && to < end)\n                return child.setSelection(anchor - offset - child.border, head - offset - child.border, root, force);\n            offset = end;\n        }\n        let anchorDOM = this.domFromPos(anchor, anchor ? -1 : 1);\n        let headDOM = head == anchor ? anchorDOM : this.domFromPos(head, head ? -1 : 1);\n        let domSel = root.getSelection();\n        let brKludge = false;\n        // On Firefox, using Selection.collapse to put the cursor after a\n        // BR node for some reason doesn't always work (#1073). On Safari,\n        // the cursor sometimes inexplicable visually lags behind its\n        // reported position in such situations (#1092).\n        if ((gecko || safari) && anchor == head) {\n            let { node, offset } = anchorDOM;\n            if (node.nodeType == 3) {\n                brKludge = !!(offset && node.nodeValue[offset - 1] == \"\\n\");\n                // Issue #1128\n                if (brKludge && offset == node.nodeValue.length) {\n                    for (let scan = node, after; scan; scan = scan.parentNode) {\n                        if (after = scan.nextSibling) {\n                            if (after.nodeName == \"BR\")\n                                anchorDOM = headDOM = { node: after.parentNode, offset: domIndex(after) + 1 };\n                            break;\n                        }\n                        let desc = scan.pmViewDesc;\n                        if (desc && desc.node && desc.node.isBlock)\n                            break;\n                    }\n                }\n            }\n            else {\n                let prev = node.childNodes[offset - 1];\n                brKludge = prev && (prev.nodeName == \"BR\" || prev.contentEditable == \"false\");\n            }\n        }\n        // Firefox can act strangely when the selection is in front of an\n        // uneditable node. See #1163 and https://bugzilla.mozilla.org/show_bug.cgi?id=1709536\n        if (gecko && domSel.focusNode && domSel.focusNode != headDOM.node && domSel.focusNode.nodeType == 1) {\n            let after = domSel.focusNode.childNodes[domSel.focusOffset];\n            if (after && after.contentEditable == \"false\")\n                force = true;\n        }\n        if (!(force || brKludge && safari) &&\n            isEquivalentPosition(anchorDOM.node, anchorDOM.offset, domSel.anchorNode, domSel.anchorOffset) &&\n            isEquivalentPosition(headDOM.node, headDOM.offset, domSel.focusNode, domSel.focusOffset))\n            return;\n        // Selection.extend can be used to create an 'inverted' selection\n        // (one where the focus is before the anchor), but not all\n        // browsers support it yet.\n        let domSelExtended = false;\n        if ((domSel.extend || anchor == head) && !brKludge) {\n            domSel.collapse(anchorDOM.node, anchorDOM.offset);\n            try {\n                if (anchor != head)\n                    domSel.extend(headDOM.node, headDOM.offset);\n                domSelExtended = true;\n            }\n            catch (err) {\n                // In some cases with Chrome the selection is empty after calling\n                // collapse, even when it should be valid. This appears to be a bug, but\n                // it is difficult to isolate. If this happens fallback to the old path\n                // without using extend.\n                if (!(err instanceof DOMException))\n                    throw err;\n                // declare global: DOMException\n            }\n        }\n        if (!domSelExtended) {\n            if (anchor > head) {\n                let tmp = anchorDOM;\n                anchorDOM = headDOM;\n                headDOM = tmp;\n            }\n            let range = document.createRange();\n            range.setEnd(headDOM.node, headDOM.offset);\n            range.setStart(anchorDOM.node, anchorDOM.offset);\n            domSel.removeAllRanges();\n            domSel.addRange(range);\n        }\n    }\n    ignoreMutation(mutation) {\n        return !this.contentDOM && mutation.type != \"selection\";\n    }\n    get contentLost() {\n        return this.contentDOM && this.contentDOM != this.dom && !this.dom.contains(this.contentDOM);\n    }\n    // Remove a subtree of the element tree that has been touched\n    // by a DOM change, so that the next update will redraw it.\n    markDirty(from, to) {\n        for (let offset = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (offset == end ? from <= end && to >= offset : from < end && to > offset) {\n                let startInside = offset + child.border, endInside = end - child.border;\n                if (from >= startInside && to <= endInside) {\n                    this.dirty = from == offset || to == end ? CONTENT_DIRTY : CHILD_DIRTY;\n                    if (from == startInside && to == endInside &&\n                        (child.contentLost || child.dom.parentNode != this.contentDOM))\n                        child.dirty = NODE_DIRTY;\n                    else\n                        child.markDirty(from - startInside, to - startInside);\n                    return;\n                }\n                else {\n                    child.dirty = child.dom == child.contentDOM && child.dom.parentNode == this.contentDOM && !child.children.length\n                        ? CONTENT_DIRTY : NODE_DIRTY;\n                }\n            }\n            offset = end;\n        }\n        this.dirty = CONTENT_DIRTY;\n    }\n    markParentsDirty() {\n        let level = 1;\n        for (let node = this.parent; node; node = node.parent, level++) {\n            let dirty = level == 1 ? CONTENT_DIRTY : CHILD_DIRTY;\n            if (node.dirty < dirty)\n                node.dirty = dirty;\n        }\n    }\n    get domAtom() { return false; }\n    get ignoreForCoords() { return false; }\n}\n// A widget desc represents a widget decoration, which is a DOM node\n// drawn between the document nodes.\nclass WidgetViewDesc extends ViewDesc {\n    constructor(parent, widget, view, pos) {\n        let self, dom = widget.type.toDOM;\n        if (typeof dom == \"function\")\n            dom = dom(view, () => {\n                if (!self)\n                    return pos;\n                if (self.parent)\n                    return self.parent.posBeforeChild(self);\n            });\n        if (!widget.type.spec.raw) {\n            if (dom.nodeType != 1) {\n                let wrap = document.createElement(\"span\");\n                wrap.appendChild(dom);\n                dom = wrap;\n            }\n            dom.contentEditable = \"false\";\n            dom.classList.add(\"ProseMirror-widget\");\n        }\n        super(parent, [], dom, null);\n        this.widget = widget;\n        this.widget = widget;\n        self = this;\n    }\n    matchesWidget(widget) {\n        return this.dirty == NOT_DIRTY && widget.type.eq(this.widget.type);\n    }\n    parseRule() { return { ignore: true }; }\n    stopEvent(event) {\n        let stop = this.widget.spec.stopEvent;\n        return stop ? stop(event) : false;\n    }\n    ignoreMutation(mutation) {\n        return mutation.type != \"selection\" || this.widget.spec.ignoreSelection;\n    }\n    destroy() {\n        this.widget.type.destroy(this.dom);\n        super.destroy();\n    }\n    get domAtom() { return true; }\n    get side() { return this.widget.type.side; }\n}\nclass CompositionViewDesc extends ViewDesc {\n    constructor(parent, dom, textDOM, text) {\n        super(parent, [], dom, null);\n        this.textDOM = textDOM;\n        this.text = text;\n    }\n    get size() { return this.text.length; }\n    localPosFromDOM(dom, offset) {\n        if (dom != this.textDOM)\n            return this.posAtStart + (offset ? this.size : 0);\n        return this.posAtStart + offset;\n    }\n    domFromPos(pos) {\n        return { node: this.textDOM, offset: pos };\n    }\n    ignoreMutation(mut) {\n        return mut.type === 'characterData' && mut.target.nodeValue == mut.oldValue;\n    }\n}\n// A mark desc represents a mark. May have multiple children,\n// depending on how the mark is split. Note that marks are drawn using\n// a fixed nesting order, for simplicity and predictability, so in\n// some cases they will be split more often than would appear\n// necessary.\nclass MarkViewDesc extends ViewDesc {\n    constructor(parent, mark, dom, contentDOM) {\n        super(parent, [], dom, contentDOM);\n        this.mark = mark;\n    }\n    static create(parent, mark, inline, view) {\n        let custom = view.nodeViews[mark.type.name];\n        let spec = custom && custom(mark, view, inline);\n        if (!spec || !spec.dom)\n            spec = DOMSerializer.renderSpec(document, mark.type.spec.toDOM(mark, inline));\n        return new MarkViewDesc(parent, mark, spec.dom, spec.contentDOM || spec.dom);\n    }\n    parseRule() {\n        if ((this.dirty & NODE_DIRTY) || this.mark.type.spec.reparseInView)\n            return null;\n        return { mark: this.mark.type.name, attrs: this.mark.attrs, contentElement: this.contentDOM || undefined };\n    }\n    matchesMark(mark) { return this.dirty != NODE_DIRTY && this.mark.eq(mark); }\n    markDirty(from, to) {\n        super.markDirty(from, to);\n        // Move dirty info to nearest node view\n        if (this.dirty != NOT_DIRTY) {\n            let parent = this.parent;\n            while (!parent.node)\n                parent = parent.parent;\n            if (parent.dirty < this.dirty)\n                parent.dirty = this.dirty;\n            this.dirty = NOT_DIRTY;\n        }\n    }\n    slice(from, to, view) {\n        let copy = MarkViewDesc.create(this.parent, this.mark, true, view);\n        let nodes = this.children, size = this.size;\n        if (to < size)\n            nodes = replaceNodes(nodes, to, size, view);\n        if (from > 0)\n            nodes = replaceNodes(nodes, 0, from, view);\n        for (let i = 0; i < nodes.length; i++)\n            nodes[i].parent = copy;\n        copy.children = nodes;\n        return copy;\n    }\n}\n// Node view descs are the main, most common type of view desc, and\n// correspond to an actual node in the document. Unlike mark descs,\n// they populate their child array themselves.\nclass NodeViewDesc extends ViewDesc {\n    constructor(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, view, pos) {\n        super(parent, [], dom, contentDOM);\n        this.node = node;\n        this.outerDeco = outerDeco;\n        this.innerDeco = innerDeco;\n        this.nodeDOM = nodeDOM;\n        if (contentDOM)\n            this.updateChildren(view, pos);\n    }\n    // By default, a node is rendered using the `toDOM` method from the\n    // node type spec. But client code can use the `nodeViews` spec to\n    // supply a custom node view, which can influence various aspects of\n    // the way the node works.\n    //\n    // (Using subclassing for this was intentionally decided against,\n    // since it'd require exposing a whole slew of finicky\n    // implementation details to the user code that they probably will\n    // never need.)\n    static create(parent, node, outerDeco, innerDeco, view, pos) {\n        let custom = view.nodeViews[node.type.name], descObj;\n        let spec = custom && custom(node, view, () => {\n            // (This is a function that allows the custom view to find its\n            // own position)\n            if (!descObj)\n                return pos;\n            if (descObj.parent)\n                return descObj.parent.posBeforeChild(descObj);\n        }, outerDeco, innerDeco);\n        let dom = spec && spec.dom, contentDOM = spec && spec.contentDOM;\n        if (node.isText) {\n            if (!dom)\n                dom = document.createTextNode(node.text);\n            else if (dom.nodeType != 3)\n                throw new RangeError(\"Text must be rendered as a DOM text node\");\n        }\n        else if (!dom) {\n            ({ dom, contentDOM } = DOMSerializer.renderSpec(document, node.type.spec.toDOM(node)));\n        }\n        if (!contentDOM && !node.isText && dom.nodeName != \"BR\") { // Chrome gets confused by <br contenteditable=false>\n            if (!dom.hasAttribute(\"contenteditable\"))\n                dom.contentEditable = \"false\";\n            if (node.type.spec.draggable)\n                dom.draggable = true;\n        }\n        let nodeDOM = dom;\n        dom = applyOuterDeco(dom, outerDeco, node);\n        if (spec)\n            return descObj = new CustomNodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM || null, nodeDOM, spec, view, pos + 1);\n        else if (node.isText)\n            return new TextViewDesc(parent, node, outerDeco, innerDeco, dom, nodeDOM, view);\n        else\n            return new NodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM || null, nodeDOM, view, pos + 1);\n    }\n    parseRule() {\n        // Experimental kludge to allow opt-in re-parsing of nodes\n        if (this.node.type.spec.reparseInView)\n            return null;\n        // FIXME the assumption that this can always return the current\n        // attrs means that if the user somehow manages to change the\n        // attrs in the dom, that won't be picked up. Not entirely sure\n        // whether this is a problem\n        let rule = { node: this.node.type.name, attrs: this.node.attrs };\n        if (this.node.type.whitespace == \"pre\")\n            rule.preserveWhitespace = \"full\";\n        if (!this.contentDOM) {\n            rule.getContent = () => this.node.content;\n        }\n        else if (!this.contentLost) {\n            rule.contentElement = this.contentDOM;\n        }\n        else {\n            // Chrome likes to randomly recreate parent nodes when\n            // backspacing things. When that happens, this tries to find the\n            // new parent.\n            for (let i = this.children.length - 1; i >= 0; i--) {\n                let child = this.children[i];\n                if (this.dom.contains(child.dom.parentNode)) {\n                    rule.contentElement = child.dom.parentNode;\n                    break;\n                }\n            }\n            if (!rule.contentElement)\n                rule.getContent = () => Fragment.empty;\n        }\n        return rule;\n    }\n    matchesNode(node, outerDeco, innerDeco) {\n        return this.dirty == NOT_DIRTY && node.eq(this.node) &&\n            sameOuterDeco(outerDeco, this.outerDeco) && innerDeco.eq(this.innerDeco);\n    }\n    get size() { return this.node.nodeSize; }\n    get border() { return this.node.isLeaf ? 0 : 1; }\n    // Syncs `this.children` to match `this.node.content` and the local\n    // decorations, possibly introducing nesting for marks. Then, in a\n    // separate step, syncs the DOM inside `this.contentDOM` to\n    // `this.children`.\n    updateChildren(view, pos) {\n        let inline = this.node.inlineContent, off = pos;\n        let composition = view.composing ? this.localCompositionInfo(view, pos) : null;\n        let localComposition = composition && composition.pos > -1 ? composition : null;\n        let compositionInChild = composition && composition.pos < 0;\n        let updater = new ViewTreeUpdater(this, localComposition && localComposition.node);\n        iterDeco(this.node, this.innerDeco, (widget, i, insideNode) => {\n            if (widget.spec.marks)\n                updater.syncToMarks(widget.spec.marks, inline, view);\n            else if (widget.type.side >= 0 && !insideNode)\n                updater.syncToMarks(i == this.node.childCount ? Mark.none : this.node.child(i).marks, inline, view);\n            // If the next node is a desc matching this widget, reuse it,\n            // otherwise insert the widget as a new view desc.\n            updater.placeWidget(widget, view, off);\n        }, (child, outerDeco, innerDeco, i) => {\n            // Make sure the wrapping mark descs match the node's marks.\n            updater.syncToMarks(child.marks, inline, view);\n            // Try several strategies for drawing this node\n            let compIndex;\n            if (updater.findNodeMatch(child, outerDeco, innerDeco, i)) ;\n            else if (compositionInChild && view.state.selection.from > off &&\n                view.state.selection.to < off + child.nodeSize &&\n                (compIndex = updater.findIndexWithChild(composition.node)) > -1 &&\n                updater.updateNodeAt(child, outerDeco, innerDeco, compIndex, view)) ;\n            else if (updater.updateNextNode(child, outerDeco, innerDeco, view, i)) ;\n            else {\n                // Add it as a new view\n                updater.addNode(child, outerDeco, innerDeco, view, off);\n            }\n            off += child.nodeSize;\n        });\n        // Drop all remaining descs after the current position.\n        updater.syncToMarks([], inline, view);\n        if (this.node.isTextblock)\n            updater.addTextblockHacks();\n        updater.destroyRest();\n        // Sync the DOM if anything changed\n        if (updater.changed || this.dirty == CONTENT_DIRTY) {\n            // May have to protect focused DOM from being changed if a composition is active\n            if (localComposition)\n                this.protectLocalComposition(view, localComposition);\n            renderDescs(this.contentDOM, this.children, view);\n            if (ios)\n                iosHacks(this.dom);\n        }\n    }\n    localCompositionInfo(view, pos) {\n        // Only do something if both the selection and a focused text node\n        // are inside of this node\n        let { from, to } = view.state.selection;\n        if (!(view.state.selection instanceof TextSelection) || from < pos || to > pos + this.node.content.size)\n            return null;\n        let sel = view.domSelection();\n        let textNode = nearbyTextNode(sel.focusNode, sel.focusOffset);\n        if (!textNode || !this.dom.contains(textNode.parentNode))\n            return null;\n        if (this.node.inlineContent) {\n            // Find the text in the focused node in the node, stop if it's not\n            // there (may have been modified through other means, in which\n            // case it should overwritten)\n            let text = textNode.nodeValue;\n            let textPos = findTextInFragment(this.node.content, text, from - pos, to - pos);\n            return textPos < 0 ? null : { node: textNode, pos: textPos, text };\n        }\n        else {\n            return { node: textNode, pos: -1, text: \"\" };\n        }\n    }\n    protectLocalComposition(view, { node, pos, text }) {\n        // The node is already part of a local view desc, leave it there\n        if (this.getDesc(node))\n            return;\n        // Create a composition view for the orphaned nodes\n        let topNode = node;\n        for (;; topNode = topNode.parentNode) {\n            if (topNode.parentNode == this.contentDOM)\n                break;\n            while (topNode.previousSibling)\n                topNode.parentNode.removeChild(topNode.previousSibling);\n            while (topNode.nextSibling)\n                topNode.parentNode.removeChild(topNode.nextSibling);\n            if (topNode.pmViewDesc)\n                topNode.pmViewDesc = undefined;\n        }\n        let desc = new CompositionViewDesc(this, topNode, node, text);\n        view.input.compositionNodes.push(desc);\n        // Patch up this.children to contain the composition view\n        this.children = replaceNodes(this.children, pos, pos + text.length, view, desc);\n    }\n    // If this desc must be updated to match the given node decoration,\n    // do so and return true.\n    update(node, outerDeco, innerDeco, view) {\n        if (this.dirty == NODE_DIRTY ||\n            !node.sameMarkup(this.node))\n            return false;\n        this.updateInner(node, outerDeco, innerDeco, view);\n        return true;\n    }\n    updateInner(node, outerDeco, innerDeco, view) {\n        this.updateOuterDeco(outerDeco);\n        this.node = node;\n        this.innerDeco = innerDeco;\n        if (this.contentDOM)\n            this.updateChildren(view, this.posAtStart);\n        this.dirty = NOT_DIRTY;\n    }\n    updateOuterDeco(outerDeco) {\n        if (sameOuterDeco(outerDeco, this.outerDeco))\n            return;\n        let needsWrap = this.nodeDOM.nodeType != 1;\n        let oldDOM = this.dom;\n        this.dom = patchOuterDeco(this.dom, this.nodeDOM, computeOuterDeco(this.outerDeco, this.node, needsWrap), computeOuterDeco(outerDeco, this.node, needsWrap));\n        if (this.dom != oldDOM) {\n            oldDOM.pmViewDesc = undefined;\n            this.dom.pmViewDesc = this;\n        }\n        this.outerDeco = outerDeco;\n    }\n    // Mark this node as being the selected node.\n    selectNode() {\n        if (this.nodeDOM.nodeType == 1)\n            this.nodeDOM.classList.add(\"ProseMirror-selectednode\");\n        if (this.contentDOM || !this.node.type.spec.draggable)\n            this.dom.draggable = true;\n    }\n    // Remove selected node marking from this node.\n    deselectNode() {\n        if (this.nodeDOM.nodeType == 1)\n            this.nodeDOM.classList.remove(\"ProseMirror-selectednode\");\n        if (this.contentDOM || !this.node.type.spec.draggable)\n            this.dom.removeAttribute(\"draggable\");\n    }\n    get domAtom() { return this.node.isAtom; }\n}\n// Create a view desc for the top-level document node, to be exported\n// and used by the view class.\nfunction docViewDesc(doc, outerDeco, innerDeco, dom, view) {\n    applyOuterDeco(dom, outerDeco, doc);\n    return new NodeViewDesc(undefined, doc, outerDeco, innerDeco, dom, dom, dom, view, 0);\n}\nclass TextViewDesc extends NodeViewDesc {\n    constructor(parent, node, outerDeco, innerDeco, dom, nodeDOM, view) {\n        super(parent, node, outerDeco, innerDeco, dom, null, nodeDOM, view, 0);\n    }\n    parseRule() {\n        let skip = this.nodeDOM.parentNode;\n        while (skip && skip != this.dom && !skip.pmIsDeco)\n            skip = skip.parentNode;\n        return { skip: (skip || true) };\n    }\n    update(node, outerDeco, innerDeco, view) {\n        if (this.dirty == NODE_DIRTY || (this.dirty != NOT_DIRTY && !this.inParent()) ||\n            !node.sameMarkup(this.node))\n            return false;\n        this.updateOuterDeco(outerDeco);\n        if ((this.dirty != NOT_DIRTY || node.text != this.node.text) && node.text != this.nodeDOM.nodeValue) {\n            this.nodeDOM.nodeValue = node.text;\n            if (view.trackWrites == this.nodeDOM)\n                view.trackWrites = null;\n        }\n        this.node = node;\n        this.dirty = NOT_DIRTY;\n        return true;\n    }\n    inParent() {\n        let parentDOM = this.parent.contentDOM;\n        for (let n = this.nodeDOM; n; n = n.parentNode)\n            if (n == parentDOM)\n                return true;\n        return false;\n    }\n    domFromPos(pos) {\n        return { node: this.nodeDOM, offset: pos };\n    }\n    localPosFromDOM(dom, offset, bias) {\n        if (dom == this.nodeDOM)\n            return this.posAtStart + Math.min(offset, this.node.text.length);\n        return super.localPosFromDOM(dom, offset, bias);\n    }\n    ignoreMutation(mutation) {\n        return mutation.type != \"characterData\" && mutation.type != \"selection\";\n    }\n    slice(from, to, view) {\n        let node = this.node.cut(from, to), dom = document.createTextNode(node.text);\n        return new TextViewDesc(this.parent, node, this.outerDeco, this.innerDeco, dom, dom, view);\n    }\n    markDirty(from, to) {\n        super.markDirty(from, to);\n        if (this.dom != this.nodeDOM && (from == 0 || to == this.nodeDOM.nodeValue.length))\n            this.dirty = NODE_DIRTY;\n    }\n    get domAtom() { return false; }\n}\n// A dummy desc used to tag trailing BR or IMG nodes created to work\n// around contentEditable terribleness.\nclass TrailingHackViewDesc extends ViewDesc {\n    parseRule() { return { ignore: true }; }\n    matchesHack(nodeName) { return this.dirty == NOT_DIRTY && this.dom.nodeName == nodeName; }\n    get domAtom() { return true; }\n    get ignoreForCoords() { return this.dom.nodeName == \"IMG\"; }\n}\n// A separate subclass is used for customized node views, so that the\n// extra checks only have to be made for nodes that are actually\n// customized.\nclass CustomNodeViewDesc extends NodeViewDesc {\n    constructor(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, spec, view, pos) {\n        super(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, view, pos);\n        this.spec = spec;\n    }\n    // A custom `update` method gets to decide whether the update goes\n    // through. If it does, and there's a `contentDOM` node, our logic\n    // updates the children.\n    update(node, outerDeco, innerDeco, view) {\n        if (this.dirty == NODE_DIRTY)\n            return false;\n        if (this.spec.update) {\n            let result = this.spec.update(node, outerDeco, innerDeco);\n            if (result)\n                this.updateInner(node, outerDeco, innerDeco, view);\n            return result;\n        }\n        else if (!this.contentDOM && !node.isLeaf) {\n            return false;\n        }\n        else {\n            return super.update(node, outerDeco, innerDeco, view);\n        }\n    }\n    selectNode() {\n        this.spec.selectNode ? this.spec.selectNode() : super.selectNode();\n    }\n    deselectNode() {\n        this.spec.deselectNode ? this.spec.deselectNode() : super.deselectNode();\n    }\n    setSelection(anchor, head, root, force) {\n        this.spec.setSelection ? this.spec.setSelection(anchor, head, root)\n            : super.setSelection(anchor, head, root, force);\n    }\n    destroy() {\n        if (this.spec.destroy)\n            this.spec.destroy();\n        super.destroy();\n    }\n    stopEvent(event) {\n        return this.spec.stopEvent ? this.spec.stopEvent(event) : false;\n    }\n    ignoreMutation(mutation) {\n        return this.spec.ignoreMutation ? this.spec.ignoreMutation(mutation) : super.ignoreMutation(mutation);\n    }\n}\n// Sync the content of the given DOM node with the nodes associated\n// with the given array of view descs, recursing into mark descs\n// because this should sync the subtree for a whole node at a time.\nfunction renderDescs(parentDOM, descs, view) {\n    let dom = parentDOM.firstChild, written = false;\n    for (let i = 0; i < descs.length; i++) {\n        let desc = descs[i], childDOM = desc.dom;\n        if (childDOM.parentNode == parentDOM) {\n            while (childDOM != dom) {\n                dom = rm(dom);\n                written = true;\n            }\n            dom = dom.nextSibling;\n        }\n        else {\n            written = true;\n            parentDOM.insertBefore(childDOM, dom);\n        }\n        if (desc instanceof MarkViewDesc) {\n            let pos = dom ? dom.previousSibling : parentDOM.lastChild;\n            renderDescs(desc.contentDOM, desc.children, view);\n            dom = pos ? pos.nextSibling : parentDOM.firstChild;\n        }\n    }\n    while (dom) {\n        dom = rm(dom);\n        written = true;\n    }\n    if (written && view.trackWrites == parentDOM)\n        view.trackWrites = null;\n}\nconst OuterDecoLevel = function (nodeName) {\n    if (nodeName)\n        this.nodeName = nodeName;\n};\nOuterDecoLevel.prototype = Object.create(null);\nconst noDeco = [new OuterDecoLevel];\nfunction computeOuterDeco(outerDeco, node, needsWrap) {\n    if (outerDeco.length == 0)\n        return noDeco;\n    let top = needsWrap ? noDeco[0] : new OuterDecoLevel, result = [top];\n    for (let i = 0; i < outerDeco.length; i++) {\n        let attrs = outerDeco[i].type.attrs;\n        if (!attrs)\n            continue;\n        if (attrs.nodeName)\n            result.push(top = new OuterDecoLevel(attrs.nodeName));\n        for (let name in attrs) {\n            let val = attrs[name];\n            if (val == null)\n                continue;\n            if (needsWrap && result.length == 1)\n                result.push(top = new OuterDecoLevel(node.isInline ? \"span\" : \"div\"));\n            if (name == \"class\")\n                top.class = (top.class ? top.class + \" \" : \"\") + val;\n            else if (name == \"style\")\n                top.style = (top.style ? top.style + \";\" : \"\") + val;\n            else if (name != \"nodeName\")\n                top[name] = val;\n        }\n    }\n    return result;\n}\nfunction patchOuterDeco(outerDOM, nodeDOM, prevComputed, curComputed) {\n    // Shortcut for trivial case\n    if (prevComputed == noDeco && curComputed == noDeco)\n        return nodeDOM;\n    let curDOM = nodeDOM;\n    for (let i = 0; i < curComputed.length; i++) {\n        let deco = curComputed[i], prev = prevComputed[i];\n        if (i) {\n            let parent;\n            if (prev && prev.nodeName == deco.nodeName && curDOM != outerDOM &&\n                (parent = curDOM.parentNode) && parent.nodeName.toLowerCase() == deco.nodeName) {\n                curDOM = parent;\n            }\n            else {\n                parent = document.createElement(deco.nodeName);\n                parent.pmIsDeco = true;\n                parent.appendChild(curDOM);\n                prev = noDeco[0];\n                curDOM = parent;\n            }\n        }\n        patchAttributes(curDOM, prev || noDeco[0], deco);\n    }\n    return curDOM;\n}\nfunction patchAttributes(dom, prev, cur) {\n    for (let name in prev)\n        if (name != \"class\" && name != \"style\" && name != \"nodeName\" && !(name in cur))\n            dom.removeAttribute(name);\n    for (let name in cur)\n        if (name != \"class\" && name != \"style\" && name != \"nodeName\" && cur[name] != prev[name])\n            dom.setAttribute(name, cur[name]);\n    if (prev.class != cur.class) {\n        let prevList = prev.class ? prev.class.split(\" \").filter(Boolean) : [];\n        let curList = cur.class ? cur.class.split(\" \").filter(Boolean) : [];\n        for (let i = 0; i < prevList.length; i++)\n            if (curList.indexOf(prevList[i]) == -1)\n                dom.classList.remove(prevList[i]);\n        for (let i = 0; i < curList.length; i++)\n            if (prevList.indexOf(curList[i]) == -1)\n                dom.classList.add(curList[i]);\n        if (dom.classList.length == 0)\n            dom.removeAttribute(\"class\");\n    }\n    if (prev.style != cur.style) {\n        if (prev.style) {\n            let prop = /\\s*([\\w\\-\\xa1-\\uffff]+)\\s*:(?:\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|\\(.*?\\)|[^;])*/g, m;\n            while (m = prop.exec(prev.style))\n                dom.style.removeProperty(m[1]);\n        }\n        if (cur.style)\n            dom.style.cssText += cur.style;\n    }\n}\nfunction applyOuterDeco(dom, deco, node) {\n    return patchOuterDeco(dom, dom, noDeco, computeOuterDeco(deco, node, dom.nodeType != 1));\n}\nfunction sameOuterDeco(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].type.eq(b[i].type))\n            return false;\n    return true;\n}\n// Remove a DOM node and return its next sibling.\nfunction rm(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\n// Helper class for incrementally updating a tree of mark descs and\n// the widget and node descs inside of them.\nclass ViewTreeUpdater {\n    constructor(top, lock) {\n        this.lock = lock;\n        // Index into `this.top`'s child array, represents the current\n        // update position.\n        this.index = 0;\n        // When entering a mark, the current top and index are pushed\n        // onto this.\n        this.stack = [];\n        // Tracks whether anything was changed\n        this.changed = false;\n        this.top = top;\n        this.preMatch = preMatch(top.node.content, top);\n    }\n    // Destroy and remove the children between the given indices in\n    // `this.top`.\n    destroyBetween(start, end) {\n        if (start == end)\n            return;\n        for (let i = start; i < end; i++)\n            this.top.children[i].destroy();\n        this.top.children.splice(start, end - start);\n        this.changed = true;\n    }\n    // Destroy all remaining children in `this.top`.\n    destroyRest() {\n        this.destroyBetween(this.index, this.top.children.length);\n    }\n    // Sync the current stack of mark descs with the given array of\n    // marks, reusing existing mark descs when possible.\n    syncToMarks(marks, inline, view) {\n        let keep = 0, depth = this.stack.length >> 1;\n        let maxKeep = Math.min(depth, marks.length);\n        while (keep < maxKeep &&\n            (keep == depth - 1 ? this.top : this.stack[(keep + 1) << 1])\n                .matchesMark(marks[keep]) && marks[keep].type.spec.spanning !== false)\n            keep++;\n        while (keep < depth) {\n            this.destroyRest();\n            this.top.dirty = NOT_DIRTY;\n            this.index = this.stack.pop();\n            this.top = this.stack.pop();\n            depth--;\n        }\n        while (depth < marks.length) {\n            this.stack.push(this.top, this.index + 1);\n            let found = -1;\n            for (let i = this.index; i < Math.min(this.index + 3, this.top.children.length); i++) {\n                if (this.top.children[i].matchesMark(marks[depth])) {\n                    found = i;\n                    break;\n                }\n            }\n            if (found > -1) {\n                if (found > this.index) {\n                    this.changed = true;\n                    this.destroyBetween(this.index, found);\n                }\n                this.top = this.top.children[this.index];\n            }\n            else {\n                let markDesc = MarkViewDesc.create(this.top, marks[depth], inline, view);\n                this.top.children.splice(this.index, 0, markDesc);\n                this.top = markDesc;\n                this.changed = true;\n            }\n            this.index = 0;\n            depth++;\n        }\n    }\n    // Try to find a node desc matching the given data. Skip over it and\n    // return true when successful.\n    findNodeMatch(node, outerDeco, innerDeco, index) {\n        let found = -1, targetDesc;\n        if (index >= this.preMatch.index &&\n            (targetDesc = this.preMatch.matches[index - this.preMatch.index]).parent == this.top &&\n            targetDesc.matchesNode(node, outerDeco, innerDeco)) {\n            found = this.top.children.indexOf(targetDesc, this.index);\n        }\n        else {\n            for (let i = this.index, e = Math.min(this.top.children.length, i + 5); i < e; i++) {\n                let child = this.top.children[i];\n                if (child.matchesNode(node, outerDeco, innerDeco) && !this.preMatch.matched.has(child)) {\n                    found = i;\n                    break;\n                }\n            }\n        }\n        if (found < 0)\n            return false;\n        this.destroyBetween(this.index, found);\n        this.index++;\n        return true;\n    }\n    updateNodeAt(node, outerDeco, innerDeco, index, view) {\n        let child = this.top.children[index];\n        if (child.dirty == NODE_DIRTY && child.dom == child.contentDOM)\n            child.dirty = CONTENT_DIRTY;\n        if (!child.update(node, outerDeco, innerDeco, view))\n            return false;\n        this.destroyBetween(this.index, index);\n        this.index++;\n        return true;\n    }\n    findIndexWithChild(domNode) {\n        for (;;) {\n            let parent = domNode.parentNode;\n            if (!parent)\n                return -1;\n            if (parent == this.top.contentDOM) {\n                let desc = domNode.pmViewDesc;\n                if (desc)\n                    for (let i = this.index; i < this.top.children.length; i++) {\n                        if (this.top.children[i] == desc)\n                            return i;\n                    }\n                return -1;\n            }\n            domNode = parent;\n        }\n    }\n    // Try to update the next node, if any, to the given data. Checks\n    // pre-matches to avoid overwriting nodes that could still be used.\n    updateNextNode(node, outerDeco, innerDeco, view, index) {\n        for (let i = this.index; i < this.top.children.length; i++) {\n            let next = this.top.children[i];\n            if (next instanceof NodeViewDesc) {\n                let preMatch = this.preMatch.matched.get(next);\n                if (preMatch != null && preMatch != index)\n                    return false;\n                let nextDOM = next.dom;\n                // Can't update if nextDOM is or contains this.lock, except if\n                // it's a text node whose content already matches the new text\n                // and whose decorations match the new ones.\n                let locked = this.lock && (nextDOM == this.lock || nextDOM.nodeType == 1 && nextDOM.contains(this.lock.parentNode)) &&\n                    !(node.isText && next.node && next.node.isText && next.nodeDOM.nodeValue == node.text &&\n                        next.dirty != NODE_DIRTY && sameOuterDeco(outerDeco, next.outerDeco));\n                if (!locked && next.update(node, outerDeco, innerDeco, view)) {\n                    this.destroyBetween(this.index, i);\n                    if (next.dom != nextDOM)\n                        this.changed = true;\n                    this.index++;\n                    return true;\n                }\n                break;\n            }\n        }\n        return false;\n    }\n    // Insert the node as a newly created node desc.\n    addNode(node, outerDeco, innerDeco, view, pos) {\n        this.top.children.splice(this.index++, 0, NodeViewDesc.create(this.top, node, outerDeco, innerDeco, view, pos));\n        this.changed = true;\n    }\n    placeWidget(widget, view, pos) {\n        let next = this.index < this.top.children.length ? this.top.children[this.index] : null;\n        if (next && next.matchesWidget(widget) &&\n            (widget == next.widget || !next.widget.type.toDOM.parentNode)) {\n            this.index++;\n        }\n        else {\n            let desc = new WidgetViewDesc(this.top, widget, view, pos);\n            this.top.children.splice(this.index++, 0, desc);\n            this.changed = true;\n        }\n    }\n    // Make sure a textblock looks and behaves correctly in\n    // contentEditable.\n    addTextblockHacks() {\n        let lastChild = this.top.children[this.index - 1], parent = this.top;\n        while (lastChild instanceof MarkViewDesc) {\n            parent = lastChild;\n            lastChild = parent.children[parent.children.length - 1];\n        }\n        if (!lastChild || // Empty textblock\n            !(lastChild instanceof TextViewDesc) ||\n            /\\n$/.test(lastChild.node.text)) {\n            // Avoid bugs in Safari's cursor drawing (#1165) and Chrome's mouse selection (#1152)\n            if ((safari || chrome) && lastChild && lastChild.dom.contentEditable == \"false\")\n                this.addHackNode(\"IMG\", parent);\n            this.addHackNode(\"BR\", this.top);\n        }\n    }\n    addHackNode(nodeName, parent) {\n        if (parent == this.top && this.index < parent.children.length && parent.children[this.index].matchesHack(nodeName)) {\n            this.index++;\n        }\n        else {\n            let dom = document.createElement(nodeName);\n            if (nodeName == \"IMG\") {\n                dom.className = \"ProseMirror-separator\";\n                dom.alt = \"\";\n            }\n            if (nodeName == \"BR\")\n                dom.className = \"ProseMirror-trailingBreak\";\n            let hack = new TrailingHackViewDesc(this.top, [], dom, null);\n            if (parent != this.top)\n                parent.children.push(hack);\n            else\n                parent.children.splice(this.index++, 0, hack);\n            this.changed = true;\n        }\n    }\n}\n// Iterate from the end of the fragment and array of descs to find\n// directly matching ones, in order to avoid overeagerly reusing those\n// for other nodes. Returns the fragment index of the first node that\n// is part of the sequence of matched nodes at the end of the\n// fragment.\nfunction preMatch(frag, parentDesc) {\n    let curDesc = parentDesc, descI = curDesc.children.length;\n    let fI = frag.childCount, matched = new Map, matches = [];\n    outer: while (fI > 0) {\n        let desc;\n        for (;;) {\n            if (descI) {\n                let next = curDesc.children[descI - 1];\n                if (next instanceof MarkViewDesc) {\n                    curDesc = next;\n                    descI = next.children.length;\n                }\n                else {\n                    desc = next;\n                    descI--;\n                    break;\n                }\n            }\n            else if (curDesc == parentDesc) {\n                break outer;\n            }\n            else {\n                // FIXME\n                descI = curDesc.parent.children.indexOf(curDesc);\n                curDesc = curDesc.parent;\n            }\n        }\n        let node = desc.node;\n        if (!node)\n            continue;\n        if (node != frag.child(fI - 1))\n            break;\n        --fI;\n        matched.set(desc, fI);\n        matches.push(desc);\n    }\n    return { index: fI, matched, matches: matches.reverse() };\n}\nfunction compareSide(a, b) {\n    return a.type.side - b.type.side;\n}\n// This function abstracts iterating over the nodes and decorations in\n// a fragment. Calls `onNode` for each node, with its local and child\n// decorations. Splits text nodes when there is a decoration starting\n// or ending inside of them. Calls `onWidget` for each widget.\nfunction iterDeco(parent, deco, onWidget, onNode) {\n    let locals = deco.locals(parent), offset = 0;\n    // Simple, cheap variant for when there are no local decorations\n    if (locals.length == 0) {\n        for (let i = 0; i < parent.childCount; i++) {\n            let child = parent.child(i);\n            onNode(child, locals, deco.forChild(offset, child), i);\n            offset += child.nodeSize;\n        }\n        return;\n    }\n    let decoIndex = 0, active = [], restNode = null;\n    for (let parentIndex = 0;;) {\n        if (decoIndex < locals.length && locals[decoIndex].to == offset) {\n            let widget = locals[decoIndex++], widgets;\n            while (decoIndex < locals.length && locals[decoIndex].to == offset)\n                (widgets || (widgets = [widget])).push(locals[decoIndex++]);\n            if (widgets) {\n                widgets.sort(compareSide);\n                for (let i = 0; i < widgets.length; i++)\n                    onWidget(widgets[i], parentIndex, !!restNode);\n            }\n            else {\n                onWidget(widget, parentIndex, !!restNode);\n            }\n        }\n        let child, index;\n        if (restNode) {\n            index = -1;\n            child = restNode;\n            restNode = null;\n        }\n        else if (parentIndex < parent.childCount) {\n            index = parentIndex;\n            child = parent.child(parentIndex++);\n        }\n        else {\n            break;\n        }\n        for (let i = 0; i < active.length; i++)\n            if (active[i].to <= offset)\n                active.splice(i--, 1);\n        while (decoIndex < locals.length && locals[decoIndex].from <= offset && locals[decoIndex].to > offset)\n            active.push(locals[decoIndex++]);\n        let end = offset + child.nodeSize;\n        if (child.isText) {\n            let cutAt = end;\n            if (decoIndex < locals.length && locals[decoIndex].from < cutAt)\n                cutAt = locals[decoIndex].from;\n            for (let i = 0; i < active.length; i++)\n                if (active[i].to < cutAt)\n                    cutAt = active[i].to;\n            if (cutAt < end) {\n                restNode = child.cut(cutAt - offset);\n                child = child.cut(0, cutAt - offset);\n                end = cutAt;\n                index = -1;\n            }\n        }\n        let outerDeco = child.isInline && !child.isLeaf ? active.filter(d => !d.inline) : active.slice();\n        onNode(child, outerDeco, deco.forChild(offset, child), index);\n        offset = end;\n    }\n}\n// List markers in Mobile Safari will mysteriously disappear\n// sometimes. This works around that.\nfunction iosHacks(dom) {\n    if (dom.nodeName == \"UL\" || dom.nodeName == \"OL\") {\n        let oldCSS = dom.style.cssText;\n        dom.style.cssText = oldCSS + \"; list-style: square !important\";\n        window.getComputedStyle(dom).listStyle;\n        dom.style.cssText = oldCSS;\n    }\n}\nfunction nearbyTextNode(node, offset) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0) {\n            if (node.childNodes.length > offset && node.childNodes[offset].nodeType == 3)\n                return node.childNodes[offset];\n            node = node.childNodes[offset - 1];\n            offset = nodeSize(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\n// Find a piece of text in an inline fragment, overlapping from-to\nfunction findTextInFragment(frag, text, from, to) {\n    for (let i = 0, pos = 0; i < frag.childCount && pos <= to;) {\n        let child = frag.child(i++), childStart = pos;\n        pos += child.nodeSize;\n        if (!child.isText)\n            continue;\n        let str = child.text;\n        while (i < frag.childCount) {\n            let next = frag.child(i++);\n            pos += next.nodeSize;\n            if (!next.isText)\n                break;\n            str += next.text;\n        }\n        if (pos >= from) {\n            let found = childStart < to ? str.lastIndexOf(text, to - childStart - 1) : -1;\n            if (found >= 0 && found + text.length + childStart >= from)\n                return childStart + found;\n            if (from == to && str.length >= (to + text.length) - childStart &&\n                str.slice(to - childStart, to - childStart + text.length) == text)\n                return to;\n        }\n    }\n    return -1;\n}\n// Replace range from-to in an array of view descs with replacement\n// (may be null to just delete). This goes very much against the grain\n// of the rest of this code, which tends to create nodes with the\n// right shape in one go, rather than messing with them after\n// creation, but is necessary in the composition hack.\nfunction replaceNodes(nodes, from, to, view, replacement) {\n    let result = [];\n    for (let i = 0, off = 0; i < nodes.length; i++) {\n        let child = nodes[i], start = off, end = off += child.size;\n        if (start >= to || end <= from) {\n            result.push(child);\n        }\n        else {\n            if (start < from)\n                result.push(child.slice(0, from - start, view));\n            if (replacement) {\n                result.push(replacement);\n                replacement = undefined;\n            }\n            if (end > to)\n                result.push(child.slice(to - start, child.size, view));\n        }\n    }\n    return result;\n}\n\nfunction selectionFromDOM(view, origin = null) {\n    let domSel = view.domSelection(), doc = view.state.doc;\n    if (!domSel.focusNode)\n        return null;\n    let nearestDesc = view.docView.nearestDesc(domSel.focusNode), inWidget = nearestDesc && nearestDesc.size == 0;\n    let head = view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset, 1);\n    if (head < 0)\n        return null;\n    let $head = doc.resolve(head), $anchor, selection;\n    if (selectionCollapsed(domSel)) {\n        $anchor = $head;\n        while (nearestDesc && !nearestDesc.node)\n            nearestDesc = nearestDesc.parent;\n        let nearestDescNode = nearestDesc.node;\n        if (nearestDesc && nearestDescNode.isAtom && NodeSelection.isSelectable(nearestDescNode) && nearestDesc.parent\n            && !(nearestDescNode.isInline && isOnEdge(domSel.focusNode, domSel.focusOffset, nearestDesc.dom))) {\n            let pos = nearestDesc.posBefore;\n            selection = new NodeSelection(head == pos ? $head : doc.resolve(pos));\n        }\n    }\n    else {\n        let anchor = view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset, 1);\n        if (anchor < 0)\n            return null;\n        $anchor = doc.resolve(anchor);\n    }\n    if (!selection) {\n        let bias = origin == \"pointer\" || (view.state.selection.head < $head.pos && !inWidget) ? 1 : -1;\n        selection = selectionBetween(view, $anchor, $head, bias);\n    }\n    return selection;\n}\nfunction editorOwnsSelection(view) {\n    return view.editable ? view.hasFocus() :\n        hasSelection(view) && document.activeElement && document.activeElement.contains(view.dom);\n}\nfunction selectionToDOM(view, force = false) {\n    let sel = view.state.selection;\n    syncNodeSelection(view, sel);\n    if (!editorOwnsSelection(view))\n        return;\n    // The delayed drag selection causes issues with Cell Selections\n    // in Safari. And the drag selection delay is to workarond issues\n    // which only present in Chrome.\n    if (!force && view.input.mouseDown && view.input.mouseDown.allowDefault && chrome) {\n        let domSel = view.domSelection(), curSel = view.domObserver.currentSelection;\n        if (domSel.anchorNode && curSel.anchorNode &&\n            isEquivalentPosition(domSel.anchorNode, domSel.anchorOffset, curSel.anchorNode, curSel.anchorOffset)) {\n            view.input.mouseDown.delayedSelectionSync = true;\n            view.domObserver.setCurSelection();\n            return;\n        }\n    }\n    view.domObserver.disconnectSelection();\n    if (view.cursorWrapper) {\n        selectCursorWrapper(view);\n    }\n    else {\n        let { anchor, head } = sel, resetEditableFrom, resetEditableTo;\n        if (brokenSelectBetweenUneditable && !(sel instanceof TextSelection)) {\n            if (!sel.$from.parent.inlineContent)\n                resetEditableFrom = temporarilyEditableNear(view, sel.from);\n            if (!sel.empty && !sel.$from.parent.inlineContent)\n                resetEditableTo = temporarilyEditableNear(view, sel.to);\n        }\n        view.docView.setSelection(anchor, head, view.root, force);\n        if (brokenSelectBetweenUneditable) {\n            if (resetEditableFrom)\n                resetEditable(resetEditableFrom);\n            if (resetEditableTo)\n                resetEditable(resetEditableTo);\n        }\n        if (sel.visible) {\n            view.dom.classList.remove(\"ProseMirror-hideselection\");\n        }\n        else {\n            view.dom.classList.add(\"ProseMirror-hideselection\");\n            if (\"onselectionchange\" in document)\n                removeClassOnSelectionChange(view);\n        }\n    }\n    view.domObserver.setCurSelection();\n    view.domObserver.connectSelection();\n}\n// Kludge to work around Webkit not allowing a selection to start/end\n// between non-editable block nodes. We briefly make something\n// editable, set the selection, then set it uneditable again.\nconst brokenSelectBetweenUneditable = safari || chrome && chrome_version < 63;\nfunction temporarilyEditableNear(view, pos) {\n    let { node, offset } = view.docView.domFromPos(pos, 0);\n    let after = offset < node.childNodes.length ? node.childNodes[offset] : null;\n    let before = offset ? node.childNodes[offset - 1] : null;\n    if (safari && after && after.contentEditable == \"false\")\n        return setEditable(after);\n    if ((!after || after.contentEditable == \"false\") &&\n        (!before || before.contentEditable == \"false\")) {\n        if (after)\n            return setEditable(after);\n        else if (before)\n            return setEditable(before);\n    }\n}\nfunction setEditable(element) {\n    element.contentEditable = \"true\";\n    if (safari && element.draggable) {\n        element.draggable = false;\n        element.wasDraggable = true;\n    }\n    return element;\n}\nfunction resetEditable(element) {\n    element.contentEditable = \"false\";\n    if (element.wasDraggable) {\n        element.draggable = true;\n        element.wasDraggable = null;\n    }\n}\nfunction removeClassOnSelectionChange(view) {\n    let doc = view.dom.ownerDocument;\n    doc.removeEventListener(\"selectionchange\", view.input.hideSelectionGuard);\n    let domSel = view.domSelection();\n    let node = domSel.anchorNode, offset = domSel.anchorOffset;\n    doc.addEventListener(\"selectionchange\", view.input.hideSelectionGuard = () => {\n        if (domSel.anchorNode != node || domSel.anchorOffset != offset) {\n            doc.removeEventListener(\"selectionchange\", view.input.hideSelectionGuard);\n            setTimeout(() => {\n                if (!editorOwnsSelection(view) || view.state.selection.visible)\n                    view.dom.classList.remove(\"ProseMirror-hideselection\");\n            }, 20);\n        }\n    });\n}\nfunction selectCursorWrapper(view) {\n    let domSel = view.domSelection(), range = document.createRange();\n    let node = view.cursorWrapper.dom, img = node.nodeName == \"IMG\";\n    if (img)\n        range.setEnd(node.parentNode, domIndex(node) + 1);\n    else\n        range.setEnd(node, 0);\n    range.collapse(false);\n    domSel.removeAllRanges();\n    domSel.addRange(range);\n    // Kludge to kill 'control selection' in IE11 when selecting an\n    // invisible cursor wrapper, since that would result in those weird\n    // resize handles and a selection that considers the absolutely\n    // positioned wrapper, rather than the root editable node, the\n    // focused element.\n    if (!img && !view.state.selection.visible && ie && ie_version <= 11) {\n        node.disabled = true;\n        node.disabled = false;\n    }\n}\nfunction syncNodeSelection(view, sel) {\n    if (sel instanceof NodeSelection) {\n        let desc = view.docView.descAt(sel.from);\n        if (desc != view.lastSelectedViewDesc) {\n            clearNodeSelection(view);\n            if (desc)\n                desc.selectNode();\n            view.lastSelectedViewDesc = desc;\n        }\n    }\n    else {\n        clearNodeSelection(view);\n    }\n}\n// Clear all DOM statefulness of the last node selection.\nfunction clearNodeSelection(view) {\n    if (view.lastSelectedViewDesc) {\n        if (view.lastSelectedViewDesc.parent)\n            view.lastSelectedViewDesc.deselectNode();\n        view.lastSelectedViewDesc = undefined;\n    }\n}\nfunction selectionBetween(view, $anchor, $head, bias) {\n    return view.someProp(\"createSelectionBetween\", f => f(view, $anchor, $head))\n        || TextSelection.between($anchor, $head, bias);\n}\nfunction hasFocusAndSelection(view) {\n    if (view.editable && view.root.activeElement != view.dom)\n        return false;\n    return hasSelection(view);\n}\nfunction hasSelection(view) {\n    let sel = view.domSelection();\n    if (!sel.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return view.dom.contains(sel.anchorNode.nodeType == 3 ? sel.anchorNode.parentNode : sel.anchorNode) &&\n            (view.editable || view.dom.contains(sel.focusNode.nodeType == 3 ? sel.focusNode.parentNode : sel.focusNode));\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction anchorInRightPlace(view) {\n    let anchorDOM = view.docView.domFromPos(view.state.selection.anchor, 0);\n    let domSel = view.domSelection();\n    return isEquivalentPosition(anchorDOM.node, anchorDOM.offset, domSel.anchorNode, domSel.anchorOffset);\n}\n\nfunction moveSelectionBlock(state, dir) {\n    let { $anchor, $head } = state.selection;\n    let $side = dir > 0 ? $anchor.max($head) : $anchor.min($head);\n    let $start = !$side.parent.inlineContent ? $side : $side.depth ? state.doc.resolve(dir > 0 ? $side.after() : $side.before()) : null;\n    return $start && Selection.findFrom($start, dir);\n}\nfunction apply(view, sel) {\n    view.dispatch(view.state.tr.setSelection(sel).scrollIntoView());\n    return true;\n}\nfunction selectHorizontally(view, dir, mods) {\n    let sel = view.state.selection;\n    if (sel instanceof TextSelection) {\n        if (!sel.empty || mods.indexOf(\"s\") > -1) {\n            return false;\n        }\n        else if (view.endOfTextblock(dir > 0 ? \"right\" : \"left\")) {\n            let next = moveSelectionBlock(view.state, dir);\n            if (next && (next instanceof NodeSelection))\n                return apply(view, next);\n            return false;\n        }\n        else if (!(mac && mods.indexOf(\"m\") > -1)) {\n            let $head = sel.$head, node = $head.textOffset ? null : dir < 0 ? $head.nodeBefore : $head.nodeAfter, desc;\n            if (!node || node.isText)\n                return false;\n            let nodePos = dir < 0 ? $head.pos - node.nodeSize : $head.pos;\n            if (!(node.isAtom || (desc = view.docView.descAt(nodePos)) && !desc.contentDOM))\n                return false;\n            if (NodeSelection.isSelectable(node)) {\n                return apply(view, new NodeSelection(dir < 0 ? view.state.doc.resolve($head.pos - node.nodeSize) : $head));\n            }\n            else if (webkit) {\n                // Chrome and Safari will introduce extra pointless cursor\n                // positions around inline uneditable nodes, so we have to\n                // take over and move the cursor past them (#937)\n                return apply(view, new TextSelection(view.state.doc.resolve(dir < 0 ? nodePos : nodePos + node.nodeSize)));\n            }\n            else {\n                return false;\n            }\n        }\n    }\n    else if (sel instanceof NodeSelection && sel.node.isInline) {\n        return apply(view, new TextSelection(dir > 0 ? sel.$to : sel.$from));\n    }\n    else {\n        let next = moveSelectionBlock(view.state, dir);\n        if (next)\n            return apply(view, next);\n        return false;\n    }\n}\nfunction nodeLen(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nfunction isIgnorable(dom) {\n    let desc = dom.pmViewDesc;\n    return desc && desc.size == 0 && (dom.nextSibling || dom.nodeName != \"BR\");\n}\n// Make sure the cursor isn't directly after one or more ignored\n// nodes, which will confuse the browser's cursor motion logic.\nfunction skipIgnoredNodesLeft(view) {\n    let sel = view.domSelection();\n    let node = sel.focusNode, offset = sel.focusOffset;\n    if (!node)\n        return;\n    let moveNode, moveOffset, force = false;\n    // Gecko will do odd things when the selection is directly in front\n    // of a non-editable node, so in that case, move it into the next\n    // node if possible. Issue prosemirror/prosemirror#832.\n    if (gecko && node.nodeType == 1 && offset < nodeLen(node) && isIgnorable(node.childNodes[offset]))\n        force = true;\n    for (;;) {\n        if (offset > 0) {\n            if (node.nodeType != 1) {\n                break;\n            }\n            else {\n                let before = node.childNodes[offset - 1];\n                if (isIgnorable(before)) {\n                    moveNode = node;\n                    moveOffset = --offset;\n                }\n                else if (before.nodeType == 3) {\n                    node = before;\n                    offset = node.nodeValue.length;\n                }\n                else\n                    break;\n            }\n        }\n        else if (isBlockNode(node)) {\n            break;\n        }\n        else {\n            let prev = node.previousSibling;\n            while (prev && isIgnorable(prev)) {\n                moveNode = node.parentNode;\n                moveOffset = domIndex(prev);\n                prev = prev.previousSibling;\n            }\n            if (!prev) {\n                node = node.parentNode;\n                if (node == view.dom)\n                    break;\n                offset = 0;\n            }\n            else {\n                node = prev;\n                offset = nodeLen(node);\n            }\n        }\n    }\n    if (force)\n        setSelFocus(view, sel, node, offset);\n    else if (moveNode)\n        setSelFocus(view, sel, moveNode, moveOffset);\n}\n// Make sure the cursor isn't directly before one or more ignored\n// nodes.\nfunction skipIgnoredNodesRight(view) {\n    let sel = view.domSelection();\n    let node = sel.focusNode, offset = sel.focusOffset;\n    if (!node)\n        return;\n    let len = nodeLen(node);\n    let moveNode, moveOffset;\n    for (;;) {\n        if (offset < len) {\n            if (node.nodeType != 1)\n                break;\n            let after = node.childNodes[offset];\n            if (isIgnorable(after)) {\n                moveNode = node;\n                moveOffset = ++offset;\n            }\n            else\n                break;\n        }\n        else if (isBlockNode(node)) {\n            break;\n        }\n        else {\n            let next = node.nextSibling;\n            while (next && isIgnorable(next)) {\n                moveNode = next.parentNode;\n                moveOffset = domIndex(next) + 1;\n                next = next.nextSibling;\n            }\n            if (!next) {\n                node = node.parentNode;\n                if (node == view.dom)\n                    break;\n                offset = len = 0;\n            }\n            else {\n                node = next;\n                offset = 0;\n                len = nodeLen(node);\n            }\n        }\n    }\n    if (moveNode)\n        setSelFocus(view, sel, moveNode, moveOffset);\n}\nfunction isBlockNode(dom) {\n    let desc = dom.pmViewDesc;\n    return desc && desc.node && desc.node.isBlock;\n}\nfunction setSelFocus(view, sel, node, offset) {\n    if (selectionCollapsed(sel)) {\n        let range = document.createRange();\n        range.setEnd(node, offset);\n        range.setStart(node, offset);\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n    else if (sel.extend) {\n        sel.extend(node, offset);\n    }\n    view.domObserver.setCurSelection();\n    let { state } = view;\n    // If no state update ends up happening, reset the selection.\n    setTimeout(() => {\n        if (view.state == state)\n            selectionToDOM(view);\n    }, 50);\n}\n// Check whether vertical selection motion would involve node\n// selections. If so, apply it (if not, the result is left to the\n// browser)\nfunction selectVertically(view, dir, mods) {\n    let sel = view.state.selection;\n    if (sel instanceof TextSelection && !sel.empty || mods.indexOf(\"s\") > -1)\n        return false;\n    if (mac && mods.indexOf(\"m\") > -1)\n        return false;\n    let { $from, $to } = sel;\n    if (!$from.parent.inlineContent || view.endOfTextblock(dir < 0 ? \"up\" : \"down\")) {\n        let next = moveSelectionBlock(view.state, dir);\n        if (next && (next instanceof NodeSelection))\n            return apply(view, next);\n    }\n    if (!$from.parent.inlineContent) {\n        let side = dir < 0 ? $from : $to;\n        let beyond = sel instanceof AllSelection ? Selection.near(side, dir) : Selection.findFrom(side, dir);\n        return beyond ? apply(view, beyond) : false;\n    }\n    return false;\n}\nfunction stopNativeHorizontalDelete(view, dir) {\n    if (!(view.state.selection instanceof TextSelection))\n        return true;\n    let { $head, $anchor, empty } = view.state.selection;\n    if (!$head.sameParent($anchor))\n        return true;\n    if (!empty)\n        return false;\n    if (view.endOfTextblock(dir > 0 ? \"forward\" : \"backward\"))\n        return true;\n    let nextNode = !$head.textOffset && (dir < 0 ? $head.nodeBefore : $head.nodeAfter);\n    if (nextNode && !nextNode.isText) {\n        let tr = view.state.tr;\n        if (dir < 0)\n            tr.delete($head.pos - nextNode.nodeSize, $head.pos);\n        else\n            tr.delete($head.pos, $head.pos + nextNode.nodeSize);\n        view.dispatch(tr);\n        return true;\n    }\n    return false;\n}\nfunction switchEditable(view, node, state) {\n    view.domObserver.stop();\n    node.contentEditable = state;\n    view.domObserver.start();\n}\n// Issue #867 / #1090 / https://bugs.chromium.org/p/chromium/issues/detail?id=903821\n// In which Safari (and at some point in the past, Chrome) does really\n// wrong things when the down arrow is pressed when the cursor is\n// directly at the start of a textblock and has an uneditable node\n// after it\nfunction safariDownArrowBug(view) {\n    if (!safari || view.state.selection.$head.parentOffset > 0)\n        return false;\n    let { focusNode, focusOffset } = view.domSelection();\n    if (focusNode && focusNode.nodeType == 1 && focusOffset == 0 &&\n        focusNode.firstChild && focusNode.firstChild.contentEditable == \"false\") {\n        let child = focusNode.firstChild;\n        switchEditable(view, child, \"true\");\n        setTimeout(() => switchEditable(view, child, \"false\"), 20);\n    }\n    return false;\n}\n// A backdrop key mapping used to make sure we always suppress keys\n// that have a dangerous default effect, even if the commands they are\n// bound to return false, and to make sure that cursor-motion keys\n// find a cursor (as opposed to a node selection) when pressed. For\n// cursor-motion keys, the code in the handlers also takes care of\n// block selections.\nfunction getMods(event) {\n    let result = \"\";\n    if (event.ctrlKey)\n        result += \"c\";\n    if (event.metaKey)\n        result += \"m\";\n    if (event.altKey)\n        result += \"a\";\n    if (event.shiftKey)\n        result += \"s\";\n    return result;\n}\nfunction captureKeyDown(view, event) {\n    let code = event.keyCode, mods = getMods(event);\n    if (code == 8 || (mac && code == 72 && mods == \"c\")) { // Backspace, Ctrl-h on Mac\n        return stopNativeHorizontalDelete(view, -1) || skipIgnoredNodesLeft(view);\n    }\n    else if (code == 46 || (mac && code == 68 && mods == \"c\")) { // Delete, Ctrl-d on Mac\n        return stopNativeHorizontalDelete(view, 1) || skipIgnoredNodesRight(view);\n    }\n    else if (code == 13 || code == 27) { // Enter, Esc\n        return true;\n    }\n    else if (code == 37 || (mac && code == 66 && mods == \"c\")) { // Left arrow, Ctrl-b on Mac\n        return selectHorizontally(view, -1, mods) || skipIgnoredNodesLeft(view);\n    }\n    else if (code == 39 || (mac && code == 70 && mods == \"c\")) { // Right arrow, Ctrl-f on Mac\n        return selectHorizontally(view, 1, mods) || skipIgnoredNodesRight(view);\n    }\n    else if (code == 38 || (mac && code == 80 && mods == \"c\")) { // Up arrow, Ctrl-p on Mac\n        return selectVertically(view, -1, mods) || skipIgnoredNodesLeft(view);\n    }\n    else if (code == 40 || (mac && code == 78 && mods == \"c\")) { // Down arrow, Ctrl-n on Mac\n        return safariDownArrowBug(view) || selectVertically(view, 1, mods) || skipIgnoredNodesRight(view);\n    }\n    else if (mods == (mac ? \"m\" : \"c\") &&\n        (code == 66 || code == 73 || code == 89 || code == 90)) { // Mod-[biyz]\n        return true;\n    }\n    return false;\n}\n\nfunction serializeForClipboard(view, slice) {\n    let context = [], { content, openStart, openEnd } = slice;\n    while (openStart > 1 && openEnd > 1 && content.childCount == 1 && content.firstChild.childCount == 1) {\n        openStart--;\n        openEnd--;\n        let node = content.firstChild;\n        context.push(node.type.name, node.attrs != node.type.defaultAttrs ? node.attrs : null);\n        content = node.content;\n    }\n    let serializer = view.someProp(\"clipboardSerializer\") || DOMSerializer.fromSchema(view.state.schema);\n    let doc = detachedDoc(), wrap = doc.createElement(\"div\");\n    wrap.appendChild(serializer.serializeFragment(content, { document: doc }));\n    let firstChild = wrap.firstChild, needsWrap, wrappers = 0;\n    while (firstChild && firstChild.nodeType == 1 && (needsWrap = wrapMap[firstChild.nodeName.toLowerCase()])) {\n        for (let i = needsWrap.length - 1; i >= 0; i--) {\n            let wrapper = doc.createElement(needsWrap[i]);\n            while (wrap.firstChild)\n                wrapper.appendChild(wrap.firstChild);\n            wrap.appendChild(wrapper);\n            wrappers++;\n        }\n        firstChild = wrap.firstChild;\n    }\n    if (firstChild && firstChild.nodeType == 1)\n        firstChild.setAttribute(\"data-pm-slice\", `${openStart} ${openEnd}${wrappers ? ` -${wrappers}` : \"\"} ${JSON.stringify(context)}`);\n    let text = view.someProp(\"clipboardTextSerializer\", f => f(slice)) ||\n        slice.content.textBetween(0, slice.content.size, \"\\n\\n\");\n    return { dom: wrap, text };\n}\n// Read a slice of content from the clipboard (or drop data).\nfunction parseFromClipboard(view, text, html, plainText, $context) {\n    let inCode = $context.parent.type.spec.code;\n    let dom, slice;\n    if (!html && !text)\n        return null;\n    let asText = text && (plainText || inCode || !html);\n    if (asText) {\n        view.someProp(\"transformPastedText\", f => { text = f(text, inCode || plainText); });\n        if (inCode)\n            return text ? new Slice(Fragment.from(view.state.schema.text(text.replace(/\\r\\n?/g, \"\\n\"))), 0, 0) : Slice.empty;\n        let parsed = view.someProp(\"clipboardTextParser\", f => f(text, $context, plainText));\n        if (parsed) {\n            slice = parsed;\n        }\n        else {\n            let marks = $context.marks();\n            let { schema } = view.state, serializer = DOMSerializer.fromSchema(schema);\n            dom = document.createElement(\"div\");\n            text.split(/(?:\\r\\n?|\\n)+/).forEach(block => {\n                let p = dom.appendChild(document.createElement(\"p\"));\n                if (block)\n                    p.appendChild(serializer.serializeNode(schema.text(block, marks)));\n            });\n        }\n    }\n    else {\n        view.someProp(\"transformPastedHTML\", f => { html = f(html); });\n        dom = readHTML(html);\n        if (webkit)\n            restoreReplacedSpaces(dom);\n    }\n    let contextNode = dom && dom.querySelector(\"[data-pm-slice]\");\n    let sliceData = contextNode && /^(\\d+) (\\d+)(?: -(\\d+))? (.*)/.exec(contextNode.getAttribute(\"data-pm-slice\") || \"\");\n    if (sliceData && sliceData[3])\n        for (let i = +sliceData[3]; i > 0 && dom.firstChild; i--)\n            dom = dom.firstChild;\n    if (!slice) {\n        let parser = view.someProp(\"clipboardParser\") || view.someProp(\"domParser\") || DOMParser.fromSchema(view.state.schema);\n        slice = parser.parseSlice(dom, {\n            preserveWhitespace: !!(asText || sliceData),\n            context: $context,\n            ruleFromNode(dom) {\n                if (dom.nodeName == \"BR\" && !dom.nextSibling &&\n                    dom.parentNode && !inlineParents.test(dom.parentNode.nodeName))\n                    return { ignore: true };\n                return null;\n            }\n        });\n    }\n    if (sliceData) {\n        slice = addContext(closeSlice(slice, +sliceData[1], +sliceData[2]), sliceData[4]);\n    }\n    else { // HTML wasn't created by ProseMirror. Make sure top-level siblings are coherent\n        slice = Slice.maxOpen(normalizeSiblings(slice.content, $context), true);\n        if (slice.openStart || slice.openEnd) {\n            let openStart = 0, openEnd = 0;\n            for (let node = slice.content.firstChild; openStart < slice.openStart && !node.type.spec.isolating; openStart++, node = node.firstChild) { }\n            for (let node = slice.content.lastChild; openEnd < slice.openEnd && !node.type.spec.isolating; openEnd++, node = node.lastChild) { }\n            slice = closeSlice(slice, openStart, openEnd);\n        }\n    }\n    view.someProp(\"transformPasted\", f => { slice = f(slice); });\n    return slice;\n}\nconst inlineParents = /^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;\n// Takes a slice parsed with parseSlice, which means there hasn't been\n// any content-expression checking done on the top nodes, tries to\n// find a parent node in the current context that might fit the nodes,\n// and if successful, rebuilds the slice so that it fits into that parent.\n//\n// This addresses the problem that Transform.replace expects a\n// coherent slice, and will fail to place a set of siblings that don't\n// fit anywhere in the schema.\nfunction normalizeSiblings(fragment, $context) {\n    if (fragment.childCount < 2)\n        return fragment;\n    for (let d = $context.depth; d >= 0; d--) {\n        let parent = $context.node(d);\n        let match = parent.contentMatchAt($context.index(d));\n        let lastWrap, result = [];\n        fragment.forEach(node => {\n            if (!result)\n                return;\n            let wrap = match.findWrapping(node.type), inLast;\n            if (!wrap)\n                return result = null;\n            if (inLast = result.length && lastWrap.length && addToSibling(wrap, lastWrap, node, result[result.length - 1], 0)) {\n                result[result.length - 1] = inLast;\n            }\n            else {\n                if (result.length)\n                    result[result.length - 1] = closeRight(result[result.length - 1], lastWrap.length);\n                let wrapped = withWrappers(node, wrap);\n                result.push(wrapped);\n                match = match.matchType(wrapped.type);\n                lastWrap = wrap;\n            }\n        });\n        if (result)\n            return Fragment.from(result);\n    }\n    return fragment;\n}\nfunction withWrappers(node, wrap, from = 0) {\n    for (let i = wrap.length - 1; i >= from; i--)\n        node = wrap[i].create(null, Fragment.from(node));\n    return node;\n}\n// Used to group adjacent nodes wrapped in similar parents by\n// normalizeSiblings into the same parent node\nfunction addToSibling(wrap, lastWrap, node, sibling, depth) {\n    if (depth < wrap.length && depth < lastWrap.length && wrap[depth] == lastWrap[depth]) {\n        let inner = addToSibling(wrap, lastWrap, node, sibling.lastChild, depth + 1);\n        if (inner)\n            return sibling.copy(sibling.content.replaceChild(sibling.childCount - 1, inner));\n        let match = sibling.contentMatchAt(sibling.childCount);\n        if (match.matchType(depth == wrap.length - 1 ? node.type : wrap[depth + 1]))\n            return sibling.copy(sibling.content.append(Fragment.from(withWrappers(node, wrap, depth + 1))));\n    }\n}\nfunction closeRight(node, depth) {\n    if (depth == 0)\n        return node;\n    let fragment = node.content.replaceChild(node.childCount - 1, closeRight(node.lastChild, depth - 1));\n    let fill = node.contentMatchAt(node.childCount).fillBefore(Fragment.empty, true);\n    return node.copy(fragment.append(fill));\n}\nfunction closeRange(fragment, side, from, to, depth, openEnd) {\n    let node = side < 0 ? fragment.firstChild : fragment.lastChild, inner = node.content;\n    if (depth < to - 1)\n        inner = closeRange(inner, side, from, to, depth + 1, openEnd);\n    if (depth >= from)\n        inner = side < 0 ? node.contentMatchAt(0).fillBefore(inner, fragment.childCount > 1 || openEnd <= depth).append(inner)\n            : inner.append(node.contentMatchAt(node.childCount).fillBefore(Fragment.empty, true));\n    return fragment.replaceChild(side < 0 ? 0 : fragment.childCount - 1, node.copy(inner));\n}\nfunction closeSlice(slice, openStart, openEnd) {\n    if (openStart < slice.openStart)\n        slice = new Slice(closeRange(slice.content, -1, openStart, slice.openStart, 0, slice.openEnd), openStart, slice.openEnd);\n    if (openEnd < slice.openEnd)\n        slice = new Slice(closeRange(slice.content, 1, openEnd, slice.openEnd, 0, 0), slice.openStart, openEnd);\n    return slice;\n}\n// Trick from jQuery -- some elements must be wrapped in other\n// elements for innerHTML to work. I.e. if you do `div.innerHTML =\n// \"<td>..</td>\"` the table cells are ignored.\nconst wrapMap = {\n    thead: [\"table\"],\n    tbody: [\"table\"],\n    tfoot: [\"table\"],\n    caption: [\"table\"],\n    colgroup: [\"table\"],\n    col: [\"table\", \"colgroup\"],\n    tr: [\"table\", \"tbody\"],\n    td: [\"table\", \"tbody\", \"tr\"],\n    th: [\"table\", \"tbody\", \"tr\"]\n};\nlet _detachedDoc = null;\nfunction detachedDoc() {\n    return _detachedDoc || (_detachedDoc = document.implementation.createHTMLDocument(\"title\"));\n}\nfunction readHTML(html) {\n    let metas = /^(\\s*<meta [^>]*>)*/.exec(html);\n    if (metas)\n        html = html.slice(metas[0].length);\n    let elt = detachedDoc().createElement(\"div\");\n    let firstTag = /<([a-z][^>\\s]+)/i.exec(html), wrap;\n    if (wrap = firstTag && wrapMap[firstTag[1].toLowerCase()])\n        html = wrap.map(n => \"<\" + n + \">\").join(\"\") + html + wrap.map(n => \"</\" + n + \">\").reverse().join(\"\");\n    elt.innerHTML = html;\n    if (wrap)\n        for (let i = 0; i < wrap.length; i++)\n            elt = elt.querySelector(wrap[i]) || elt;\n    return elt;\n}\n// Webkit browsers do some hard-to-predict replacement of regular\n// spaces with non-breaking spaces when putting content on the\n// clipboard. This tries to convert such non-breaking spaces (which\n// will be wrapped in a plain span on Chrome, a span with class\n// Apple-converted-space on Safari) back to regular spaces.\nfunction restoreReplacedSpaces(dom) {\n    let nodes = dom.querySelectorAll(chrome ? \"span:not([class]):not([style])\" : \"span.Apple-converted-space\");\n    for (let i = 0; i < nodes.length; i++) {\n        let node = nodes[i];\n        if (node.childNodes.length == 1 && node.textContent == \"\\u00a0\" && node.parentNode)\n            node.parentNode.replaceChild(dom.ownerDocument.createTextNode(\" \"), node);\n    }\n}\nfunction addContext(slice, context) {\n    if (!slice.size)\n        return slice;\n    let schema = slice.content.firstChild.type.schema, array;\n    try {\n        array = JSON.parse(context);\n    }\n    catch (e) {\n        return slice;\n    }\n    let { content, openStart, openEnd } = slice;\n    for (let i = array.length - 2; i >= 0; i -= 2) {\n        let type = schema.nodes[array[i]];\n        if (!type || type.hasRequiredAttrs())\n            break;\n        content = Fragment.from(type.create(array[i + 1], content));\n        openStart++;\n        openEnd++;\n    }\n    return new Slice(content, openStart, openEnd);\n}\n\n// A collection of DOM events that occur within the editor, and callback functions\n// to invoke when the event fires.\nconst handlers = {};\nlet editHandlers = {};\nclass InputState {\n    constructor() {\n        this.shiftKey = false;\n        this.mouseDown = null;\n        this.lastKeyCode = null;\n        this.lastKeyCodeTime = 0;\n        this.lastClick = { time: 0, x: 0, y: 0, type: \"\" };\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastIOSEnter = 0;\n        this.lastIOSEnterFallbackTimeout = -1;\n        this.lastAndroidDelete = 0;\n        this.composing = false;\n        this.composingTimeout = -1;\n        this.compositionNodes = [];\n        this.compositionEndedAt = -2e8;\n        this.domChangeCount = 0;\n        this.eventHandlers = Object.create(null);\n        this.hideSelectionGuard = null;\n    }\n}\nfunction initInput(view) {\n    for (let event in handlers) {\n        let handler = handlers[event];\n        view.dom.addEventListener(event, view.input.eventHandlers[event] = (event) => {\n            if (eventBelongsToView(view, event) && !runCustomHandler(view, event) &&\n                (view.editable || !(event.type in editHandlers)))\n                handler(view, event);\n        });\n    }\n    // On Safari, for reasons beyond my understanding, adding an input\n    // event handler makes an issue where the composition vanishes when\n    // you press enter go away.\n    if (safari)\n        view.dom.addEventListener(\"input\", () => null);\n    ensureListeners(view);\n}\nfunction setSelectionOrigin(view, origin) {\n    view.input.lastSelectionOrigin = origin;\n    view.input.lastSelectionTime = Date.now();\n}\nfunction destroyInput(view) {\n    view.domObserver.stop();\n    for (let type in view.input.eventHandlers)\n        view.dom.removeEventListener(type, view.input.eventHandlers[type]);\n    clearTimeout(view.input.composingTimeout);\n    clearTimeout(view.input.lastIOSEnterFallbackTimeout);\n}\nfunction ensureListeners(view) {\n    view.someProp(\"handleDOMEvents\", currentHandlers => {\n        for (let type in currentHandlers)\n            if (!view.input.eventHandlers[type])\n                view.dom.addEventListener(type, view.input.eventHandlers[type] = event => runCustomHandler(view, event));\n    });\n}\nfunction runCustomHandler(view, event) {\n    return view.someProp(\"handleDOMEvents\", handlers => {\n        let handler = handlers[event.type];\n        return handler ? handler(view, event) || event.defaultPrevented : false;\n    });\n}\nfunction eventBelongsToView(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target; node != view.dom; node = node.parentNode)\n        if (!node || node.nodeType == 11 ||\n            (node.pmViewDesc && node.pmViewDesc.stopEvent(event)))\n            return false;\n    return true;\n}\nfunction dispatchEvent(view, event) {\n    if (!runCustomHandler(view, event) && handlers[event.type] &&\n        (view.editable || !(event.type in editHandlers)))\n        handlers[event.type](view, event);\n}\neditHandlers.keydown = (view, _event) => {\n    let event = _event;\n    view.input.shiftKey = event.keyCode == 16 || event.shiftKey;\n    if (inOrNearComposition(view, event))\n        return;\n    view.input.lastKeyCode = event.keyCode;\n    view.input.lastKeyCodeTime = Date.now();\n    // Suppress enter key events on Chrome Android, because those tend\n    // to be part of a confused sequence of composition events fired,\n    // and handling them eagerly tends to corrupt the input.\n    if (android && chrome && event.keyCode == 13)\n        return;\n    if (event.keyCode != 229)\n        view.domObserver.forceFlush();\n    // On iOS, if we preventDefault enter key presses, the virtual\n    // keyboard gets confused. So the hack here is to set a flag that\n    // makes the DOM change code recognize that what just happens should\n    // be replaced by whatever the Enter key handlers do.\n    if (ios && event.keyCode == 13 && !event.ctrlKey && !event.altKey && !event.metaKey) {\n        let now = Date.now();\n        view.input.lastIOSEnter = now;\n        view.input.lastIOSEnterFallbackTimeout = setTimeout(() => {\n            if (view.input.lastIOSEnter == now) {\n                view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\")));\n                view.input.lastIOSEnter = 0;\n            }\n        }, 200);\n    }\n    else if (view.someProp(\"handleKeyDown\", f => f(view, event)) || captureKeyDown(view, event)) {\n        event.preventDefault();\n    }\n    else {\n        setSelectionOrigin(view, \"key\");\n    }\n};\neditHandlers.keyup = (view, event) => {\n    if (event.keyCode == 16)\n        view.input.shiftKey = false;\n};\neditHandlers.keypress = (view, _event) => {\n    let event = _event;\n    if (inOrNearComposition(view, event) || !event.charCode ||\n        event.ctrlKey && !event.altKey || mac && event.metaKey)\n        return;\n    if (view.someProp(\"handleKeyPress\", f => f(view, event))) {\n        event.preventDefault();\n        return;\n    }\n    let sel = view.state.selection;\n    if (!(sel instanceof TextSelection) || !sel.$from.sameParent(sel.$to)) {\n        let text = String.fromCharCode(event.charCode);\n        if (!view.someProp(\"handleTextInput\", f => f(view, sel.$from.pos, sel.$to.pos, text)))\n            view.dispatch(view.state.tr.insertText(text).scrollIntoView());\n        event.preventDefault();\n    }\n};\nfunction eventCoords(event) { return { left: event.clientX, top: event.clientY }; }\nfunction isNear(event, click) {\n    let dx = click.x - event.clientX, dy = click.y - event.clientY;\n    return dx * dx + dy * dy < 100;\n}\nfunction runHandlerOnContext(view, propName, pos, inside, event) {\n    if (inside == -1)\n        return false;\n    let $pos = view.state.doc.resolve(inside);\n    for (let i = $pos.depth + 1; i > 0; i--) {\n        if (view.someProp(propName, f => i > $pos.depth ? f(view, pos, $pos.nodeAfter, $pos.before(i), event, true)\n            : f(view, pos, $pos.node(i), $pos.before(i), event, false)))\n            return true;\n    }\n    return false;\n}\nfunction updateSelection(view, selection, origin) {\n    if (!view.focused)\n        view.focus();\n    let tr = view.state.tr.setSelection(selection);\n    if (origin == \"pointer\")\n        tr.setMeta(\"pointer\", true);\n    view.dispatch(tr);\n}\nfunction selectClickedLeaf(view, inside) {\n    if (inside == -1)\n        return false;\n    let $pos = view.state.doc.resolve(inside), node = $pos.nodeAfter;\n    if (node && node.isAtom && NodeSelection.isSelectable(node)) {\n        updateSelection(view, new NodeSelection($pos), \"pointer\");\n        return true;\n    }\n    return false;\n}\nfunction selectClickedNode(view, inside) {\n    if (inside == -1)\n        return false;\n    let sel = view.state.selection, selectedNode, selectAt;\n    if (sel instanceof NodeSelection)\n        selectedNode = sel.node;\n    let $pos = view.state.doc.resolve(inside);\n    for (let i = $pos.depth + 1; i > 0; i--) {\n        let node = i > $pos.depth ? $pos.nodeAfter : $pos.node(i);\n        if (NodeSelection.isSelectable(node)) {\n            if (selectedNode && sel.$from.depth > 0 &&\n                i >= sel.$from.depth && $pos.before(sel.$from.depth + 1) == sel.$from.pos)\n                selectAt = $pos.before(sel.$from.depth);\n            else\n                selectAt = $pos.before(i);\n            break;\n        }\n    }\n    if (selectAt != null) {\n        updateSelection(view, NodeSelection.create(view.state.doc, selectAt), \"pointer\");\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction handleSingleClick(view, pos, inside, event, selectNode) {\n    return runHandlerOnContext(view, \"handleClickOn\", pos, inside, event) ||\n        view.someProp(\"handleClick\", f => f(view, pos, event)) ||\n        (selectNode ? selectClickedNode(view, inside) : selectClickedLeaf(view, inside));\n}\nfunction handleDoubleClick(view, pos, inside, event) {\n    return runHandlerOnContext(view, \"handleDoubleClickOn\", pos, inside, event) ||\n        view.someProp(\"handleDoubleClick\", f => f(view, pos, event));\n}\nfunction handleTripleClick(view, pos, inside, event) {\n    return runHandlerOnContext(view, \"handleTripleClickOn\", pos, inside, event) ||\n        view.someProp(\"handleTripleClick\", f => f(view, pos, event)) ||\n        defaultTripleClick(view, inside, event);\n}\nfunction defaultTripleClick(view, inside, event) {\n    if (event.button != 0)\n        return false;\n    let doc = view.state.doc;\n    if (inside == -1) {\n        if (doc.inlineContent) {\n            updateSelection(view, TextSelection.create(doc, 0, doc.content.size), \"pointer\");\n            return true;\n        }\n        return false;\n    }\n    let $pos = doc.resolve(inside);\n    for (let i = $pos.depth + 1; i > 0; i--) {\n        let node = i > $pos.depth ? $pos.nodeAfter : $pos.node(i);\n        let nodePos = $pos.before(i);\n        if (node.inlineContent)\n            updateSelection(view, TextSelection.create(doc, nodePos + 1, nodePos + 1 + node.content.size), \"pointer\");\n        else if (NodeSelection.isSelectable(node))\n            updateSelection(view, NodeSelection.create(doc, nodePos), \"pointer\");\n        else\n            continue;\n        return true;\n    }\n}\nfunction forceDOMFlush(view) {\n    return endComposition(view);\n}\nconst selectNodeModifier = mac ? \"metaKey\" : \"ctrlKey\";\nhandlers.mousedown = (view, _event) => {\n    let event = _event;\n    view.input.shiftKey = event.shiftKey;\n    let flushed = forceDOMFlush(view);\n    let now = Date.now(), type = \"singleClick\";\n    if (now - view.input.lastClick.time < 500 && isNear(event, view.input.lastClick) && !event[selectNodeModifier]) {\n        if (view.input.lastClick.type == \"singleClick\")\n            type = \"doubleClick\";\n        else if (view.input.lastClick.type == \"doubleClick\")\n            type = \"tripleClick\";\n    }\n    view.input.lastClick = { time: now, x: event.clientX, y: event.clientY, type };\n    let pos = view.posAtCoords(eventCoords(event));\n    if (!pos)\n        return;\n    if (type == \"singleClick\") {\n        if (view.input.mouseDown)\n            view.input.mouseDown.done();\n        view.input.mouseDown = new MouseDown(view, pos, event, !!flushed);\n    }\n    else if ((type == \"doubleClick\" ? handleDoubleClick : handleTripleClick)(view, pos.pos, pos.inside, event)) {\n        event.preventDefault();\n    }\n    else {\n        setSelectionOrigin(view, \"pointer\");\n    }\n};\nclass MouseDown {\n    constructor(view, pos, event, flushed) {\n        this.view = view;\n        this.pos = pos;\n        this.event = event;\n        this.flushed = flushed;\n        this.delayedSelectionSync = false;\n        this.mightDrag = null;\n        this.startDoc = view.state.doc;\n        this.selectNode = !!event[selectNodeModifier];\n        this.allowDefault = event.shiftKey;\n        let targetNode, targetPos;\n        if (pos.inside > -1) {\n            targetNode = view.state.doc.nodeAt(pos.inside);\n            targetPos = pos.inside;\n        }\n        else {\n            let $pos = view.state.doc.resolve(pos.pos);\n            targetNode = $pos.parent;\n            targetPos = $pos.depth ? $pos.before() : 0;\n        }\n        const target = flushed ? null : event.target;\n        const targetDesc = target ? view.docView.nearestDesc(target, true) : null;\n        this.target = targetDesc ? targetDesc.dom : null;\n        let { selection } = view.state;\n        if (event.button == 0 &&\n            targetNode.type.spec.draggable && targetNode.type.spec.selectable !== false ||\n            selection instanceof NodeSelection && selection.from <= targetPos && selection.to > targetPos)\n            this.mightDrag = {\n                node: targetNode,\n                pos: targetPos,\n                addAttr: !!(this.target && !this.target.draggable),\n                setUneditable: !!(this.target && gecko && !this.target.hasAttribute(\"contentEditable\"))\n            };\n        if (this.target && this.mightDrag && (this.mightDrag.addAttr || this.mightDrag.setUneditable)) {\n            this.view.domObserver.stop();\n            if (this.mightDrag.addAttr)\n                this.target.draggable = true;\n            if (this.mightDrag.setUneditable)\n                setTimeout(() => {\n                    if (this.view.input.mouseDown == this)\n                        this.target.setAttribute(\"contentEditable\", \"false\");\n                }, 20);\n            this.view.domObserver.start();\n        }\n        view.root.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        view.root.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        setSelectionOrigin(view, \"pointer\");\n    }\n    done() {\n        this.view.root.removeEventListener(\"mouseup\", this.up);\n        this.view.root.removeEventListener(\"mousemove\", this.move);\n        if (this.mightDrag && this.target) {\n            this.view.domObserver.stop();\n            if (this.mightDrag.addAttr)\n                this.target.removeAttribute(\"draggable\");\n            if (this.mightDrag.setUneditable)\n                this.target.removeAttribute(\"contentEditable\");\n            this.view.domObserver.start();\n        }\n        if (this.delayedSelectionSync)\n            setTimeout(() => selectionToDOM(this.view));\n        this.view.input.mouseDown = null;\n    }\n    up(event) {\n        this.done();\n        if (!this.view.dom.contains(event.target))\n            return;\n        let pos = this.pos;\n        if (this.view.state.doc != this.startDoc)\n            pos = this.view.posAtCoords(eventCoords(event));\n        if (this.allowDefault || !pos) {\n            setSelectionOrigin(this.view, \"pointer\");\n        }\n        else if (handleSingleClick(this.view, pos.pos, pos.inside, event, this.selectNode)) {\n            event.preventDefault();\n        }\n        else if (event.button == 0 &&\n            (this.flushed ||\n                // Safari ignores clicks on draggable elements\n                (safari && this.mightDrag && !this.mightDrag.node.isAtom) ||\n                // Chrome will sometimes treat a node selection as a\n                // cursor, but still report that the node is selected\n                // when asked through getSelection. You'll then get a\n                // situation where clicking at the point where that\n                // (hidden) cursor is doesn't change the selection, and\n                // thus doesn't get a reaction from ProseMirror. This\n                // works around that.\n                (chrome && !(this.view.state.selection instanceof TextSelection) &&\n                    Math.min(Math.abs(pos.pos - this.view.state.selection.from), Math.abs(pos.pos - this.view.state.selection.to)) <= 2))) {\n            updateSelection(this.view, Selection.near(this.view.state.doc.resolve(pos.pos)), \"pointer\");\n            event.preventDefault();\n        }\n        else {\n            setSelectionOrigin(this.view, \"pointer\");\n        }\n    }\n    move(event) {\n        if (!this.allowDefault && (Math.abs(this.event.x - event.clientX) > 4 ||\n            Math.abs(this.event.y - event.clientY) > 4))\n            this.allowDefault = true;\n        setSelectionOrigin(this.view, \"pointer\");\n        if (event.buttons == 0)\n            this.done();\n    }\n}\nhandlers.touchdown = view => {\n    forceDOMFlush(view);\n    setSelectionOrigin(view, \"pointer\");\n};\nhandlers.contextmenu = view => forceDOMFlush(view);\nfunction inOrNearComposition(view, event) {\n    if (view.composing)\n        return true;\n    // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n    // On Japanese input method editors (IMEs), the Enter key is used to confirm character\n    // selection. On Safari, when Enter is pressed, compositionend and keydown events are\n    // emitted. The keydown event triggers newline insertion, which we don't want.\n    // This method returns true if the keydown event should be ignored.\n    // We only ignore it once, as pressing Enter a second time *should* insert a newline.\n    // Furthermore, the keydown event timestamp must be close to the compositionEndedAt timestamp.\n    // This guards against the case where compositionend is triggered without the keyboard\n    // (e.g. character confirmation may be done with the mouse), and keydown is triggered\n    // afterwards- we wouldn't want to ignore the keydown event in this case.\n    if (safari && Math.abs(event.timeStamp - view.input.compositionEndedAt) < 500) {\n        view.input.compositionEndedAt = -2e8;\n        return true;\n    }\n    return false;\n}\n// Drop active composition after 5 seconds of inactivity on Android\nconst timeoutComposition = android ? 5000 : -1;\neditHandlers.compositionstart = editHandlers.compositionupdate = view => {\n    if (!view.composing) {\n        view.domObserver.flush();\n        let { state } = view, $pos = state.selection.$from;\n        if (state.selection.empty &&\n            (state.storedMarks ||\n                (!$pos.textOffset && $pos.parentOffset && $pos.nodeBefore.marks.some(m => m.type.spec.inclusive === false)))) {\n            // Need to wrap the cursor in mark nodes different from the ones in the DOM context\n            view.markCursor = view.state.storedMarks || $pos.marks();\n            endComposition(view, true);\n            view.markCursor = null;\n        }\n        else {\n            endComposition(view);\n            // In firefox, if the cursor is after but outside a marked node,\n            // the inserted text won't inherit the marks. So this moves it\n            // inside if necessary.\n            if (gecko && state.selection.empty && $pos.parentOffset && !$pos.textOffset && $pos.nodeBefore.marks.length) {\n                let sel = view.domSelection();\n                for (let node = sel.focusNode, offset = sel.focusOffset; node && node.nodeType == 1 && offset != 0;) {\n                    let before = offset < 0 ? node.lastChild : node.childNodes[offset - 1];\n                    if (!before)\n                        break;\n                    if (before.nodeType == 3) {\n                        sel.collapse(before, before.nodeValue.length);\n                        break;\n                    }\n                    else {\n                        node = before;\n                        offset = -1;\n                    }\n                }\n            }\n        }\n        view.input.composing = true;\n    }\n    scheduleComposeEnd(view, timeoutComposition);\n};\neditHandlers.compositionend = (view, event) => {\n    if (view.composing) {\n        view.input.composing = false;\n        view.input.compositionEndedAt = event.timeStamp;\n        scheduleComposeEnd(view, 20);\n    }\n};\nfunction scheduleComposeEnd(view, delay) {\n    clearTimeout(view.input.composingTimeout);\n    if (delay > -1)\n        view.input.composingTimeout = setTimeout(() => endComposition(view), delay);\n}\nfunction clearComposition(view) {\n    if (view.composing) {\n        view.input.composing = false;\n        view.input.compositionEndedAt = timestampFromCustomEvent();\n    }\n    while (view.input.compositionNodes.length > 0)\n        view.input.compositionNodes.pop().markParentsDirty();\n}\nfunction timestampFromCustomEvent() {\n    let event = document.createEvent(\"Event\");\n    event.initEvent(\"event\", true, true);\n    return event.timeStamp;\n}\n/**\n@internal\n*/\nfunction endComposition(view, forceUpdate = false) {\n    if (android && view.domObserver.flushingSoon >= 0)\n        return;\n    view.domObserver.forceFlush();\n    clearComposition(view);\n    if (forceUpdate || view.docView && view.docView.dirty) {\n        let sel = selectionFromDOM(view);\n        if (sel && !sel.eq(view.state.selection))\n            view.dispatch(view.state.tr.setSelection(sel));\n        else\n            view.updateState(view.state);\n        return true;\n    }\n    return false;\n}\nfunction captureCopy(view, dom) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    if (!view.dom.parentNode)\n        return;\n    let wrap = view.dom.parentNode.appendChild(document.createElement(\"div\"));\n    wrap.appendChild(dom);\n    wrap.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    let sel = getSelection(), range = document.createRange();\n    range.selectNodeContents(dom);\n    // Done because IE will fire a selectionchange moving the selection\n    // to its start when removeAllRanges is called and the editor still\n    // has focus (which will mess up the editor's selection state).\n    view.dom.blur();\n    sel.removeAllRanges();\n    sel.addRange(range);\n    setTimeout(() => {\n        if (wrap.parentNode)\n            wrap.parentNode.removeChild(wrap);\n        view.focus();\n    }, 50);\n}\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard API—all the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (ie && ie_version < 15) ||\n    (ios && webkit_version < 604);\nhandlers.copy = editHandlers.cut = (view, _event) => {\n    let event = _event;\n    let sel = view.state.selection, cut = event.type == \"cut\";\n    if (sel.empty)\n        return;\n    // IE and Edge's clipboard interface is completely broken\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    let slice = sel.content(), { dom, text } = serializeForClipboard(view, slice);\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/html\", dom.innerHTML);\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, dom);\n    }\n    if (cut)\n        view.dispatch(view.state.tr.deleteSelection().scrollIntoView().setMeta(\"uiEvent\", \"cut\"));\n};\nfunction sliceSingleNode(slice) {\n    return slice.openStart == 0 && slice.openEnd == 0 && slice.content.childCount == 1 ? slice.content.firstChild : null;\n}\nfunction capturePaste(view, event) {\n    if (!view.dom.parentNode)\n        return;\n    let plainText = view.input.shiftKey || view.state.selection.$from.parent.type.spec.code;\n    let target = view.dom.parentNode.appendChild(document.createElement(plainText ? \"textarea\" : \"div\"));\n    if (!plainText)\n        target.contentEditable = \"true\";\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        if (target.parentNode)\n            target.parentNode.removeChild(target);\n        if (plainText)\n            doPaste(view, target.value, null, event);\n        else\n            doPaste(view, target.textContent, target.innerHTML, event);\n    }, 50);\n}\nfunction doPaste(view, text, html, event) {\n    let slice = parseFromClipboard(view, text, html, view.input.shiftKey, view.state.selection.$from);\n    if (view.someProp(\"handlePaste\", f => f(view, event, slice || Slice.empty)))\n        return true;\n    if (!slice)\n        return false;\n    let singleNode = sliceSingleNode(slice);\n    let tr = singleNode\n        ? view.state.tr.replaceSelectionWith(singleNode, view.input.shiftKey)\n        : view.state.tr.replaceSelection(slice);\n    view.dispatch(tr.scrollIntoView().setMeta(\"paste\", true).setMeta(\"uiEvent\", \"paste\"));\n    return true;\n}\neditHandlers.paste = (view, _event) => {\n    let event = _event;\n    // Handling paste from JavaScript during composition is very poorly\n    // handled by browsers, so as a dodgy but preferable kludge, we just\n    // let the browser do its native thing there, except on Android,\n    // where the editor is almost always composing.\n    if (view.composing && !android)\n        return;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data && doPaste(view, data.getData(\"text/plain\"), data.getData(\"text/html\"), event))\n        event.preventDefault();\n    else\n        capturePaste(view, event);\n};\nclass Dragging {\n    constructor(slice, move) {\n        this.slice = slice;\n        this.move = move;\n    }\n}\nconst dragCopyModifier = mac ? \"altKey\" : \"ctrlKey\";\nhandlers.dragstart = (view, _event) => {\n    let event = _event;\n    let mouseDown = view.input.mouseDown;\n    if (mouseDown)\n        mouseDown.done();\n    if (!event.dataTransfer)\n        return;\n    let sel = view.state.selection;\n    let pos = sel.empty ? null : view.posAtCoords(eventCoords(event));\n    if (pos && pos.pos >= sel.from && pos.pos <= (sel instanceof NodeSelection ? sel.to - 1 : sel.to)) ;\n    else if (mouseDown && mouseDown.mightDrag) {\n        view.dispatch(view.state.tr.setSelection(NodeSelection.create(view.state.doc, mouseDown.mightDrag.pos)));\n    }\n    else if (event.target && event.target.nodeType == 1) {\n        let desc = view.docView.nearestDesc(event.target, true);\n        if (desc && desc.node.type.spec.draggable && desc != view.docView)\n            view.dispatch(view.state.tr.setSelection(NodeSelection.create(view.state.doc, desc.posBefore)));\n    }\n    let slice = view.state.selection.content(), { dom, text } = serializeForClipboard(view, slice);\n    event.dataTransfer.clearData();\n    event.dataTransfer.setData(brokenClipboardAPI ? \"Text\" : \"text/html\", dom.innerHTML);\n    // See https://github.com/ProseMirror/prosemirror/issues/1156\n    event.dataTransfer.effectAllowed = \"copyMove\";\n    if (!brokenClipboardAPI)\n        event.dataTransfer.setData(\"text/plain\", text);\n    view.dragging = new Dragging(slice, !event[dragCopyModifier]);\n};\nhandlers.dragend = view => {\n    let dragging = view.dragging;\n    window.setTimeout(() => {\n        if (view.dragging == dragging)\n            view.dragging = null;\n    }, 50);\n};\neditHandlers.dragover = editHandlers.dragenter = (_, e) => e.preventDefault();\neditHandlers.drop = (view, _event) => {\n    let event = _event;\n    let dragging = view.dragging;\n    view.dragging = null;\n    if (!event.dataTransfer)\n        return;\n    let eventPos = view.posAtCoords(eventCoords(event));\n    if (!eventPos)\n        return;\n    let $mouse = view.state.doc.resolve(eventPos.pos);\n    if (!$mouse)\n        return;\n    let slice = dragging && dragging.slice;\n    if (slice) {\n        view.someProp(\"transformPasted\", f => { slice = f(slice); });\n    }\n    else {\n        slice = parseFromClipboard(view, event.dataTransfer.getData(brokenClipboardAPI ? \"Text\" : \"text/plain\"), brokenClipboardAPI ? null : event.dataTransfer.getData(\"text/html\"), false, $mouse);\n    }\n    let move = !!(dragging && !event[dragCopyModifier]);\n    if (view.someProp(\"handleDrop\", f => f(view, event, slice || Slice.empty, move))) {\n        event.preventDefault();\n        return;\n    }\n    if (!slice)\n        return;\n    event.preventDefault();\n    let insertPos = slice ? dropPoint(view.state.doc, $mouse.pos, slice) : $mouse.pos;\n    if (insertPos == null)\n        insertPos = $mouse.pos;\n    let tr = view.state.tr;\n    if (move)\n        tr.deleteSelection();\n    let pos = tr.mapping.map(insertPos);\n    let isNode = slice.openStart == 0 && slice.openEnd == 0 && slice.content.childCount == 1;\n    let beforeInsert = tr.doc;\n    if (isNode)\n        tr.replaceRangeWith(pos, pos, slice.content.firstChild);\n    else\n        tr.replaceRange(pos, pos, slice);\n    if (tr.doc.eq(beforeInsert))\n        return;\n    let $pos = tr.doc.resolve(pos);\n    if (isNode && NodeSelection.isSelectable(slice.content.firstChild) &&\n        $pos.nodeAfter && $pos.nodeAfter.sameMarkup(slice.content.firstChild)) {\n        tr.setSelection(new NodeSelection($pos));\n    }\n    else {\n        let end = tr.mapping.map(insertPos);\n        tr.mapping.maps[tr.mapping.maps.length - 1].forEach((_from, _to, _newFrom, newTo) => end = newTo);\n        tr.setSelection(selectionBetween(view, $pos, tr.doc.resolve(end)));\n    }\n    view.focus();\n    view.dispatch(tr.setMeta(\"uiEvent\", \"drop\"));\n};\nhandlers.focus = view => {\n    if (!view.focused) {\n        view.domObserver.stop();\n        view.dom.classList.add(\"ProseMirror-focused\");\n        view.domObserver.start();\n        view.focused = true;\n        setTimeout(() => {\n            if (view.docView && view.hasFocus() && !view.domObserver.currentSelection.eq(view.domSelection()))\n                selectionToDOM(view);\n        }, 20);\n    }\n};\nhandlers.blur = (view, _event) => {\n    let event = _event;\n    if (view.focused) {\n        view.domObserver.stop();\n        view.dom.classList.remove(\"ProseMirror-focused\");\n        view.domObserver.start();\n        if (event.relatedTarget && view.dom.contains(event.relatedTarget))\n            view.domObserver.currentSelection.clear();\n        view.focused = false;\n    }\n};\nhandlers.beforeinput = (view, _event) => {\n    let event = _event;\n    // We should probably do more with beforeinput events, but support\n    // is so spotty that I'm still waiting to see where they are going.\n    // Very specific hack to deal with backspace sometimes failing on\n    // Chrome Android when after an uneditable node.\n    if (chrome && android && event.inputType == \"deleteContentBackward\") {\n        view.domObserver.flushSoon();\n        let { domChangeCount } = view.input;\n        setTimeout(() => {\n            if (view.input.domChangeCount != domChangeCount)\n                return; // Event already had some effect\n            // This bug tends to close the virtual keyboard, so we refocus\n            view.dom.blur();\n            view.focus();\n            if (view.someProp(\"handleKeyDown\", f => f(view, keyEvent(8, \"Backspace\"))))\n                return;\n            let { $cursor } = view.state.selection;\n            // Crude approximation of backspace behavior when no command handled it\n            if ($cursor && $cursor.pos > 0)\n                view.dispatch(view.state.tr.delete($cursor.pos - 1, $cursor.pos).scrollIntoView());\n        }, 50);\n    }\n};\n// Make sure all handlers get registered\nfor (let prop in editHandlers)\n    handlers[prop] = editHandlers[prop];\n\nfunction compareObjs(a, b) {\n    if (a == b)\n        return true;\n    for (let p in a)\n        if (a[p] !== b[p])\n            return false;\n    for (let p in b)\n        if (!(p in a))\n            return false;\n    return true;\n}\nclass WidgetType {\n    constructor(toDOM, spec) {\n        this.toDOM = toDOM;\n        this.spec = spec || noSpec;\n        this.side = this.spec.side || 0;\n    }\n    map(mapping, span, offset, oldOffset) {\n        let { pos, deleted } = mapping.mapResult(span.from + oldOffset, this.side < 0 ? -1 : 1);\n        return deleted ? null : new Decoration(pos - offset, pos - offset, this);\n    }\n    valid() { return true; }\n    eq(other) {\n        return this == other ||\n            (other instanceof WidgetType &&\n                (this.spec.key && this.spec.key == other.spec.key ||\n                    this.toDOM == other.toDOM && compareObjs(this.spec, other.spec)));\n    }\n    destroy(node) {\n        if (this.spec.destroy)\n            this.spec.destroy(node);\n    }\n}\nclass InlineType {\n    constructor(attrs, spec) {\n        this.attrs = attrs;\n        this.spec = spec || noSpec;\n    }\n    map(mapping, span, offset, oldOffset) {\n        let from = mapping.map(span.from + oldOffset, this.spec.inclusiveStart ? -1 : 1) - offset;\n        let to = mapping.map(span.to + oldOffset, this.spec.inclusiveEnd ? 1 : -1) - offset;\n        return from >= to ? null : new Decoration(from, to, this);\n    }\n    valid(_, span) { return span.from < span.to; }\n    eq(other) {\n        return this == other ||\n            (other instanceof InlineType && compareObjs(this.attrs, other.attrs) &&\n                compareObjs(this.spec, other.spec));\n    }\n    static is(span) { return span.type instanceof InlineType; }\n    destroy() { }\n}\nclass NodeType {\n    constructor(attrs, spec) {\n        this.attrs = attrs;\n        this.spec = spec || noSpec;\n    }\n    map(mapping, span, offset, oldOffset) {\n        let from = mapping.mapResult(span.from + oldOffset, 1);\n        if (from.deleted)\n            return null;\n        let to = mapping.mapResult(span.to + oldOffset, -1);\n        if (to.deleted || to.pos <= from.pos)\n            return null;\n        return new Decoration(from.pos - offset, to.pos - offset, this);\n    }\n    valid(node, span) {\n        let { index, offset } = node.content.findIndex(span.from), child;\n        return offset == span.from && !(child = node.child(index)).isText && offset + child.nodeSize == span.to;\n    }\n    eq(other) {\n        return this == other ||\n            (other instanceof NodeType && compareObjs(this.attrs, other.attrs) &&\n                compareObjs(this.spec, other.spec));\n    }\n    destroy() { }\n}\n/**\nDecoration objects can be provided to the view through the\n[`decorations` prop](https://prosemirror.net/docs/ref/#view.EditorProps.decorations). They come in\nseveral variants—see the static members of this class for details.\n*/\nclass Decoration {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start position of the decoration.\n    */\n    from, \n    /**\n    The end position. Will be the same as `from` for [widget\n    decorations](https://prosemirror.net/docs/ref/#view.Decoration^widget).\n    */\n    to, \n    /**\n    @internal\n    */\n    type) {\n        this.from = from;\n        this.to = to;\n        this.type = type;\n    }\n    /**\n    @internal\n    */\n    copy(from, to) {\n        return new Decoration(from, to, this.type);\n    }\n    /**\n    @internal\n    */\n    eq(other, offset = 0) {\n        return this.type.eq(other.type) && this.from + offset == other.from && this.to + offset == other.to;\n    }\n    /**\n    @internal\n    */\n    map(mapping, offset, oldOffset) {\n        return this.type.map(mapping, this, offset, oldOffset);\n    }\n    /**\n    Creates a widget decoration, which is a DOM node that's shown in\n    the document at the given position. It is recommended that you\n    delay rendering the widget by passing a function that will be\n    called when the widget is actually drawn in a view, but you can\n    also directly pass a DOM node. `getPos` can be used to find the\n    widget's current document position.\n    */\n    static widget(pos, toDOM, spec) {\n        return new Decoration(pos, pos, new WidgetType(toDOM, spec));\n    }\n    /**\n    Creates an inline decoration, which adds the given attributes to\n    each inline node between `from` and `to`.\n    */\n    static inline(from, to, attrs, spec) {\n        return new Decoration(from, to, new InlineType(attrs, spec));\n    }\n    /**\n    Creates a node decoration. `from` and `to` should point precisely\n    before and after a node in the document. That node, and only that\n    node, will receive the given attributes.\n    */\n    static node(from, to, attrs, spec) {\n        return new Decoration(from, to, new NodeType(attrs, spec));\n    }\n    /**\n    The spec provided when creating this decoration. Can be useful\n    if you've stored extra information in that object.\n    */\n    get spec() { return this.type.spec; }\n    /**\n    @internal\n    */\n    get inline() { return this.type instanceof InlineType; }\n}\nconst none = [], noSpec = {};\n/**\nA collection of [decorations](https://prosemirror.net/docs/ref/#view.Decoration), organized in such\na way that the drawing algorithm can efficiently use and compare\nthem. This is a persistent data structure—it is not modified,\nupdates create a new value.\n*/\nclass DecorationSet {\n    /**\n    @internal\n    */\n    constructor(local, children) {\n        this.local = local.length ? local : none;\n        this.children = children.length ? children : none;\n    }\n    /**\n    Create a set of decorations, using the structure of the given\n    document.\n    */\n    static create(doc, decorations) {\n        return decorations.length ? buildTree(decorations, doc, 0, noSpec) : empty;\n    }\n    /**\n    Find all decorations in this set which touch the given range\n    (including decorations that start or end directly at the\n    boundaries) and match the given predicate on their spec. When\n    `start` and `end` are omitted, all decorations in the set are\n    considered. When `predicate` isn't given, all decorations are\n    assumed to match.\n    */\n    find(start, end, predicate) {\n        let result = [];\n        this.findInner(start == null ? 0 : start, end == null ? 1e9 : end, result, 0, predicate);\n        return result;\n    }\n    findInner(start, end, result, offset, predicate) {\n        for (let i = 0; i < this.local.length; i++) {\n            let span = this.local[i];\n            if (span.from <= end && span.to >= start && (!predicate || predicate(span.spec)))\n                result.push(span.copy(span.from + offset, span.to + offset));\n        }\n        for (let i = 0; i < this.children.length; i += 3) {\n            if (this.children[i] < end && this.children[i + 1] > start) {\n                let childOff = this.children[i] + 1;\n                this.children[i + 2].findInner(start - childOff, end - childOff, result, offset + childOff, predicate);\n            }\n        }\n    }\n    /**\n    Map the set of decorations in response to a change in the\n    document.\n    */\n    map(mapping, doc, options) {\n        if (this == empty || mapping.maps.length == 0)\n            return this;\n        return this.mapInner(mapping, doc, 0, 0, options || noSpec);\n    }\n    /**\n    @internal\n    */\n    mapInner(mapping, node, offset, oldOffset, options) {\n        let newLocal;\n        for (let i = 0; i < this.local.length; i++) {\n            let mapped = this.local[i].map(mapping, offset, oldOffset);\n            if (mapped && mapped.type.valid(node, mapped))\n                (newLocal || (newLocal = [])).push(mapped);\n            else if (options.onRemove)\n                options.onRemove(this.local[i].spec);\n        }\n        if (this.children.length)\n            return mapChildren(this.children, newLocal || [], mapping, node, offset, oldOffset, options);\n        else\n            return newLocal ? new DecorationSet(newLocal.sort(byPos), none) : empty;\n    }\n    /**\n    Add the given array of decorations to the ones in the set,\n    producing a new set. Needs access to the current document to\n    create the appropriate tree structure.\n    */\n    add(doc, decorations) {\n        if (!decorations.length)\n            return this;\n        if (this == empty)\n            return DecorationSet.create(doc, decorations);\n        return this.addInner(doc, decorations, 0);\n    }\n    addInner(doc, decorations, offset) {\n        let children, childIndex = 0;\n        doc.forEach((childNode, childOffset) => {\n            let baseOffset = childOffset + offset, found;\n            if (!(found = takeSpansForNode(decorations, childNode, baseOffset)))\n                return;\n            if (!children)\n                children = this.children.slice();\n            while (childIndex < children.length && children[childIndex] < childOffset)\n                childIndex += 3;\n            if (children[childIndex] == childOffset)\n                children[childIndex + 2] = children[childIndex + 2].addInner(childNode, found, baseOffset + 1);\n            else\n                children.splice(childIndex, 0, childOffset, childOffset + childNode.nodeSize, buildTree(found, childNode, baseOffset + 1, noSpec));\n            childIndex += 3;\n        });\n        let local = moveSpans(childIndex ? withoutNulls(decorations) : decorations, -offset);\n        for (let i = 0; i < local.length; i++)\n            if (!local[i].type.valid(doc, local[i]))\n                local.splice(i--, 1);\n        return new DecorationSet(local.length ? this.local.concat(local).sort(byPos) : this.local, children || this.children);\n    }\n    /**\n    Create a new set that contains the decorations in this set, minus\n    the ones in the given array.\n    */\n    remove(decorations) {\n        if (decorations.length == 0 || this == empty)\n            return this;\n        return this.removeInner(decorations, 0);\n    }\n    removeInner(decorations, offset) {\n        let children = this.children, local = this.local;\n        for (let i = 0; i < children.length; i += 3) {\n            let found;\n            let from = children[i] + offset, to = children[i + 1] + offset;\n            for (let j = 0, span; j < decorations.length; j++)\n                if (span = decorations[j]) {\n                    if (span.from > from && span.to < to) {\n                        decorations[j] = null;\n                        (found || (found = [])).push(span);\n                    }\n                }\n            if (!found)\n                continue;\n            if (children == this.children)\n                children = this.children.slice();\n            let removed = children[i + 2].removeInner(found, from + 1);\n            if (removed != empty) {\n                children[i + 2] = removed;\n            }\n            else {\n                children.splice(i, 3);\n                i -= 3;\n            }\n        }\n        if (local.length)\n            for (let i = 0, span; i < decorations.length; i++)\n                if (span = decorations[i]) {\n                    for (let j = 0; j < local.length; j++)\n                        if (local[j].eq(span, offset)) {\n                            if (local == this.local)\n                                local = this.local.slice();\n                            local.splice(j--, 1);\n                        }\n                }\n        if (children == this.children && local == this.local)\n            return this;\n        return local.length || children.length ? new DecorationSet(local, children) : empty;\n    }\n    /**\n    @internal\n    */\n    forChild(offset, node) {\n        if (this == empty)\n            return this;\n        if (node.isLeaf)\n            return DecorationSet.empty;\n        let child, local;\n        for (let i = 0; i < this.children.length; i += 3)\n            if (this.children[i] >= offset) {\n                if (this.children[i] == offset)\n                    child = this.children[i + 2];\n                break;\n            }\n        let start = offset + 1, end = start + node.content.size;\n        for (let i = 0; i < this.local.length; i++) {\n            let dec = this.local[i];\n            if (dec.from < end && dec.to > start && (dec.type instanceof InlineType)) {\n                let from = Math.max(start, dec.from) - start, to = Math.min(end, dec.to) - start;\n                if (from < to)\n                    (local || (local = [])).push(dec.copy(from, to));\n            }\n        }\n        if (local) {\n            let localSet = new DecorationSet(local.sort(byPos), none);\n            return child ? new DecorationGroup([localSet, child]) : localSet;\n        }\n        return child || empty;\n    }\n    /**\n    @internal\n    */\n    eq(other) {\n        if (this == other)\n            return true;\n        if (!(other instanceof DecorationSet) ||\n            this.local.length != other.local.length ||\n            this.children.length != other.children.length)\n            return false;\n        for (let i = 0; i < this.local.length; i++)\n            if (!this.local[i].eq(other.local[i]))\n                return false;\n        for (let i = 0; i < this.children.length; i += 3)\n            if (this.children[i] != other.children[i] ||\n                this.children[i + 1] != other.children[i + 1] ||\n                !this.children[i + 2].eq(other.children[i + 2]))\n                return false;\n        return true;\n    }\n    /**\n    @internal\n    */\n    locals(node) {\n        return removeOverlap(this.localsInner(node));\n    }\n    /**\n    @internal\n    */\n    localsInner(node) {\n        if (this == empty)\n            return none;\n        if (node.inlineContent || !this.local.some(InlineType.is))\n            return this.local;\n        let result = [];\n        for (let i = 0; i < this.local.length; i++) {\n            if (!(this.local[i].type instanceof InlineType))\n                result.push(this.local[i]);\n        }\n        return result;\n    }\n}\n/**\nThe empty set of decorations.\n*/\nDecorationSet.empty = new DecorationSet([], []);\n/**\n@internal\n*/\nDecorationSet.removeOverlap = removeOverlap;\nconst empty = DecorationSet.empty;\n// An abstraction that allows the code dealing with decorations to\n// treat multiple DecorationSet objects as if it were a single object\n// with (a subset of) the same interface.\nclass DecorationGroup {\n    constructor(members) {\n        this.members = members;\n    }\n    map(mapping, doc) {\n        const mappedDecos = this.members.map(member => member.map(mapping, doc, noSpec));\n        return DecorationGroup.from(mappedDecos);\n    }\n    forChild(offset, child) {\n        if (child.isLeaf)\n            return DecorationSet.empty;\n        let found = [];\n        for (let i = 0; i < this.members.length; i++) {\n            let result = this.members[i].forChild(offset, child);\n            if (result == empty)\n                continue;\n            if (result instanceof DecorationGroup)\n                found = found.concat(result.members);\n            else\n                found.push(result);\n        }\n        return DecorationGroup.from(found);\n    }\n    eq(other) {\n        if (!(other instanceof DecorationGroup) ||\n            other.members.length != this.members.length)\n            return false;\n        for (let i = 0; i < this.members.length; i++)\n            if (!this.members[i].eq(other.members[i]))\n                return false;\n        return true;\n    }\n    locals(node) {\n        let result, sorted = true;\n        for (let i = 0; i < this.members.length; i++) {\n            let locals = this.members[i].localsInner(node);\n            if (!locals.length)\n                continue;\n            if (!result) {\n                result = locals;\n            }\n            else {\n                if (sorted) {\n                    result = result.slice();\n                    sorted = false;\n                }\n                for (let j = 0; j < locals.length; j++)\n                    result.push(locals[j]);\n            }\n        }\n        return result ? removeOverlap(sorted ? result : result.sort(byPos)) : none;\n    }\n    // Create a group for the given array of decoration sets, or return\n    // a single set when possible.\n    static from(members) {\n        switch (members.length) {\n            case 0: return empty;\n            case 1: return members[0];\n            default: return new DecorationGroup(members);\n        }\n    }\n}\nfunction mapChildren(oldChildren, newLocal, mapping, node, offset, oldOffset, options) {\n    let children = oldChildren.slice();\n    // Mark the children that are directly touched by changes, and\n    // move those that are after the changes.\n    let shift = (oldStart, oldEnd, newStart, newEnd) => {\n        for (let i = 0; i < children.length; i += 3) {\n            let end = children[i + 1], dSize;\n            if (end < 0 || oldStart > end + oldOffset)\n                continue;\n            let start = children[i] + oldOffset;\n            if (oldEnd >= start) {\n                children[i + 1] = oldStart <= start ? -2 : -1;\n            }\n            else if (newStart >= offset && (dSize = (newEnd - newStart) - (oldEnd - oldStart))) {\n                children[i] += dSize;\n                children[i + 1] += dSize;\n            }\n        }\n    };\n    for (let i = 0; i < mapping.maps.length; i++)\n        mapping.maps[i].forEach(shift);\n    // Find the child nodes that still correspond to a single node,\n    // recursively call mapInner on them and update their positions.\n    let mustRebuild = false;\n    for (let i = 0; i < children.length; i += 3)\n        if (children[i + 1] < 0) { // Touched nodes\n            if (children[i + 1] == -2) {\n                mustRebuild = true;\n                children[i + 1] = -1;\n                continue;\n            }\n            let from = mapping.map(oldChildren[i] + oldOffset), fromLocal = from - offset;\n            if (fromLocal < 0 || fromLocal >= node.content.size) {\n                mustRebuild = true;\n                continue;\n            }\n            // Must read oldChildren because children was tagged with -1\n            let to = mapping.map(oldChildren[i + 1] + oldOffset, -1), toLocal = to - offset;\n            let { index, offset: childOffset } = node.content.findIndex(fromLocal);\n            let childNode = node.maybeChild(index);\n            if (childNode && childOffset == fromLocal && childOffset + childNode.nodeSize == toLocal) {\n                let mapped = children[i + 2]\n                    .mapInner(mapping, childNode, from + 1, oldChildren[i] + oldOffset + 1, options);\n                if (mapped != empty) {\n                    children[i] = fromLocal;\n                    children[i + 1] = toLocal;\n                    children[i + 2] = mapped;\n                }\n                else {\n                    children[i + 1] = -2;\n                    mustRebuild = true;\n                }\n            }\n            else {\n                mustRebuild = true;\n            }\n        }\n    // Remaining children must be collected and rebuilt into the appropriate structure\n    if (mustRebuild) {\n        let decorations = mapAndGatherRemainingDecorations(children, oldChildren, newLocal, mapping, offset, oldOffset, options);\n        let built = buildTree(decorations, node, 0, options);\n        newLocal = built.local;\n        for (let i = 0; i < children.length; i += 3)\n            if (children[i + 1] < 0) {\n                children.splice(i, 3);\n                i -= 3;\n            }\n        for (let i = 0, j = 0; i < built.children.length; i += 3) {\n            let from = built.children[i];\n            while (j < children.length && children[j] < from)\n                j += 3;\n            children.splice(j, 0, built.children[i], built.children[i + 1], built.children[i + 2]);\n        }\n    }\n    return new DecorationSet(newLocal.sort(byPos), children);\n}\nfunction moveSpans(spans, offset) {\n    if (!offset || !spans.length)\n        return spans;\n    let result = [];\n    for (let i = 0; i < spans.length; i++) {\n        let span = spans[i];\n        result.push(new Decoration(span.from + offset, span.to + offset, span.type));\n    }\n    return result;\n}\nfunction mapAndGatherRemainingDecorations(children, oldChildren, decorations, mapping, offset, oldOffset, options) {\n    // Gather all decorations from the remaining marked children\n    function gather(set, oldOffset) {\n        for (let i = 0; i < set.local.length; i++) {\n            let mapped = set.local[i].map(mapping, offset, oldOffset);\n            if (mapped)\n                decorations.push(mapped);\n            else if (options.onRemove)\n                options.onRemove(set.local[i].spec);\n        }\n        for (let i = 0; i < set.children.length; i += 3)\n            gather(set.children[i + 2], set.children[i] + oldOffset + 1);\n    }\n    for (let i = 0; i < children.length; i += 3)\n        if (children[i + 1] == -1)\n            gather(children[i + 2], oldChildren[i] + oldOffset + 1);\n    return decorations;\n}\nfunction takeSpansForNode(spans, node, offset) {\n    if (node.isLeaf)\n        return null;\n    let end = offset + node.nodeSize, found = null;\n    for (let i = 0, span; i < spans.length; i++) {\n        if ((span = spans[i]) && span.from > offset && span.to < end) {\n            (found || (found = [])).push(span);\n            spans[i] = null;\n        }\n    }\n    return found;\n}\nfunction withoutNulls(array) {\n    let result = [];\n    for (let i = 0; i < array.length; i++)\n        if (array[i] != null)\n            result.push(array[i]);\n    return result;\n}\n// Build up a tree that corresponds to a set of decorations. `offset`\n// is a base offset that should be subtracted from the `from` and `to`\n// positions in the spans (so that we don't have to allocate new spans\n// for recursive calls).\nfunction buildTree(spans, node, offset, options) {\n    let children = [], hasNulls = false;\n    node.forEach((childNode, localStart) => {\n        let found = takeSpansForNode(spans, childNode, localStart + offset);\n        if (found) {\n            hasNulls = true;\n            let subtree = buildTree(found, childNode, offset + localStart + 1, options);\n            if (subtree != empty)\n                children.push(localStart, localStart + childNode.nodeSize, subtree);\n        }\n    });\n    let locals = moveSpans(hasNulls ? withoutNulls(spans) : spans, -offset).sort(byPos);\n    for (let i = 0; i < locals.length; i++)\n        if (!locals[i].type.valid(node, locals[i])) {\n            if (options.onRemove)\n                options.onRemove(locals[i].spec);\n            locals.splice(i--, 1);\n        }\n    return locals.length || children.length ? new DecorationSet(locals, children) : empty;\n}\n// Used to sort decorations so that ones with a low start position\n// come first, and within a set with the same start position, those\n// with an smaller end position come first.\nfunction byPos(a, b) {\n    return a.from - b.from || a.to - b.to;\n}\n// Scan a sorted array of decorations for partially overlapping spans,\n// and split those so that only fully overlapping spans are left (to\n// make subsequent rendering easier). Will return the input array if\n// no partially overlapping spans are found (the common case).\nfunction removeOverlap(spans) {\n    let working = spans;\n    for (let i = 0; i < working.length - 1; i++) {\n        let span = working[i];\n        if (span.from != span.to)\n            for (let j = i + 1; j < working.length; j++) {\n                let next = working[j];\n                if (next.from == span.from) {\n                    if (next.to != span.to) {\n                        if (working == spans)\n                            working = spans.slice();\n                        // Followed by a partially overlapping larger span. Split that\n                        // span.\n                        working[j] = next.copy(next.from, span.to);\n                        insertAhead(working, j + 1, next.copy(span.to, next.to));\n                    }\n                    continue;\n                }\n                else {\n                    if (next.from < span.to) {\n                        if (working == spans)\n                            working = spans.slice();\n                        // The end of this one overlaps with a subsequent span. Split\n                        // this one.\n                        working[i] = span.copy(span.from, next.from);\n                        insertAhead(working, j, span.copy(next.from, span.to));\n                    }\n                    break;\n                }\n            }\n    }\n    return working;\n}\nfunction insertAhead(array, i, deco) {\n    while (i < array.length && byPos(deco, array[i]) > 0)\n        i++;\n    array.splice(i, 0, deco);\n}\n// Get the decorations associated with the current props of a view.\nfunction viewDecorations(view) {\n    let found = [];\n    view.someProp(\"decorations\", f => {\n        let result = f(view.state);\n        if (result && result != empty)\n            found.push(result);\n    });\n    if (view.cursorWrapper)\n        found.push(DecorationSet.create(view.state.doc, [view.cursorWrapper.deco]));\n    return DecorationGroup.from(found);\n}\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    characterDataOldValue: true,\n    attributes: true,\n    attributeOldValue: true,\n    subtree: true\n};\n// IE11 has very broken mutation observers, so we also listen to DOMCharacterDataModified\nconst useCharData = ie && ie_version <= 11;\nclass SelectionState {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    set(sel) {\n        this.anchorNode = sel.anchorNode;\n        this.anchorOffset = sel.anchorOffset;\n        this.focusNode = sel.focusNode;\n        this.focusOffset = sel.focusOffset;\n    }\n    clear() {\n        this.anchorNode = this.focusNode = null;\n    }\n    eq(sel) {\n        return sel.anchorNode == this.anchorNode && sel.anchorOffset == this.anchorOffset &&\n            sel.focusNode == this.focusNode && sel.focusOffset == this.focusOffset;\n    }\n}\nclass DOMObserver {\n    constructor(view, handleDOMChange) {\n        this.view = view;\n        this.handleDOMChange = handleDOMChange;\n        this.queue = [];\n        this.flushingSoon = -1;\n        this.observer = null;\n        this.currentSelection = new SelectionState;\n        this.onCharData = null;\n        this.suppressingSelectionUpdates = false;\n        this.observer = window.MutationObserver &&\n            new window.MutationObserver(mutations => {\n                for (let i = 0; i < mutations.length; i++)\n                    this.queue.push(mutations[i]);\n                // IE11 will sometimes (on backspacing out a single character\n                // text node after a BR node) call the observer callback\n                // before actually updating the DOM, which will cause\n                // ProseMirror to miss the change (see #930)\n                if (ie && ie_version <= 11 && mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                    this.flushSoon();\n                else\n                    this.flush();\n            });\n        if (useCharData) {\n            this.onCharData = e => {\n                this.queue.push({ target: e.target, type: \"characterData\", oldValue: e.prevValue });\n                this.flushSoon();\n            };\n        }\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n    }\n    flushSoon() {\n        if (this.flushingSoon < 0)\n            this.flushingSoon = window.setTimeout(() => { this.flushingSoon = -1; this.flush(); }, 20);\n    }\n    forceFlush() {\n        if (this.flushingSoon > -1) {\n            window.clearTimeout(this.flushingSoon);\n            this.flushingSoon = -1;\n            this.flush();\n        }\n    }\n    start() {\n        if (this.observer) {\n            this.observer.takeRecords();\n            this.observer.observe(this.view.dom, observeOptions);\n        }\n        if (this.onCharData)\n            this.view.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.connectSelection();\n    }\n    stop() {\n        if (this.observer) {\n            let take = this.observer.takeRecords();\n            if (take.length) {\n                for (let i = 0; i < take.length; i++)\n                    this.queue.push(take[i]);\n                window.setTimeout(() => this.flush(), 20);\n            }\n            this.observer.disconnect();\n        }\n        if (this.onCharData)\n            this.view.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.disconnectSelection();\n    }\n    connectSelection() {\n        this.view.dom.ownerDocument.addEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    disconnectSelection() {\n        this.view.dom.ownerDocument.removeEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    suppressSelectionUpdates() {\n        this.suppressingSelectionUpdates = true;\n        setTimeout(() => this.suppressingSelectionUpdates = false, 50);\n    }\n    onSelectionChange() {\n        if (!hasFocusAndSelection(this.view))\n            return;\n        if (this.suppressingSelectionUpdates)\n            return selectionToDOM(this.view);\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        if (ie && ie_version <= 11 && !this.view.state.selection.empty) {\n            let sel = this.view.domSelection();\n            // Selection.isCollapsed isn't reliable on IE\n            if (sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n                return this.flushSoon();\n        }\n        this.flush();\n    }\n    setCurSelection() {\n        this.currentSelection.set(this.view.domSelection());\n    }\n    ignoreSelectionChange(sel) {\n        if (sel.rangeCount == 0)\n            return true;\n        let container = sel.getRangeAt(0).commonAncestorContainer;\n        let desc = this.view.docView.nearestDesc(container);\n        if (desc && desc.ignoreMutation({\n            type: \"selection\",\n            target: container.nodeType == 3 ? container.parentNode : container\n        })) {\n            this.setCurSelection();\n            return true;\n        }\n    }\n    flush() {\n        if (!this.view.docView || this.flushingSoon > -1)\n            return;\n        let mutations = this.observer ? this.observer.takeRecords() : [];\n        if (this.queue.length) {\n            mutations = this.queue.concat(mutations);\n            this.queue.length = 0;\n        }\n        let sel = this.view.domSelection();\n        let newSel = !this.suppressingSelectionUpdates && !this.currentSelection.eq(sel) && hasFocusAndSelection(this.view) && !this.ignoreSelectionChange(sel);\n        let from = -1, to = -1, typeOver = false, added = [];\n        if (this.view.editable) {\n            for (let i = 0; i < mutations.length; i++) {\n                let result = this.registerMutation(mutations[i], added);\n                if (result) {\n                    from = from < 0 ? result.from : Math.min(result.from, from);\n                    to = to < 0 ? result.to : Math.max(result.to, to);\n                    if (result.typeOver)\n                        typeOver = true;\n                }\n            }\n        }\n        if (gecko && added.length > 1) {\n            let brs = added.filter(n => n.nodeName == \"BR\");\n            if (brs.length == 2) {\n                let a = brs[0], b = brs[1];\n                if (a.parentNode && a.parentNode.parentNode == b.parentNode)\n                    b.remove();\n                else\n                    a.remove();\n            }\n        }\n        if (from > -1 || newSel) {\n            if (from > -1) {\n                this.view.docView.markDirty(from, to);\n                checkCSS(this.view);\n            }\n            this.handleDOMChange(from, to, typeOver, added);\n            if (this.view.docView && this.view.docView.dirty)\n                this.view.updateState(this.view.state);\n            else if (!this.currentSelection.eq(sel))\n                selectionToDOM(this.view);\n            this.currentSelection.set(sel);\n        }\n    }\n    registerMutation(mut, added) {\n        // Ignore mutations inside nodes that were already noted as inserted\n        if (added.indexOf(mut.target) > -1)\n            return null;\n        let desc = this.view.docView.nearestDesc(mut.target);\n        if (mut.type == \"attributes\" &&\n            (desc == this.view.docView || mut.attributeName == \"contenteditable\" ||\n                // Firefox sometimes fires spurious events for null/empty styles\n                (mut.attributeName == \"style\" && !mut.oldValue && !mut.target.getAttribute(\"style\"))))\n            return null;\n        if (!desc || desc.ignoreMutation(mut))\n            return null;\n        if (mut.type == \"childList\") {\n            for (let i = 0; i < mut.addedNodes.length; i++)\n                added.push(mut.addedNodes[i]);\n            if (desc.contentDOM && desc.contentDOM != desc.dom && !desc.contentDOM.contains(mut.target))\n                return { from: desc.posBefore, to: desc.posAfter };\n            let prev = mut.previousSibling, next = mut.nextSibling;\n            if (ie && ie_version <= 11 && mut.addedNodes.length) {\n                // IE11 gives us incorrect next/prev siblings for some\n                // insertions, so if there are added nodes, recompute those\n                for (let i = 0; i < mut.addedNodes.length; i++) {\n                    let { previousSibling, nextSibling } = mut.addedNodes[i];\n                    if (!previousSibling || Array.prototype.indexOf.call(mut.addedNodes, previousSibling) < 0)\n                        prev = previousSibling;\n                    if (!nextSibling || Array.prototype.indexOf.call(mut.addedNodes, nextSibling) < 0)\n                        next = nextSibling;\n                }\n            }\n            let fromOffset = prev && prev.parentNode == mut.target\n                ? domIndex(prev) + 1 : 0;\n            let from = desc.localPosFromDOM(mut.target, fromOffset, -1);\n            let toOffset = next && next.parentNode == mut.target\n                ? domIndex(next) : mut.target.childNodes.length;\n            let to = desc.localPosFromDOM(mut.target, toOffset, 1);\n            return { from, to };\n        }\n        else if (mut.type == \"attributes\") {\n            return { from: desc.posAtStart - desc.border, to: desc.posAtEnd + desc.border };\n        }\n        else { // \"characterData\"\n            return {\n                from: desc.posAtStart,\n                to: desc.posAtEnd,\n                // An event was generated for a text change that didn't change\n                // any text. Mark the dom change to fall back to assuming the\n                // selection was typed over with an identical value if it can't\n                // find another change.\n                typeOver: mut.target.nodeValue == mut.oldValue\n            };\n        }\n    }\n}\nlet cssChecked = false;\nfunction checkCSS(view) {\n    if (cssChecked)\n        return;\n    cssChecked = true;\n    if (getComputedStyle(view.dom).whiteSpace == \"normal\")\n        console[\"warn\"](\"ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.\");\n}\n\n// Note that all referencing and parsing is done with the\n// start-of-operation selection and document, since that's the one\n// that the DOM represents. If any changes came in in the meantime,\n// the modification is mapped over those before it is applied, in\n// readDOMChange.\nfunction parseBetween(view, from_, to_) {\n    let { node: parent, fromOffset, toOffset, from, to } = view.docView.parseRange(from_, to_);\n    let domSel = view.domSelection();\n    let find;\n    let anchor = domSel.anchorNode;\n    if (anchor && view.dom.contains(anchor.nodeType == 1 ? anchor : anchor.parentNode)) {\n        find = [{ node: anchor, offset: domSel.anchorOffset }];\n        if (!selectionCollapsed(domSel))\n            find.push({ node: domSel.focusNode, offset: domSel.focusOffset });\n    }\n    // Work around issue in Chrome where backspacing sometimes replaces\n    // the deleted content with a random BR node (issues #799, #831)\n    if (chrome && view.input.lastKeyCode === 8) {\n        for (let off = toOffset; off > fromOffset; off--) {\n            let node = parent.childNodes[off - 1], desc = node.pmViewDesc;\n            if (node.nodeName == \"BR\" && !desc) {\n                toOffset = off;\n                break;\n            }\n            if (!desc || desc.size)\n                break;\n        }\n    }\n    let startDoc = view.state.doc;\n    let parser = view.someProp(\"domParser\") || DOMParser.fromSchema(view.state.schema);\n    let $from = startDoc.resolve(from);\n    let sel = null, doc = parser.parse(parent, {\n        topNode: $from.parent,\n        topMatch: $from.parent.contentMatchAt($from.index()),\n        topOpen: true,\n        from: fromOffset,\n        to: toOffset,\n        preserveWhitespace: $from.parent.type.whitespace == \"pre\" ? \"full\" : true,\n        findPositions: find,\n        ruleFromNode,\n        context: $from\n    });\n    if (find && find[0].pos != null) {\n        let anchor = find[0].pos, head = find[1] && find[1].pos;\n        if (head == null)\n            head = anchor;\n        sel = { anchor: anchor + from, head: head + from };\n    }\n    return { doc, sel, from, to };\n}\nfunction ruleFromNode(dom) {\n    let desc = dom.pmViewDesc;\n    if (desc) {\n        return desc.parseRule();\n    }\n    else if (dom.nodeName == \"BR\" && dom.parentNode) {\n        // Safari replaces the list item or table cell with a BR\n        // directly in the list node (?!) if you delete the last\n        // character in a list item or table cell (#708, #862)\n        if (safari && /^(ul|ol)$/i.test(dom.parentNode.nodeName)) {\n            let skip = document.createElement(\"div\");\n            skip.appendChild(document.createElement(\"li\"));\n            return { skip };\n        }\n        else if (dom.parentNode.lastChild == dom || safari && /^(tr|table)$/i.test(dom.parentNode.nodeName)) {\n            return { ignore: true };\n        }\n    }\n    else if (dom.nodeName == \"IMG\" && dom.getAttribute(\"mark-placeholder\")) {\n        return { ignore: true };\n    }\n    return null;\n}\nfunction readDOMChange(view, from, to, typeOver, addedNodes) {\n    if (from < 0) {\n        let origin = view.input.lastSelectionTime > Date.now() - 50 ? view.input.lastSelectionOrigin : null;\n        let newSel = selectionFromDOM(view, origin);\n        if (newSel && !view.state.selection.eq(newSel)) {\n            let tr = view.state.tr.setSelection(newSel);\n            if (origin == \"pointer\")\n                tr.setMeta(\"pointer\", true);\n            else if (origin == \"key\")\n                tr.scrollIntoView();\n            view.dispatch(tr);\n        }\n        return;\n    }\n    let $before = view.state.doc.resolve(from);\n    let shared = $before.sharedDepth(to);\n    from = $before.before(shared + 1);\n    to = view.state.doc.resolve(to).after(shared + 1);\n    let sel = view.state.selection;\n    let parse = parseBetween(view, from, to);\n    // Chrome sometimes leaves the cursor before the inserted text when\n    // composing after a cursor wrapper. This moves it forward.\n    if (chrome && view.cursorWrapper && parse.sel && parse.sel.anchor == view.cursorWrapper.deco.from &&\n        parse.sel.head == parse.sel.anchor) {\n        let text = view.cursorWrapper.deco.type.toDOM.nextSibling;\n        let size = text && text.nodeValue ? text.nodeValue.length : 1;\n        parse.sel = { anchor: parse.sel.anchor + size, head: parse.sel.anchor + size };\n    }\n    let doc = view.state.doc, compare = doc.slice(parse.from, parse.to);\n    let preferredPos, preferredSide;\n    // Prefer anchoring to end when Backspace is pressed\n    if (view.input.lastKeyCode === 8 && Date.now() - 100 < view.input.lastKeyCodeTime) {\n        preferredPos = view.state.selection.to;\n        preferredSide = \"end\";\n    }\n    else {\n        preferredPos = view.state.selection.from;\n        preferredSide = \"start\";\n    }\n    view.input.lastKeyCode = null;\n    let change = findDiff(compare.content, parse.doc.content, parse.from, preferredPos, preferredSide);\n    if ((ios && view.input.lastIOSEnter > Date.now() - 225 || android) &&\n        addedNodes.some(n => n.nodeName == \"DIV\" || n.nodeName == \"P\") &&\n        (!change || change.endA >= change.endB) &&\n        view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\")))) {\n        view.input.lastIOSEnter = 0;\n        return;\n    }\n    if (!change) {\n        if (typeOver && sel instanceof TextSelection && !sel.empty && sel.$head.sameParent(sel.$anchor) &&\n            !view.composing && !(parse.sel && parse.sel.anchor != parse.sel.head)) {\n            change = { start: sel.from, endA: sel.to, endB: sel.to };\n        }\n        else {\n            if (parse.sel) {\n                let sel = resolveSelection(view, view.state.doc, parse.sel);\n                if (sel && !sel.eq(view.state.selection))\n                    view.dispatch(view.state.tr.setSelection(sel));\n            }\n            return;\n        }\n    }\n    view.input.domChangeCount++;\n    // Handle the case where overwriting a selection by typing matches\n    // the start or end of the selected content, creating a change\n    // that's smaller than what was actually overwritten.\n    if (view.state.selection.from < view.state.selection.to &&\n        change.start == change.endB &&\n        view.state.selection instanceof TextSelection) {\n        if (change.start > view.state.selection.from && change.start <= view.state.selection.from + 2 &&\n            view.state.selection.from >= parse.from) {\n            change.start = view.state.selection.from;\n        }\n        else if (change.endA < view.state.selection.to && change.endA >= view.state.selection.to - 2 &&\n            view.state.selection.to <= parse.to) {\n            change.endB += (view.state.selection.to - change.endA);\n            change.endA = view.state.selection.to;\n        }\n    }\n    // IE11 will insert a non-breaking space _ahead_ of the space after\n    // the cursor space when adding a space before another space. When\n    // that happened, adjust the change to cover the space instead.\n    if (ie && ie_version <= 11 && change.endB == change.start + 1 &&\n        change.endA == change.start && change.start > parse.from &&\n        parse.doc.textBetween(change.start - parse.from - 1, change.start - parse.from + 1) == \" \\u00a0\") {\n        change.start--;\n        change.endA--;\n        change.endB--;\n    }\n    let $from = parse.doc.resolveNoCache(change.start - parse.from);\n    let $to = parse.doc.resolveNoCache(change.endB - parse.from);\n    let $fromA = doc.resolve(change.start);\n    let inlineChange = $from.sameParent($to) && $from.parent.inlineContent && $fromA.end() >= change.endA;\n    let nextSel;\n    // If this looks like the effect of pressing Enter (or was recorded\n    // as being an iOS enter press), just dispatch an Enter key instead.\n    if (((ios && view.input.lastIOSEnter > Date.now() - 225 &&\n        (!inlineChange || addedNodes.some(n => n.nodeName == \"DIV\" || n.nodeName == \"P\"))) ||\n        (!inlineChange && $from.pos < parse.doc.content.size &&\n            (nextSel = Selection.findFrom(parse.doc.resolve($from.pos + 1), 1, true)) &&\n            nextSel.head == $to.pos)) &&\n        view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\")))) {\n        view.input.lastIOSEnter = 0;\n        return;\n    }\n    // Same for backspace\n    if (view.state.selection.anchor > change.start &&\n        looksLikeJoin(doc, change.start, change.endA, $from, $to) &&\n        view.someProp(\"handleKeyDown\", f => f(view, keyEvent(8, \"Backspace\")))) {\n        if (android && chrome)\n            view.domObserver.suppressSelectionUpdates(); // #820\n        return;\n    }\n    // Chrome Android will occasionally, during composition, delete the\n    // entire composition and then immediately insert it again. This is\n    // used to detect that situation.\n    if (chrome && android && change.endB == change.start)\n        view.input.lastAndroidDelete = Date.now();\n    // This tries to detect Android virtual keyboard\n    // enter-and-pick-suggestion action. That sometimes (see issue\n    // #1059) first fires a DOM mutation, before moving the selection to\n    // the newly created block. And then, because ProseMirror cleans up\n    // the DOM selection, it gives up moving the selection entirely,\n    // leaving the cursor in the wrong place. When that happens, we drop\n    // the new paragraph from the initial change, and fire a simulated\n    // enter key afterwards.\n    if (android && !inlineChange && $from.start() != $to.start() && $to.parentOffset == 0 && $from.depth == $to.depth &&\n        parse.sel && parse.sel.anchor == parse.sel.head && parse.sel.head == change.endA) {\n        change.endB -= 2;\n        $to = parse.doc.resolveNoCache(change.endB - parse.from);\n        setTimeout(() => {\n            view.someProp(\"handleKeyDown\", function (f) { return f(view, keyEvent(13, \"Enter\")); });\n        }, 20);\n    }\n    let chFrom = change.start, chTo = change.endA;\n    let tr, storedMarks, markChange;\n    if (inlineChange) {\n        if ($from.pos == $to.pos) { // Deletion\n            // IE11 sometimes weirdly moves the DOM selection around after\n            // backspacing out the first element in a textblock\n            if (ie && ie_version <= 11 && $from.parentOffset == 0) {\n                view.domObserver.suppressSelectionUpdates();\n                setTimeout(() => selectionToDOM(view), 20);\n            }\n            tr = view.state.tr.delete(chFrom, chTo);\n            storedMarks = doc.resolve(change.start).marksAcross(doc.resolve(change.endA));\n        }\n        else if ( // Adding or removing a mark\n        change.endA == change.endB &&\n            (markChange = isMarkChange($from.parent.content.cut($from.parentOffset, $to.parentOffset), $fromA.parent.content.cut($fromA.parentOffset, change.endA - $fromA.start())))) {\n            tr = view.state.tr;\n            if (markChange.type == \"add\")\n                tr.addMark(chFrom, chTo, markChange.mark);\n            else\n                tr.removeMark(chFrom, chTo, markChange.mark);\n        }\n        else if ($from.parent.child($from.index()).isText && $from.index() == $to.index() - ($to.textOffset ? 0 : 1)) {\n            // Both positions in the same text node -- simply insert text\n            let text = $from.parent.textBetween($from.parentOffset, $to.parentOffset);\n            if (view.someProp(\"handleTextInput\", f => f(view, chFrom, chTo, text)))\n                return;\n            tr = view.state.tr.insertText(text, chFrom, chTo);\n        }\n    }\n    if (!tr)\n        tr = view.state.tr.replace(chFrom, chTo, parse.doc.slice(change.start - parse.from, change.endB - parse.from));\n    if (parse.sel) {\n        let sel = resolveSelection(view, tr.doc, parse.sel);\n        // Chrome Android will sometimes, during composition, report the\n        // selection in the wrong place. If it looks like that is\n        // happening, don't update the selection.\n        // Edge just doesn't move the cursor forward when you start typing\n        // in an empty block or between br nodes.\n        if (sel && !(chrome && android && view.composing && sel.empty &&\n            (change.start != change.endB || view.input.lastAndroidDelete < Date.now() - 100) &&\n            (sel.head == chFrom || sel.head == tr.mapping.map(chTo) - 1) ||\n            ie && sel.empty && sel.head == chFrom))\n            tr.setSelection(sel);\n    }\n    if (storedMarks)\n        tr.ensureMarks(storedMarks);\n    view.dispatch(tr.scrollIntoView());\n}\nfunction resolveSelection(view, doc, parsedSel) {\n    if (Math.max(parsedSel.anchor, parsedSel.head) > doc.content.size)\n        return null;\n    return selectionBetween(view, doc.resolve(parsedSel.anchor), doc.resolve(parsedSel.head));\n}\n// Given two same-length, non-empty fragments of inline content,\n// determine whether the first could be created from the second by\n// removing or adding a single mark type.\nfunction isMarkChange(cur, prev) {\n    let curMarks = cur.firstChild.marks, prevMarks = prev.firstChild.marks;\n    let added = curMarks, removed = prevMarks, type, mark, update;\n    for (let i = 0; i < prevMarks.length; i++)\n        added = prevMarks[i].removeFromSet(added);\n    for (let i = 0; i < curMarks.length; i++)\n        removed = curMarks[i].removeFromSet(removed);\n    if (added.length == 1 && removed.length == 0) {\n        mark = added[0];\n        type = \"add\";\n        update = (node) => node.mark(mark.addToSet(node.marks));\n    }\n    else if (added.length == 0 && removed.length == 1) {\n        mark = removed[0];\n        type = \"remove\";\n        update = (node) => node.mark(mark.removeFromSet(node.marks));\n    }\n    else {\n        return null;\n    }\n    let updated = [];\n    for (let i = 0; i < prev.childCount; i++)\n        updated.push(update(prev.child(i)));\n    if (Fragment.from(updated).eq(cur))\n        return { mark, type };\n}\nfunction looksLikeJoin(old, start, end, $newStart, $newEnd) {\n    if (!$newStart.parent.isTextblock ||\n        // The content must have shrunk\n        end - start <= $newEnd.pos - $newStart.pos ||\n        // newEnd must point directly at or after the end of the block that newStart points into\n        skipClosingAndOpening($newStart, true, false) < $newEnd.pos)\n        return false;\n    let $start = old.resolve(start);\n    // Start must be at the end of a block\n    if ($start.parentOffset < $start.parent.content.size || !$start.parent.isTextblock)\n        return false;\n    let $next = old.resolve(skipClosingAndOpening($start, true, true));\n    // The next textblock must start before end and end near it\n    if (!$next.parent.isTextblock || $next.pos > end ||\n        skipClosingAndOpening($next, true, false) < end)\n        return false;\n    // The fragments after the join point must match\n    return $newStart.parent.content.cut($newStart.parentOffset).eq($next.parent.content);\n}\nfunction skipClosingAndOpening($pos, fromEnd, mayOpen) {\n    let depth = $pos.depth, end = fromEnd ? $pos.end() : $pos.pos;\n    while (depth > 0 && (fromEnd || $pos.indexAfter(depth) == $pos.node(depth).childCount)) {\n        depth--;\n        end++;\n        fromEnd = false;\n    }\n    if (mayOpen) {\n        let next = $pos.node(depth).maybeChild($pos.indexAfter(depth));\n        while (next && !next.isLeaf) {\n            next = next.firstChild;\n            end++;\n        }\n    }\n    return end;\n}\nfunction findDiff(a, b, pos, preferredPos, preferredSide) {\n    let start = a.findDiffStart(b, pos);\n    if (start == null)\n        return null;\n    let { a: endA, b: endB } = a.findDiffEnd(b, pos + a.size, pos + b.size);\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, start - Math.min(endA, endB));\n        preferredPos -= endA + adjust - start;\n    }\n    if (endA < start && a.size < b.size) {\n        let move = preferredPos <= start && preferredPos >= endA ? start - preferredPos : 0;\n        start -= move;\n        endB = start + (endB - endA);\n        endA = start;\n    }\n    else if (endB < start) {\n        let move = preferredPos <= start && preferredPos >= endB ? start - preferredPos : 0;\n        start -= move;\n        endA = start + (endA - endB);\n        endB = start;\n    }\n    return { start, endA, endB };\n}\n\n/**\n@internal\n*/\nconst __serializeForClipboard = serializeForClipboard;\n/**\n@internal\n*/\nconst __parseFromClipboard = parseFromClipboard;\n/**\n@internal\n*/\nconst __endComposition = endComposition;\n/**\nAn editor view manages the DOM structure that represents an\neditable document. Its state and behavior are determined by its\n[props](https://prosemirror.net/docs/ref/#view.DirectEditorProps).\n*/\nclass EditorView {\n    /**\n    Create a view. `place` may be a DOM node that the editor should\n    be appended to, a function that will place it into the document,\n    or an object whose `mount` property holds the node to use as the\n    document container. If it is `null`, the editor will not be\n    added to the document.\n    */\n    constructor(place, props) {\n        this._root = null;\n        /**\n        @internal\n        */\n        this.focused = false;\n        /**\n        Kludge used to work around a Chrome bug @internal\n        */\n        this.trackWrites = null;\n        this.mounted = false;\n        /**\n        @internal\n        */\n        this.markCursor = null;\n        /**\n        @internal\n        */\n        this.cursorWrapper = null;\n        /**\n        @internal\n        */\n        this.lastSelectedViewDesc = undefined;\n        /**\n        @internal\n        */\n        this.input = new InputState;\n        this.prevDirectPlugins = [];\n        this.pluginViews = [];\n        /**\n        When editor content is being dragged, this object contains\n        information about the dragged slice and whether it is being\n        copied or moved. At any other time, it is null.\n        */\n        this.dragging = null;\n        this._props = props;\n        this.state = props.state;\n        this.directPlugins = props.plugins || [];\n        this.directPlugins.forEach(checkStateComponent);\n        this.dispatch = this.dispatch.bind(this);\n        this.dom = (place && place.mount) || document.createElement(\"div\");\n        if (place) {\n            if (place.appendChild)\n                place.appendChild(this.dom);\n            else if (typeof place == \"function\")\n                place(this.dom);\n            else if (place.mount)\n                this.mounted = true;\n        }\n        this.editable = getEditable(this);\n        updateCursorWrapper(this);\n        this.nodeViews = buildNodeViews(this);\n        this.docView = docViewDesc(this.state.doc, computeDocDeco(this), viewDecorations(this), this.dom, this);\n        this.domObserver = new DOMObserver(this, (from, to, typeOver, added) => readDOMChange(this, from, to, typeOver, added));\n        this.domObserver.start();\n        initInput(this);\n        this.updatePluginViews();\n    }\n    /**\n    Holds `true` when a\n    [composition](https://w3c.github.io/uievents/#events-compositionevents)\n    is active.\n    */\n    get composing() { return this.input.composing; }\n    /**\n    The view's current [props](https://prosemirror.net/docs/ref/#view.EditorProps).\n    */\n    get props() {\n        if (this._props.state != this.state) {\n            let prev = this._props;\n            this._props = {};\n            for (let name in prev)\n                this._props[name] = prev[name];\n            this._props.state = this.state;\n        }\n        return this._props;\n    }\n    /**\n    Update the view's props. Will immediately cause an update to\n    the DOM.\n    */\n    update(props) {\n        if (props.handleDOMEvents != this._props.handleDOMEvents)\n            ensureListeners(this);\n        this._props = props;\n        if (props.plugins) {\n            props.plugins.forEach(checkStateComponent);\n            this.directPlugins = props.plugins;\n        }\n        this.updateStateInner(props.state, true);\n    }\n    /**\n    Update the view by updating existing props object with the object\n    given as argument. Equivalent to `view.update(Object.assign({},\n    view.props, props))`.\n    */\n    setProps(props) {\n        let updated = {};\n        for (let name in this._props)\n            updated[name] = this._props[name];\n        updated.state = this.state;\n        for (let name in props)\n            updated[name] = props[name];\n        this.update(updated);\n    }\n    /**\n    Update the editor's `state` prop, without touching any of the\n    other props.\n    */\n    updateState(state) {\n        this.updateStateInner(state, this.state.plugins != state.plugins);\n    }\n    updateStateInner(state, reconfigured) {\n        let prev = this.state, redraw = false, updateSel = false;\n        // When stored marks are added, stop composition, so that they can\n        // be displayed.\n        if (state.storedMarks && this.composing) {\n            clearComposition(this);\n            updateSel = true;\n        }\n        this.state = state;\n        if (reconfigured) {\n            let nodeViews = buildNodeViews(this);\n            if (changedNodeViews(nodeViews, this.nodeViews)) {\n                this.nodeViews = nodeViews;\n                redraw = true;\n            }\n            ensureListeners(this);\n        }\n        this.editable = getEditable(this);\n        updateCursorWrapper(this);\n        let innerDeco = viewDecorations(this), outerDeco = computeDocDeco(this);\n        let scroll = reconfigured ? \"reset\"\n            : state.scrollToSelection > prev.scrollToSelection ? \"to selection\" : \"preserve\";\n        let updateDoc = redraw || !this.docView.matchesNode(state.doc, outerDeco, innerDeco);\n        if (updateDoc || !state.selection.eq(prev.selection))\n            updateSel = true;\n        let oldScrollPos = scroll == \"preserve\" && updateSel && this.dom.style.overflowAnchor == null && storeScrollPos(this);\n        if (updateSel) {\n            this.domObserver.stop();\n            // Work around an issue in Chrome, IE, and Edge where changing\n            // the DOM around an active selection puts it into a broken\n            // state where the thing the user sees differs from the\n            // selection reported by the Selection object (#710, #973,\n            // #1011, #1013, #1035).\n            let forceSelUpdate = updateDoc && (ie || chrome) && !this.composing &&\n                !prev.selection.empty && !state.selection.empty && selectionContextChanged(prev.selection, state.selection);\n            if (updateDoc) {\n                // If the node that the selection points into is written to,\n                // Chrome sometimes starts misreporting the selection, so this\n                // tracks that and forces a selection reset when our update\n                // did write to the node.\n                let chromeKludge = chrome ? (this.trackWrites = this.domSelection().focusNode) : null;\n                if (redraw || !this.docView.update(state.doc, outerDeco, innerDeco, this)) {\n                    this.docView.updateOuterDeco([]);\n                    this.docView.destroy();\n                    this.docView = docViewDesc(state.doc, outerDeco, innerDeco, this.dom, this);\n                }\n                if (chromeKludge && !this.trackWrites)\n                    forceSelUpdate = true;\n            }\n            // Work around for an issue where an update arriving right between\n            // a DOM selection change and the \"selectionchange\" event for it\n            // can cause a spurious DOM selection update, disrupting mouse\n            // drag selection.\n            if (forceSelUpdate ||\n                !(this.input.mouseDown && this.domObserver.currentSelection.eq(this.domSelection()) && anchorInRightPlace(this))) {\n                selectionToDOM(this, forceSelUpdate);\n            }\n            else {\n                syncNodeSelection(this, state.selection);\n                this.domObserver.setCurSelection();\n            }\n            this.domObserver.start();\n        }\n        this.updatePluginViews(prev);\n        if (scroll == \"reset\") {\n            this.dom.scrollTop = 0;\n        }\n        else if (scroll == \"to selection\") {\n            let startDOM = this.domSelection().focusNode;\n            if (this.someProp(\"handleScrollToSelection\", f => f(this))) ;\n            else if (state.selection instanceof NodeSelection) {\n                let target = this.docView.domAfterPos(state.selection.from);\n                if (target.nodeType == 1)\n                    scrollRectIntoView(this, target.getBoundingClientRect(), startDOM);\n            }\n            else {\n                scrollRectIntoView(this, this.coordsAtPos(state.selection.head, 1), startDOM);\n            }\n        }\n        else if (oldScrollPos) {\n            resetScrollPos(oldScrollPos);\n        }\n    }\n    destroyPluginViews() {\n        let view;\n        while (view = this.pluginViews.pop())\n            if (view.destroy)\n                view.destroy();\n    }\n    updatePluginViews(prevState) {\n        if (!prevState || prevState.plugins != this.state.plugins || this.directPlugins != this.prevDirectPlugins) {\n            this.prevDirectPlugins = this.directPlugins;\n            this.destroyPluginViews();\n            for (let i = 0; i < this.directPlugins.length; i++) {\n                let plugin = this.directPlugins[i];\n                if (plugin.spec.view)\n                    this.pluginViews.push(plugin.spec.view(this));\n            }\n            for (let i = 0; i < this.state.plugins.length; i++) {\n                let plugin = this.state.plugins[i];\n                if (plugin.spec.view)\n                    this.pluginViews.push(plugin.spec.view(this));\n            }\n        }\n        else {\n            for (let i = 0; i < this.pluginViews.length; i++) {\n                let pluginView = this.pluginViews[i];\n                if (pluginView.update)\n                    pluginView.update(this, prevState);\n            }\n        }\n    }\n    someProp(propName, f) {\n        let prop = this._props && this._props[propName], value;\n        if (prop != null && (value = f ? f(prop) : prop))\n            return value;\n        for (let i = 0; i < this.directPlugins.length; i++) {\n            let prop = this.directPlugins[i].props[propName];\n            if (prop != null && (value = f ? f(prop) : prop))\n                return value;\n        }\n        let plugins = this.state.plugins;\n        if (plugins)\n            for (let i = 0; i < plugins.length; i++) {\n                let prop = plugins[i].props[propName];\n                if (prop != null && (value = f ? f(prop) : prop))\n                    return value;\n            }\n    }\n    /**\n    Query whether the view has focus.\n    */\n    hasFocus() {\n        return this.root.activeElement == this.dom;\n    }\n    /**\n    Focus the editor.\n    */\n    focus() {\n        this.domObserver.stop();\n        if (this.editable)\n            focusPreventScroll(this.dom);\n        selectionToDOM(this);\n        this.domObserver.start();\n    }\n    /**\n    Get the document root in which the editor exists. This will\n    usually be the top-level `document`, but might be a [shadow\n    DOM](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Shadow_DOM)\n    root if the editor is inside one.\n    */\n    get root() {\n        let cached = this._root;\n        if (cached == null)\n            for (let search = this.dom.parentNode; search; search = search.parentNode) {\n                if (search.nodeType == 9 || (search.nodeType == 11 && search.host)) {\n                    if (!search.getSelection)\n                        Object.getPrototypeOf(search).getSelection = () => search.ownerDocument.getSelection();\n                    return this._root = search;\n                }\n            }\n        return cached || document;\n    }\n    /**\n    Given a pair of viewport coordinates, return the document\n    position that corresponds to them. May return null if the given\n    coordinates aren't inside of the editor. When an object is\n    returned, its `pos` property is the position nearest to the\n    coordinates, and its `inside` property holds the position of the\n    inner node that the position falls inside of, or -1 if it is at\n    the top level, not in any node.\n    */\n    posAtCoords(coords) {\n        return posAtCoords(this, coords);\n    }\n    /**\n    Returns the viewport rectangle at a given document position.\n    `left` and `right` will be the same number, as this returns a\n    flat cursor-ish rectangle. If the position is between two things\n    that aren't directly adjacent, `side` determines which element\n    is used. When < 0, the element before the position is used,\n    otherwise the element after.\n    */\n    coordsAtPos(pos, side = 1) {\n        return coordsAtPos(this, pos, side);\n    }\n    /**\n    Find the DOM position that corresponds to the given document\n    position. When `side` is negative, find the position as close as\n    possible to the content before the position. When positive,\n    prefer positions close to the content after the position. When\n    zero, prefer as shallow a position as possible.\n    \n    Note that you should **not** mutate the editor's internal DOM,\n    only inspect it (and even that is usually not necessary).\n    */\n    domAtPos(pos, side = 0) {\n        return this.docView.domFromPos(pos, side);\n    }\n    /**\n    Find the DOM node that represents the document node after the\n    given position. May return `null` when the position doesn't point\n    in front of a node or if the node is inside an opaque node view.\n    \n    This is intended to be able to call things like\n    `getBoundingClientRect` on that DOM node. Do **not** mutate the\n    editor DOM directly, or add styling this way, since that will be\n    immediately overriden by the editor as it redraws the node.\n    */\n    nodeDOM(pos) {\n        let desc = this.docView.descAt(pos);\n        return desc ? desc.nodeDOM : null;\n    }\n    /**\n    Find the document position that corresponds to a given DOM\n    position. (Whenever possible, it is preferable to inspect the\n    document structure directly, rather than poking around in the\n    DOM, but sometimes—for example when interpreting an event\n    target—you don't have a choice.)\n    \n    The `bias` parameter can be used to influence which side of a DOM\n    node to use when the position is inside a leaf node.\n    */\n    posAtDOM(node, offset, bias = -1) {\n        let pos = this.docView.posFromDOM(node, offset, bias);\n        if (pos == null)\n            throw new RangeError(\"DOM position not inside the editor\");\n        return pos;\n    }\n    /**\n    Find out whether the selection is at the end of a textblock when\n    moving in a given direction. When, for example, given `\"left\"`,\n    it will return true if moving left from the current cursor\n    position would leave that position's parent textblock. Will apply\n    to the view's current state by default, but it is possible to\n    pass a different state.\n    */\n    endOfTextblock(dir, state) {\n        return endOfTextblock(this, state || this.state, dir);\n    }\n    /**\n    Removes the editor from the DOM and destroys all [node\n    views](https://prosemirror.net/docs/ref/#view.NodeView).\n    */\n    destroy() {\n        if (!this.docView)\n            return;\n        destroyInput(this);\n        this.destroyPluginViews();\n        if (this.mounted) {\n            this.docView.update(this.state.doc, [], viewDecorations(this), this);\n            this.dom.textContent = \"\";\n        }\n        else if (this.dom.parentNode) {\n            this.dom.parentNode.removeChild(this.dom);\n        }\n        this.docView.destroy();\n        this.docView = null;\n    }\n    /**\n    This is true when the view has been\n    [destroyed](https://prosemirror.net/docs/ref/#view.EditorView.destroy) (and thus should not be\n    used anymore).\n    */\n    get isDestroyed() {\n        return this.docView == null;\n    }\n    /**\n    Used for testing.\n    */\n    dispatchEvent(event) {\n        return dispatchEvent(this, event);\n    }\n    /**\n    Dispatch a transaction. Will call\n    [`dispatchTransaction`](https://prosemirror.net/docs/ref/#view.DirectEditorProps.dispatchTransaction)\n    when given, and otherwise defaults to applying the transaction to\n    the current state and calling\n    [`updateState`](https://prosemirror.net/docs/ref/#view.EditorView.updateState) with the result.\n    This method is bound to the view instance, so that it can be\n    easily passed around.\n    */\n    dispatch(tr) {\n        let dispatchTransaction = this._props.dispatchTransaction;\n        if (dispatchTransaction)\n            dispatchTransaction.call(this, tr);\n        else\n            this.updateState(this.state.apply(tr));\n    }\n    /**\n    @internal\n    */\n    domSelection() {\n        return this.root.getSelection();\n    }\n}\nfunction computeDocDeco(view) {\n    let attrs = Object.create(null);\n    attrs.class = \"ProseMirror\";\n    attrs.contenteditable = String(view.editable);\n    attrs.translate = \"no\";\n    view.someProp(\"attributes\", value => {\n        if (typeof value == \"function\")\n            value = value(view.state);\n        if (value)\n            for (let attr in value) {\n                if (attr == \"class\")\n                    attrs.class += \" \" + value[attr];\n                if (attr == \"style\") {\n                    attrs.style = (attrs.style ? attrs.style + \";\" : \"\") + value[attr];\n                }\n                else if (!attrs[attr] && attr != \"contenteditable\" && attr != \"nodeName\")\n                    attrs[attr] = String(value[attr]);\n            }\n    });\n    return [Decoration.node(0, view.state.doc.content.size, attrs)];\n}\nfunction updateCursorWrapper(view) {\n    if (view.markCursor) {\n        let dom = document.createElement(\"img\");\n        dom.className = \"ProseMirror-separator\";\n        dom.setAttribute(\"mark-placeholder\", \"true\");\n        dom.setAttribute(\"alt\", \"\");\n        view.cursorWrapper = { dom, deco: Decoration.widget(view.state.selection.head, dom, { raw: true, marks: view.markCursor }) };\n    }\n    else {\n        view.cursorWrapper = null;\n    }\n}\nfunction getEditable(view) {\n    return !view.someProp(\"editable\", value => value(view.state) === false);\n}\nfunction selectionContextChanged(sel1, sel2) {\n    let depth = Math.min(sel1.$anchor.sharedDepth(sel1.head), sel2.$anchor.sharedDepth(sel2.head));\n    return sel1.$anchor.start(depth) != sel2.$anchor.start(depth);\n}\nfunction buildNodeViews(view) {\n    let result = Object.create(null);\n    function add(obj) {\n        for (let prop in obj)\n            if (!Object.prototype.hasOwnProperty.call(result, prop))\n                result[prop] = obj[prop];\n    }\n    view.someProp(\"nodeViews\", add);\n    view.someProp(\"markViews\", add);\n    return result;\n}\nfunction changedNodeViews(a, b) {\n    let nA = 0, nB = 0;\n    for (let prop in a) {\n        if (a[prop] != b[prop])\n            return true;\n        nA++;\n    }\n    for (let _ in b)\n        nB++;\n    return nA != nB;\n}\nfunction checkStateComponent(plugin) {\n    if (plugin.spec.state || plugin.spec.filterTransaction || plugin.spec.appendTransaction)\n        throw new RangeError(\"Plugins passed directly to the view must not have a state component\");\n}\n\nexport { Decoration, DecorationSet, EditorView, __endComposition, __parseFromClipboard, __serializeForClipboard };\n","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","import * as i0 from '@angular/core';\nimport { Directive, Input, EventEmitter, PLATFORM_ID, Component, ChangeDetectionStrategy, ViewEncapsulation, Inject, Output, ViewChild, ContentChildren, HostBinding, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { isPlatformBrowser, CommonModule } from '@angular/common';\nimport Swiper from 'swiper';\nimport { Subject, of } from 'rxjs';\n\n/* underscore in name -> watch for changes */\nconst paramsList = [\n    'init',\n    'enabled',\n    '_direction',\n    'touchEventsTarget',\n    'initialSlide',\n    '_speed',\n    'cssMode',\n    'updateOnWindowResize',\n    'resizeObserver',\n    'nested',\n    'focusableElements',\n    '_width',\n    '_height',\n    'preventInteractionOnTransition',\n    'userAgent',\n    'url',\n    '_edgeSwipeDetection',\n    '_edgeSwipeThreshold',\n    '_freeMode',\n    '_autoHeight',\n    'setWrapperSize',\n    'virtualTranslate',\n    '_effect',\n    'breakpoints',\n    '_spaceBetween',\n    '_slidesPerView',\n    'maxBackfaceHiddenSlides',\n    '_grid',\n    '_slidesPerGroup',\n    '_slidesPerGroupSkip',\n    '_centeredSlides',\n    '_centeredSlidesBounds',\n    '_slidesOffsetBefore',\n    '_slidesOffsetAfter',\n    'normalizeSlideIndex',\n    '_centerInsufficientSlides',\n    '_watchOverflow',\n    'roundLengths',\n    'touchRatio',\n    'touchAngle',\n    'simulateTouch',\n    '_shortSwipes',\n    '_longSwipes',\n    'longSwipesRatio',\n    'longSwipesMs',\n    '_followFinger',\n    'allowTouchMove',\n    '_threshold',\n    'touchMoveStopPropagation',\n    'touchStartPreventDefault',\n    'touchStartForcePreventDefault',\n    'touchReleaseOnEdges',\n    'uniqueNavElements',\n    '_resistance',\n    '_resistanceRatio',\n    '_watchSlidesProgress',\n    '_grabCursor',\n    'preventClicks',\n    'preventClicksPropagation',\n    '_slideToClickedSlide',\n    '_preloadImages',\n    'updateOnImagesReady',\n    '_loop',\n    '_loopAdditionalSlides',\n    '_loopedSlides',\n    '_loopedSlidesLimit',\n    '_loopFillGroupWithBlank',\n    'loopPreventsSlide',\n    '_rewind',\n    '_allowSlidePrev',\n    '_allowSlideNext',\n    '_swipeHandler',\n    '_noSwiping',\n    'noSwipingClass',\n    'noSwipingSelector',\n    'passiveListeners',\n    'containerModifierClass',\n    'slideClass',\n    'slideBlankClass',\n    'slideActiveClass',\n    'slideDuplicateActiveClass',\n    'slideVisibleClass',\n    'slideDuplicateClass',\n    'slideNextClass',\n    'slideDuplicateNextClass',\n    'slidePrevClass',\n    'slideDuplicatePrevClass',\n    'wrapperClass',\n    'runCallbacksOnInit',\n    'observer',\n    'observeParents',\n    'observeSlideChildren',\n    // modules\n    'a11y',\n    'autoplay',\n    '_controller',\n    'coverflowEffect',\n    'cubeEffect',\n    'fadeEffect',\n    'flipEffect',\n    'creativeEffect',\n    'cardsEffect',\n    'hashNavigation',\n    'history',\n    'keyboard',\n    'lazy',\n    'mousewheel',\n    '_navigation',\n    '_pagination',\n    'parallax',\n    '_scrollbar',\n    '_thumbs',\n    'virtual',\n    'zoom',\n    'on',\n];\n\nfunction isObject(o) {\n    return (typeof o === 'object' &&\n        o !== null &&\n        o.constructor &&\n        Object.prototype.toString.call(o).slice(8, -1) === 'Object');\n}\nfunction isEnabled(val) {\n    return typeof val !== 'undefined' && typeof val !== 'boolean' && val.enabled === true;\n}\nfunction isShowEl(val, obj, el) {\n    return ((coerceBooleanProperty(val) === true && obj && !obj.el) ||\n        !(typeof obj !== 'boolean' &&\n            obj.el !== (el === null || el === void 0 ? void 0 : el.nativeElement) &&\n            (typeof obj.el === 'string' || typeof obj.el === 'object')));\n}\nfunction extend(target, src) {\n    const noExtend = ['__proto__', 'constructor', 'prototype'];\n    Object.keys(src)\n        .filter((key) => noExtend.indexOf(key) < 0)\n        .forEach((key) => {\n        if (typeof target[key] === 'undefined') {\n            target[key] = src[key];\n            return;\n        }\n        if (target[key] && !src[key]) {\n            return;\n        }\n        if (isObject(src[key]) && isObject(target[key]) && Object.keys(src[key]).length > 0) {\n            if (src[key].__swiper__)\n                target[key] = src[key];\n            else\n                extend(target[key], src[key]);\n        }\n        else {\n            target[key] = src[key];\n        }\n    });\n}\nfunction coerceBooleanProperty(value) {\n    return value != null && `${value}` !== 'false';\n}\nconst ignoreNgOnChanges = ['pagination', 'navigation', 'scrollbar', 'virtual'];\nfunction setProperty(val, obj = {}) {\n    if (isObject(val)) {\n        return val;\n    }\n    if (coerceBooleanProperty(val) === true) {\n        return obj;\n    }\n    return false;\n}\n\n// @ts-ignore\nconst allowedParams = paramsList.map((key) => key.replace(/_/, ''));\nfunction getParams(obj = {}) {\n    const params = {\n        on: {},\n    };\n    // const events = {};\n    const passedParams = {};\n    extend(params, Swiper.defaults);\n    extend(params, Swiper.extendedDefaults);\n    params._emitClasses = true;\n    params.init = false;\n    const rest = {};\n    const allowedParams = paramsList.map((key) => key.replace(/_/, ''));\n    Object.keys(obj).forEach((key) => {\n        const _key = key.replace(/^_/, '');\n        if (allowedParams.indexOf(_key) >= 0) {\n            if (isObject(obj[key])) {\n                params[_key] = {};\n                passedParams[_key] = {};\n                extend(params[_key], obj[key]);\n                extend(passedParams[_key], obj[key]);\n            }\n            else {\n                params[_key] = obj[key];\n                passedParams[_key] = obj[key];\n            }\n        }\n        // else if (key.search(/on[A-Z]/) === 0 && typeof obj[key] === 'function') {\n        //   events[`${_key[2].toLowerCase()}${key.substr(3)}`] = obj[key];\n        // }\n        else {\n            rest[_key] = obj[key];\n        }\n    });\n    ['navigation', 'pagination', 'scrollbar'].forEach((key) => {\n        if (params[key] === true)\n            params[key] = {};\n        if (params[key] === false)\n            delete params[key];\n    });\n    return { params, passedParams, rest };\n}\n\nclass SwiperSlideDirective {\n    constructor(template) {\n        this.template = template;\n        this.class = '';\n        this.autoplayDelay = null;\n        this.slideData = {\n            isActive: false,\n            isPrev: false,\n            isNext: false,\n            isVisible: false,\n            isDuplicate: false,\n        };\n    }\n    set ngClass(val) {\n        this.class = [this.class || '', val].join(' ');\n    }\n    set zoom(val) {\n        this._zoom = coerceBooleanProperty(val);\n    }\n    get zoom() {\n        return this._zoom;\n    }\n    get classNames() {\n        return this._classNames;\n    }\n    set classNames(val) {\n        if (this._classNames === val) {\n            return;\n        }\n        this._classNames = val;\n        this.slideData = {\n            isActive: this._hasClass(['swiper-slide-active', 'swiper-slide-duplicate-active']),\n            isVisible: this._hasClass(['swiper-slide-visible']),\n            isDuplicate: this._hasClass(['swiper-slide-duplicate']),\n            isPrev: this._hasClass(['swiper-slide-prev', 'swiper-slide-duplicate-prev']),\n            isNext: this._hasClass(['swiper-slide-next', 'swiper-slide-duplicate-next']),\n        };\n    }\n    _hasClass(classNames) {\n        return classNames.some((className) => this._classNames.indexOf(className) >= 0);\n    }\n}\nSwiperSlideDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: SwiperSlideDirective, deps: [{ token: i0.TemplateRef }], target: i0.ɵɵFactoryTarget.Directive });\nSwiperSlideDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.11\", type: SwiperSlideDirective, selector: \"ng-template[swiperSlide]\", inputs: { virtualIndex: \"virtualIndex\", class: \"class\", ngClass: \"ngClass\", autoplayDelay: [\"data-swiper-autoplay\", \"autoplayDelay\"], zoom: \"zoom\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: SwiperSlideDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'ng-template[swiperSlide]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; }, propDecorators: { virtualIndex: [{\n                type: Input\n            }], class: [{\n                type: Input\n            }], ngClass: [{\n                type: Input\n            }], autoplayDelay: [{\n                type: Input,\n                args: ['data-swiper-autoplay']\n            }], zoom: [{\n                type: Input\n            }] } });\n\nclass SwiperComponent {\n    constructor(_ngZone, elementRef, _changeDetectorRef, _platformId) {\n        this._ngZone = _ngZone;\n        this.elementRef = elementRef;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._platformId = _platformId;\n        this.slideClass = 'swiper-slide';\n        this.wrapperClass = 'swiper-wrapper';\n        this.showNavigation = true;\n        this.showPagination = true;\n        this.showScrollbar = true;\n        this.s__beforeBreakpoint = new EventEmitter();\n        this.s__containerClasses = new EventEmitter();\n        this.s__slideClass = new EventEmitter();\n        this.s__swiper = new EventEmitter();\n        this.s_activeIndexChange = new EventEmitter();\n        this.s_afterInit = new EventEmitter();\n        this.s_autoplay = new EventEmitter();\n        this.s_autoplayStart = new EventEmitter();\n        this.s_autoplayStop = new EventEmitter();\n        this.s_autoplayPause = new EventEmitter();\n        this.s_autoplayResume = new EventEmitter();\n        this.s_beforeDestroy = new EventEmitter();\n        this.s_beforeInit = new EventEmitter();\n        this.s_beforeLoopFix = new EventEmitter();\n        this.s_beforeResize = new EventEmitter();\n        this.s_beforeSlideChangeStart = new EventEmitter();\n        this.s_beforeTransitionStart = new EventEmitter();\n        this.s_breakpoint = new EventEmitter();\n        this.s_changeDirection = new EventEmitter();\n        this.s_click = new EventEmitter();\n        this.s_doubleTap = new EventEmitter();\n        this.s_doubleClick = new EventEmitter();\n        this.s_destroy = new EventEmitter();\n        this.s_fromEdge = new EventEmitter();\n        this.s_hashChange = new EventEmitter();\n        this.s_hashSet = new EventEmitter();\n        this.s_imagesReady = new EventEmitter();\n        this.s_init = new EventEmitter();\n        this.s_keyPress = new EventEmitter();\n        this.s_lazyImageLoad = new EventEmitter();\n        this.s_lazyImageReady = new EventEmitter();\n        this.s_loopFix = new EventEmitter();\n        this.s_momentumBounce = new EventEmitter();\n        this.s_navigationHide = new EventEmitter();\n        this.s_navigationShow = new EventEmitter();\n        this.s_navigationPrev = new EventEmitter();\n        this.s_navigationNext = new EventEmitter();\n        this.s_observerUpdate = new EventEmitter();\n        this.s_orientationchange = new EventEmitter();\n        this.s_paginationHide = new EventEmitter();\n        this.s_paginationRender = new EventEmitter();\n        this.s_paginationShow = new EventEmitter();\n        this.s_paginationUpdate = new EventEmitter();\n        this.s_progress = new EventEmitter();\n        this.s_reachBeginning = new EventEmitter();\n        this.s_reachEnd = new EventEmitter();\n        this.s_realIndexChange = new EventEmitter();\n        this.s_resize = new EventEmitter();\n        this.s_scroll = new EventEmitter();\n        this.s_scrollbarDragEnd = new EventEmitter();\n        this.s_scrollbarDragMove = new EventEmitter();\n        this.s_scrollbarDragStart = new EventEmitter();\n        this.s_setTransition = new EventEmitter();\n        this.s_setTranslate = new EventEmitter();\n        this.s_slideChange = new EventEmitter();\n        this.s_slideChangeTransitionEnd = new EventEmitter();\n        this.s_slideChangeTransitionStart = new EventEmitter();\n        this.s_slideNextTransitionEnd = new EventEmitter();\n        this.s_slideNextTransitionStart = new EventEmitter();\n        this.s_slidePrevTransitionEnd = new EventEmitter();\n        this.s_slidePrevTransitionStart = new EventEmitter();\n        this.s_slideResetTransitionStart = new EventEmitter();\n        this.s_slideResetTransitionEnd = new EventEmitter();\n        this.s_sliderMove = new EventEmitter();\n        this.s_sliderFirstMove = new EventEmitter();\n        this.s_slidesLengthChange = new EventEmitter();\n        this.s_slidesGridLengthChange = new EventEmitter();\n        this.s_snapGridLengthChange = new EventEmitter();\n        this.s_snapIndexChange = new EventEmitter();\n        this.s_tap = new EventEmitter();\n        this.s_toEdge = new EventEmitter();\n        this.s_touchEnd = new EventEmitter();\n        this.s_touchMove = new EventEmitter();\n        this.s_touchMoveOpposite = new EventEmitter();\n        this.s_touchStart = new EventEmitter();\n        this.s_transitionEnd = new EventEmitter();\n        this.s_transitionStart = new EventEmitter();\n        this.s_update = new EventEmitter();\n        this.s_zoomChange = new EventEmitter();\n        this.s_swiper = new EventEmitter();\n        this.s_lock = new EventEmitter();\n        this.s_unlock = new EventEmitter();\n        this._activeSlides = new Subject();\n        this.containerClasses = 'swiper';\n        this.slidesChanges = (val) => {\n            this.slides = val.map((slide, index) => {\n                slide.slideIndex = index;\n                slide.classNames = this.slideClass || '';\n                return slide;\n            });\n            if (this.loop && !this.loopedSlides) {\n                this.calcLoopedSlides();\n            }\n            if (!this.virtual) {\n                if (this.loopedSlides) {\n                    this.prependSlides = of(this.slides.slice(this.slides.length - this.loopedSlides));\n                    this.appendSlides = of(this.slides.slice(0, this.loopedSlides));\n                }\n            }\n            else if (this.swiperRef && this.swiperRef.virtual) {\n                this._ngZone.runOutsideAngular(() => {\n                    this.swiperRef.virtual.slides = this.slides;\n                    this.swiperRef.virtual.update(true);\n                });\n            }\n            this._changeDetectorRef.detectChanges();\n        };\n        this.style = null;\n        this.updateVirtualSlides = (virtualData) => {\n            // TODO: type virtualData\n            if (!this.swiperRef ||\n                (this.currentVirtualData &&\n                    this.currentVirtualData.from === virtualData.from &&\n                    this.currentVirtualData.to === virtualData.to &&\n                    this.currentVirtualData.offset === virtualData.offset)) {\n                return;\n            }\n            this.style = this.swiperRef.isHorizontal()\n                ? {\n                    [this.swiperRef.rtlTranslate ? 'right' : 'left']: `${virtualData.offset}px`,\n                }\n                : {\n                    top: `${virtualData.offset}px`,\n                };\n            this.currentVirtualData = virtualData;\n            this._activeSlides.next(virtualData.slides);\n            this._ngZone.run(() => {\n                this._changeDetectorRef.detectChanges();\n            });\n            this._ngZone.runOutsideAngular(() => {\n                this.swiperRef.updateSlides();\n                this.swiperRef.updateProgress();\n                this.swiperRef.updateSlidesClasses();\n                if (isEnabled(this.swiperRef.params.lazy)) {\n                    this.swiperRef.lazy.load();\n                }\n                this.swiperRef.virtual.update(true);\n            });\n            return;\n        };\n    }\n    set navigation(val) {\n        var _a, _b, _c;\n        const currentNext = typeof this._navigation !== 'boolean' && this._navigation !== ''\n            ? (_a = this._navigation) === null || _a === void 0 ? void 0 : _a.nextEl\n            : null;\n        const currentPrev = typeof this._navigation !== 'boolean' && this._navigation !== ''\n            ? (_b = this._navigation) === null || _b === void 0 ? void 0 : _b.prevEl\n            : null;\n        this._navigation = setProperty(val, {\n            nextEl: currentNext || null,\n            prevEl: currentPrev || null,\n        });\n        this.showNavigation = !(coerceBooleanProperty(val) !== true ||\n            (this._navigation &&\n                typeof this._navigation !== 'boolean' &&\n                this._navigation.prevEl !== ((_c = this._prevElRef) === null || _c === void 0 ? void 0 : _c.nativeElement) &&\n                (this._navigation.prevEl !== null || this._navigation.nextEl !== null) &&\n                (typeof this._navigation.nextEl === 'string' ||\n                    typeof this._navigation.prevEl === 'string' ||\n                    typeof this._navigation.nextEl === 'object' ||\n                    typeof this._navigation.prevEl === 'object')));\n    }\n    get navigation() {\n        return this._navigation;\n    }\n    set pagination(val) {\n        var _a;\n        const current = typeof this._pagination !== 'boolean' && this._pagination !== ''\n            ? (_a = this._pagination) === null || _a === void 0 ? void 0 : _a.el\n            : null;\n        this._pagination = setProperty(val, {\n            el: current || null,\n        });\n        this.showPagination = isShowEl(val, this._pagination, this._paginationElRef);\n    }\n    get pagination() {\n        return this._pagination;\n    }\n    set scrollbar(val) {\n        var _a;\n        const current = typeof this._scrollbar !== 'boolean' && this._scrollbar !== '' ? (_a = this._scrollbar) === null || _a === void 0 ? void 0 : _a.el : null;\n        this._scrollbar = setProperty(val, {\n            el: current || null,\n        });\n        this.showScrollbar = isShowEl(val, this._scrollbar, this._scrollbarElRef);\n    }\n    get scrollbar() {\n        return this._scrollbar;\n    }\n    set virtual(val) {\n        this._virtual = setProperty(val);\n    }\n    get virtual() {\n        return this._virtual;\n    }\n    set config(val) {\n        this.updateSwiper(val);\n        const { params } = getParams(val);\n        Object.assign(this, params);\n    }\n    set prevElRef(el) {\n        this._prevElRef = el;\n        this._setElement(el, this.navigation, 'navigation', 'prevEl');\n    }\n    set nextElRef(el) {\n        this._nextElRef = el;\n        this._setElement(el, this.navigation, 'navigation', 'nextEl');\n    }\n    set scrollbarElRef(el) {\n        this._scrollbarElRef = el;\n        this._setElement(el, this.scrollbar, 'scrollbar');\n    }\n    set paginationElRef(el) {\n        this._paginationElRef = el;\n        this._setElement(el, this.pagination, 'pagination');\n    }\n    get activeSlides() {\n        if (this.virtual) {\n            return this._activeSlides;\n        }\n        return of(this.slides);\n    }\n    get zoomContainerClass() {\n        return this.zoom && typeof this.zoom !== 'boolean'\n            ? this.zoom.containerClass\n            : 'swiper-zoom-container';\n    }\n    _setElement(el, ref, update, key = 'el') {\n        if (!ref || !el)\n            return;\n        if (el.nativeElement) {\n            if (ref[key] === el.nativeElement) {\n                return;\n            }\n            ref[key] = el.nativeElement;\n        }\n        const updateObj = {};\n        updateObj[update] = true;\n        this.updateInitSwiper(updateObj);\n    }\n    ngOnInit() {\n        const { params } = getParams(this);\n        Object.assign(this, params);\n    }\n    ngAfterViewInit() {\n        this.childrenSlidesInit();\n        this.initSwiper();\n        this._changeDetectorRef.detectChanges();\n        setTimeout(() => {\n            this.s_swiper.emit(this.swiperRef);\n        });\n    }\n    childrenSlidesInit() {\n        this.slidesChanges(this.slidesEl);\n        this.slidesEl.changes.subscribe(this.slidesChanges);\n    }\n    get isSwiperActive() {\n        return this.swiperRef && !this.swiperRef.destroyed;\n    }\n    initSwiper() {\n        const { params: swiperParams, passedParams } = getParams(this);\n        Object.assign(this, swiperParams);\n        this._ngZone.runOutsideAngular(() => {\n            swiperParams.init = false;\n            if (!swiperParams.virtual) {\n                swiperParams.observer = true;\n            }\n            swiperParams.onAny = (eventName, ...args) => {\n                const emitter = this[('s_' + eventName)];\n                if (emitter) {\n                    emitter.emit([...args]);\n                }\n            };\n            const _slideClasses = (_, updated) => {\n                updated.forEach(({ slideEl, classNames }, index) => {\n                    const dataIndex = slideEl.getAttribute('data-swiper-slide-index');\n                    const slideIndex = dataIndex ? parseInt(dataIndex) : index;\n                    if (this.virtual) {\n                        const virtualSlide = this.slides.find((item) => {\n                            return item.virtualIndex && item.virtualIndex === slideIndex;\n                        });\n                        if (virtualSlide) {\n                            virtualSlide.classNames = classNames;\n                            return;\n                        }\n                    }\n                    if (this.slides[slideIndex]) {\n                        this.slides[slideIndex].classNames = classNames;\n                    }\n                });\n                this._changeDetectorRef.detectChanges();\n            };\n            const _containerClasses = (_, classes) => {\n                setTimeout(() => {\n                    this.containerClasses = classes;\n                });\n            };\n            Object.assign(swiperParams.on, {\n                _containerClasses,\n                _slideClasses,\n            });\n            const swiperRef = new Swiper(swiperParams);\n            swiperRef.loopCreate = () => { };\n            swiperRef.loopDestroy = () => { };\n            if (swiperParams.loop) {\n                swiperRef.loopedSlides = this.loopedSlides;\n            }\n            const isVirtualEnabled = isEnabled(swiperRef.params.virtual);\n            if (swiperRef.virtual && isVirtualEnabled) {\n                swiperRef.virtual.slides = this.slides;\n                const extendWith = {\n                    cache: false,\n                    slides: this.slides,\n                    renderExternal: this.updateVirtualSlides,\n                    renderExternalUpdate: false,\n                };\n                extend(swiperRef.params.virtual, extendWith);\n                extend(swiperRef.originalParams.virtual, extendWith);\n            }\n            if (isPlatformBrowser(this._platformId)) {\n                this.swiperRef = swiperRef.init(this.elementRef.nativeElement);\n                const isVirtualEnabled = isEnabled(this.swiperRef.params.virtual);\n                if (this.swiperRef.virtual && isVirtualEnabled) {\n                    this.swiperRef.virtual.update(true);\n                }\n                this._changeDetectorRef.detectChanges();\n            }\n        });\n    }\n    ngOnChanges(changedParams) {\n        this.updateSwiper(changedParams);\n        this._changeDetectorRef.detectChanges();\n    }\n    updateInitSwiper(changedParams) {\n        if (!(changedParams && this.swiperRef && !this.swiperRef.destroyed)) {\n            return;\n        }\n        this._ngZone.runOutsideAngular(() => {\n            const { params: currentParams, pagination, navigation, scrollbar, virtual, thumbs, } = this.swiperRef;\n            if (changedParams.pagination) {\n                if (this.pagination &&\n                    typeof this.pagination !== 'boolean' &&\n                    this.pagination.el &&\n                    pagination &&\n                    !pagination.el) {\n                    this.updateParameter('pagination', this.pagination);\n                    pagination.init();\n                    pagination.render();\n                    pagination.update();\n                }\n                else {\n                    pagination.destroy();\n                    pagination.el = null;\n                }\n            }\n            if (changedParams.scrollbar) {\n                if (this.scrollbar &&\n                    typeof this.scrollbar !== 'boolean' &&\n                    this.scrollbar.el &&\n                    scrollbar &&\n                    !scrollbar.el) {\n                    this.updateParameter('scrollbar', this.scrollbar);\n                    scrollbar.init();\n                    scrollbar.updateSize();\n                    scrollbar.setTranslate();\n                }\n                else {\n                    scrollbar.destroy();\n                    scrollbar.el = null;\n                }\n            }\n            if (changedParams.navigation) {\n                if (this.navigation &&\n                    typeof this.navigation !== 'boolean' &&\n                    this.navigation.prevEl &&\n                    this.navigation.nextEl &&\n                    navigation &&\n                    !navigation.prevEl &&\n                    !navigation.nextEl) {\n                    this.updateParameter('navigation', this.navigation);\n                    navigation.init();\n                    navigation.update();\n                }\n                else if (navigation.prevEl && navigation.nextEl) {\n                    navigation.destroy();\n                    navigation.nextEl = null;\n                    navigation.prevEl = null;\n                }\n            }\n            if (changedParams.thumbs && this.thumbs && this.thumbs.swiper) {\n                this.updateParameter('thumbs', this.thumbs);\n                const initialized = thumbs.init();\n                if (initialized)\n                    thumbs.update(true);\n            }\n            if (changedParams.controller && this.controller && this.controller.control) {\n                this.swiperRef.controller.control = this.controller.control;\n            }\n            this.swiperRef.update();\n        });\n    }\n    updateSwiper(changedParams) {\n        this._ngZone.runOutsideAngular(() => {\n            var _a, _b;\n            if (changedParams.config) {\n                return;\n            }\n            if (!(changedParams && this.swiperRef && !this.swiperRef.destroyed)) {\n                return;\n            }\n            for (const key in changedParams) {\n                if (ignoreNgOnChanges.indexOf(key) >= 0) {\n                    continue;\n                }\n                const newValue = (_b = (_a = changedParams[key]) === null || _a === void 0 ? void 0 : _a.currentValue) !== null && _b !== void 0 ? _b : changedParams[key];\n                this.updateParameter(key, newValue);\n            }\n            if (changedParams.allowSlideNext) {\n                this.swiperRef.allowSlideNext = this.allowSlideNext;\n            }\n            if (changedParams.allowSlidePrev) {\n                this.swiperRef.allowSlidePrev = this.allowSlidePrev;\n            }\n            if (changedParams.direction) {\n                this.swiperRef.changeDirection(this.direction, false);\n            }\n            if (changedParams.breakpoints) {\n                if (this.loop && !this.loopedSlides) {\n                    this.calcLoopedSlides();\n                }\n                this.swiperRef.currentBreakpoint = null;\n                this.swiperRef.setBreakpoint();\n            }\n            if (changedParams.thumbs || changedParams.controller) {\n                this.updateInitSwiper(changedParams);\n            }\n            this.swiperRef.update();\n        });\n    }\n    calcLoopedSlides() {\n        if (!this.loop) {\n            return false;\n        }\n        let slidesPerViewParams = this.slidesPerView;\n        if (this.breakpoints) {\n            const breakpoint = Swiper.prototype.getBreakpoint(this.breakpoints);\n            const breakpointOnlyParams = breakpoint in this.breakpoints ? this.breakpoints[breakpoint] : undefined;\n            if (breakpointOnlyParams && breakpointOnlyParams.slidesPerView) {\n                slidesPerViewParams = breakpointOnlyParams.slidesPerView;\n            }\n        }\n        if (slidesPerViewParams === 'auto') {\n            this.loopedSlides = this.slides.length;\n            return this.slides.length;\n        }\n        let loopedSlides = this.loopedSlides || slidesPerViewParams;\n        if (!loopedSlides) {\n            // ?\n            return false;\n        }\n        if (this.loopAdditionalSlides) {\n            loopedSlides += this.loopAdditionalSlides;\n        }\n        if (loopedSlides > this.slides.length) {\n            loopedSlides = this.slides.length;\n        }\n        this.loopedSlides = loopedSlides;\n        return true;\n    }\n    updateParameter(key, value) {\n        if (!(this.swiperRef && !this.swiperRef.destroyed)) {\n            return;\n        }\n        const _key = key.replace(/^_/, '');\n        const isCurrentParamObj = isObject(this.swiperRef.params[_key]);\n        if (_key === 'enabled') {\n            if (value === true) {\n                this.swiperRef.enable();\n            }\n            else if (value === false) {\n                this.swiperRef.disable();\n            }\n            return;\n        }\n        if (isCurrentParamObj && isObject(value)) {\n            extend(this.swiperRef.params[_key], value);\n        }\n        else {\n            this.swiperRef.params[_key] = value;\n        }\n    }\n    ngOnDestroy() {\n        this._ngZone.runOutsideAngular(() => {\n            var _a;\n            (_a = this.swiperRef) === null || _a === void 0 ? void 0 : _a.destroy(true, false);\n        });\n    }\n}\nSwiperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: SwiperComponent, deps: [{ token: i0.NgZone }, { token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: PLATFORM_ID }], target: i0.ɵɵFactoryTarget.Component });\nSwiperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.11\", type: SwiperComponent, selector: \"swiper, [swiper]\", inputs: { enabled: \"enabled\", on: \"on\", direction: \"direction\", touchEventsTarget: \"touchEventsTarget\", initialSlide: \"initialSlide\", speed: \"speed\", cssMode: \"cssMode\", updateOnWindowResize: \"updateOnWindowResize\", resizeObserver: \"resizeObserver\", nested: \"nested\", focusableElements: \"focusableElements\", width: \"width\", height: \"height\", preventInteractionOnTransition: \"preventInteractionOnTransition\", userAgent: \"userAgent\", url: \"url\", edgeSwipeDetection: \"edgeSwipeDetection\", edgeSwipeThreshold: \"edgeSwipeThreshold\", freeMode: \"freeMode\", autoHeight: \"autoHeight\", setWrapperSize: \"setWrapperSize\", virtualTranslate: \"virtualTranslate\", effect: \"effect\", breakpoints: \"breakpoints\", spaceBetween: \"spaceBetween\", slidesPerView: \"slidesPerView\", maxBackfaceHiddenSlides: \"maxBackfaceHiddenSlides\", grid: \"grid\", slidesPerGroup: \"slidesPerGroup\", slidesPerGroupSkip: \"slidesPerGroupSkip\", centeredSlides: \"centeredSlides\", centeredSlidesBounds: \"centeredSlidesBounds\", slidesOffsetBefore: \"slidesOffsetBefore\", slidesOffsetAfter: \"slidesOffsetAfter\", normalizeSlideIndex: \"normalizeSlideIndex\", centerInsufficientSlides: \"centerInsufficientSlides\", watchOverflow: \"watchOverflow\", roundLengths: \"roundLengths\", touchRatio: \"touchRatio\", touchAngle: \"touchAngle\", simulateTouch: \"simulateTouch\", shortSwipes: \"shortSwipes\", longSwipes: \"longSwipes\", longSwipesRatio: \"longSwipesRatio\", longSwipesMs: \"longSwipesMs\", followFinger: \"followFinger\", allowTouchMove: \"allowTouchMove\", threshold: \"threshold\", touchMoveStopPropagation: \"touchMoveStopPropagation\", touchStartPreventDefault: \"touchStartPreventDefault\", touchStartForcePreventDefault: \"touchStartForcePreventDefault\", touchReleaseOnEdges: \"touchReleaseOnEdges\", uniqueNavElements: \"uniqueNavElements\", resistance: \"resistance\", resistanceRatio: \"resistanceRatio\", watchSlidesProgress: \"watchSlidesProgress\", grabCursor: \"grabCursor\", preventClicks: \"preventClicks\", preventClicksPropagation: \"preventClicksPropagation\", slideToClickedSlide: \"slideToClickedSlide\", preloadImages: \"preloadImages\", updateOnImagesReady: \"updateOnImagesReady\", loop: \"loop\", loopAdditionalSlides: \"loopAdditionalSlides\", loopedSlides: \"loopedSlides\", loopedSlidesLimit: \"loopedSlidesLimit\", loopFillGroupWithBlank: \"loopFillGroupWithBlank\", loopPreventsSlide: \"loopPreventsSlide\", rewind: \"rewind\", allowSlidePrev: \"allowSlidePrev\", allowSlideNext: \"allowSlideNext\", swipeHandler: \"swipeHandler\", noSwiping: \"noSwiping\", noSwipingClass: \"noSwipingClass\", noSwipingSelector: \"noSwipingSelector\", passiveListeners: \"passiveListeners\", containerModifierClass: \"containerModifierClass\", slideClass: \"slideClass\", slideBlankClass: \"slideBlankClass\", slideActiveClass: \"slideActiveClass\", slideDuplicateActiveClass: \"slideDuplicateActiveClass\", slideVisibleClass: \"slideVisibleClass\", slideDuplicateClass: \"slideDuplicateClass\", slideNextClass: \"slideNextClass\", slideDuplicateNextClass: \"slideDuplicateNextClass\", slidePrevClass: \"slidePrevClass\", slideDuplicatePrevClass: \"slideDuplicatePrevClass\", wrapperClass: \"wrapperClass\", runCallbacksOnInit: \"runCallbacksOnInit\", observeParents: \"observeParents\", observeSlideChildren: \"observeSlideChildren\", a11y: \"a11y\", autoplay: \"autoplay\", controller: \"controller\", coverflowEffect: \"coverflowEffect\", cubeEffect: \"cubeEffect\", fadeEffect: \"fadeEffect\", flipEffect: \"flipEffect\", creativeEffect: \"creativeEffect\", cardsEffect: \"cardsEffect\", hashNavigation: \"hashNavigation\", history: \"history\", keyboard: \"keyboard\", lazy: \"lazy\", mousewheel: \"mousewheel\", parallax: \"parallax\", thumbs: \"thumbs\", zoom: \"zoom\", class: \"class\", id: \"id\", navigation: \"navigation\", pagination: \"pagination\", scrollbar: \"scrollbar\", virtual: \"virtual\", config: \"config\" }, outputs: { s__beforeBreakpoint: \"_beforeBreakpoint\", s__containerClasses: \"_containerClasses\", s__slideClass: \"_slideClass\", s__swiper: \"_swiper\", s_activeIndexChange: \"activeIndexChange\", s_afterInit: \"afterInit\", s_autoplay: \"autoplay\", s_autoplayStart: \"autoplayStart\", s_autoplayStop: \"autoplayStop\", s_autoplayPause: \"autoplayPause\", s_autoplayResume: \"autoplayResume\", s_beforeDestroy: \"beforeDestroy\", s_beforeInit: \"beforeInit\", s_beforeLoopFix: \"beforeLoopFix\", s_beforeResize: \"beforeResize\", s_beforeSlideChangeStart: \"beforeSlideChangeStart\", s_beforeTransitionStart: \"beforeTransitionStart\", s_breakpoint: \"breakpoint\", s_changeDirection: \"changeDirection\", s_click: \"click\", s_doubleTap: \"doubleTap\", s_doubleClick: \"doubleClick\", s_destroy: \"destroy\", s_fromEdge: \"fromEdge\", s_hashChange: \"hashChange\", s_hashSet: \"hashSet\", s_imagesReady: \"imagesReady\", s_init: \"init\", s_keyPress: \"keyPress\", s_lazyImageLoad: \"lazyImageLoad\", s_lazyImageReady: \"lazyImageReady\", s_loopFix: \"loopFix\", s_momentumBounce: \"momentumBounce\", s_navigationHide: \"navigationHide\", s_navigationShow: \"navigationShow\", s_navigationPrev: \"navigationPrev\", s_navigationNext: \"navigationNext\", s_observerUpdate: \"observerUpdate\", s_orientationchange: \"orientationchange\", s_paginationHide: \"paginationHide\", s_paginationRender: \"paginationRender\", s_paginationShow: \"paginationShow\", s_paginationUpdate: \"paginationUpdate\", s_progress: \"progress\", s_reachBeginning: \"reachBeginning\", s_reachEnd: \"reachEnd\", s_realIndexChange: \"realIndexChange\", s_resize: \"resize\", s_scroll: \"scroll\", s_scrollbarDragEnd: \"scrollbarDragEnd\", s_scrollbarDragMove: \"scrollbarDragMove\", s_scrollbarDragStart: \"scrollbarDragStart\", s_setTransition: \"setTransition\", s_setTranslate: \"setTranslate\", s_slideChange: \"slideChange\", s_slideChangeTransitionEnd: \"slideChangeTransitionEnd\", s_slideChangeTransitionStart: \"slideChangeTransitionStart\", s_slideNextTransitionEnd: \"slideNextTransitionEnd\", s_slideNextTransitionStart: \"slideNextTransitionStart\", s_slidePrevTransitionEnd: \"slidePrevTransitionEnd\", s_slidePrevTransitionStart: \"slidePrevTransitionStart\", s_slideResetTransitionStart: \"slideResetTransitionStart\", s_slideResetTransitionEnd: \"slideResetTransitionEnd\", s_sliderMove: \"sliderMove\", s_sliderFirstMove: \"sliderFirstMove\", s_slidesLengthChange: \"slidesLengthChange\", s_slidesGridLengthChange: \"slidesGridLengthChange\", s_snapGridLengthChange: \"snapGridLengthChange\", s_snapIndexChange: \"snapIndexChange\", s_tap: \"tap\", s_toEdge: \"toEdge\", s_touchEnd: \"touchEnd\", s_touchMove: \"touchMove\", s_touchMoveOpposite: \"touchMoveOpposite\", s_touchStart: \"touchStart\", s_transitionEnd: \"transitionEnd\", s_transitionStart: \"transitionStart\", s_update: \"update\", s_zoomChange: \"zoomChange\", s_swiper: \"swiper\", s_lock: \"lock\", s_unlock: \"unlock\" }, host: { properties: { \"class\": \"this.containerClasses\" } }, queries: [{ propertyName: \"slidesEl\", predicate: SwiperSlideDirective }], viewQueries: [{ propertyName: \"prevElRef\", first: true, predicate: [\"prevElRef\"], descendants: true }, { propertyName: \"nextElRef\", first: true, predicate: [\"nextElRef\"], descendants: true }, { propertyName: \"scrollbarElRef\", first: true, predicate: [\"scrollbarElRef\"], descendants: true }, { propertyName: \"paginationElRef\", first: true, predicate: [\"paginationElRef\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<ng-content select=\\\"[slot=container-start]\\\"></ng-content>\\n<ng-container *ngIf=\\\"navigation && showNavigation\\\">\\n  <div class=\\\"swiper-button-prev\\\" #prevElRef></div>\\n  <div class=\\\"swiper-button-next\\\" #nextElRef></div>\\n</ng-container>\\n<div *ngIf=\\\"scrollbar && showScrollbar\\\" class=\\\"swiper-scrollbar\\\" #scrollbarElRef></div>\\n<div *ngIf=\\\"pagination && showPagination\\\" class=\\\"swiper-pagination\\\" #paginationElRef></div>\\n<div [ngClass]=\\\"wrapperClass\\\" [attr.id]=\\\"id\\\">\\n  <ng-content select=\\\"[slot=wrapper-start]\\\"></ng-content>\\n  <ng-template\\n    *ngTemplateOutlet=\\\"\\n      slidesTemplate;\\n      context: {\\n        loopSlides: prependSlides,\\n        key: 'prepend'\\n      }\\n    \\\"\\n  ></ng-template>\\n  <ng-template\\n    *ngTemplateOutlet=\\\"\\n      slidesTemplate;\\n      context: {\\n        loopSlides: activeSlides,\\n        key: ''\\n      }\\n    \\\"\\n  ></ng-template>\\n  <ng-template\\n    *ngTemplateOutlet=\\\"\\n      slidesTemplate;\\n      context: {\\n        loopSlides: appendSlides,\\n        key: 'append'\\n      }\\n    \\\"\\n  ></ng-template>\\n  <ng-content select=\\\"[slot=wrapper-end]\\\"></ng-content>\\n</div>\\n<ng-content select=\\\"[slot=container-end]\\\"></ng-content>\\n\\n<ng-template #slidesTemplate let-loopSlides=\\\"loopSlides\\\" let-slideKey=\\\"key\\\">\\n  <div\\n    *ngFor=\\\"let slide of loopSlides | async\\\"\\n    [ngClass]=\\\"\\n      (slide.class ? slide.class + ' ' : '') +\\n      slideClass +\\n      (slideKey !== '' ? ' ' + slideDuplicateClass : '')\\n    \\\"\\n    [attr.data-swiper-slide-index]=\\\"slide.virtualIndex ? slide.virtualIndex : slide.slideIndex\\\"\\n    [attr.data-swiper-autoplay]=\\\"slide.autoplayDelay\\\"\\n    [style]=\\\"style\\\"\\n    [ngSwitch]=\\\"slide.zoom\\\"\\n  >\\n    <div *ngSwitchCase=\\\"true\\\" [ngClass]=\\\"zoomContainerClass\\\">\\n      <ng-template\\n        [ngTemplateOutlet]=\\\"slide.template\\\"\\n        [ngTemplateOutletContext]=\\\"{\\n          $implicit: slide.slideData\\n        }\\\"\\n      ></ng-template>\\n    </div>\\n    <ng-container *ngSwitchDefault>\\n      <ng-template\\n        [ngTemplateOutlet]=\\\"slide.template\\\"\\n        [ngTemplateOutletContext]=\\\"{\\n          $implicit: slide.slideData\\n        }\\\"\\n      ></ng-template>\\n    </ng-container>\\n  </div>\\n</ng-template>\\n\", styles: [\"swiper{display:block}\\n\"], directives: [{ type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i1.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { type: i1.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { type: i1.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }], pipes: { \"async\": i1.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: SwiperComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'swiper, [swiper]', changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, styles: [\n                        `\n      swiper {\n        display: block;\n      }\n    `,\n                    ], template: \"<ng-content select=\\\"[slot=container-start]\\\"></ng-content>\\n<ng-container *ngIf=\\\"navigation && showNavigation\\\">\\n  <div class=\\\"swiper-button-prev\\\" #prevElRef></div>\\n  <div class=\\\"swiper-button-next\\\" #nextElRef></div>\\n</ng-container>\\n<div *ngIf=\\\"scrollbar && showScrollbar\\\" class=\\\"swiper-scrollbar\\\" #scrollbarElRef></div>\\n<div *ngIf=\\\"pagination && showPagination\\\" class=\\\"swiper-pagination\\\" #paginationElRef></div>\\n<div [ngClass]=\\\"wrapperClass\\\" [attr.id]=\\\"id\\\">\\n  <ng-content select=\\\"[slot=wrapper-start]\\\"></ng-content>\\n  <ng-template\\n    *ngTemplateOutlet=\\\"\\n      slidesTemplate;\\n      context: {\\n        loopSlides: prependSlides,\\n        key: 'prepend'\\n      }\\n    \\\"\\n  ></ng-template>\\n  <ng-template\\n    *ngTemplateOutlet=\\\"\\n      slidesTemplate;\\n      context: {\\n        loopSlides: activeSlides,\\n        key: ''\\n      }\\n    \\\"\\n  ></ng-template>\\n  <ng-template\\n    *ngTemplateOutlet=\\\"\\n      slidesTemplate;\\n      context: {\\n        loopSlides: appendSlides,\\n        key: 'append'\\n      }\\n    \\\"\\n  ></ng-template>\\n  <ng-content select=\\\"[slot=wrapper-end]\\\"></ng-content>\\n</div>\\n<ng-content select=\\\"[slot=container-end]\\\"></ng-content>\\n\\n<ng-template #slidesTemplate let-loopSlides=\\\"loopSlides\\\" let-slideKey=\\\"key\\\">\\n  <div\\n    *ngFor=\\\"let slide of loopSlides | async\\\"\\n    [ngClass]=\\\"\\n      (slide.class ? slide.class + ' ' : '') +\\n      slideClass +\\n      (slideKey !== '' ? ' ' + slideDuplicateClass : '')\\n    \\\"\\n    [attr.data-swiper-slide-index]=\\\"slide.virtualIndex ? slide.virtualIndex : slide.slideIndex\\\"\\n    [attr.data-swiper-autoplay]=\\\"slide.autoplayDelay\\\"\\n    [style]=\\\"style\\\"\\n    [ngSwitch]=\\\"slide.zoom\\\"\\n  >\\n    <div *ngSwitchCase=\\\"true\\\" [ngClass]=\\\"zoomContainerClass\\\">\\n      <ng-template\\n        [ngTemplateOutlet]=\\\"slide.template\\\"\\n        [ngTemplateOutletContext]=\\\"{\\n          $implicit: slide.slideData\\n        }\\\"\\n      ></ng-template>\\n    </div>\\n    <ng-container *ngSwitchDefault>\\n      <ng-template\\n        [ngTemplateOutlet]=\\\"slide.template\\\"\\n        [ngTemplateOutletContext]=\\\"{\\n          $implicit: slide.slideData\\n        }\\\"\\n      ></ng-template>\\n    </ng-container>\\n  </div>\\n</ng-template>\\n\" }]\n        }], ctorParameters: function () {\n        return [{ type: i0.NgZone }, { type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: Object, decorators: [{\n                        type: Inject,\n                        args: [PLATFORM_ID]\n                    }] }];\n    }, propDecorators: { enabled: [{\n                type: Input\n            }], on: [{\n                type: Input\n            }], direction: [{\n                type: Input\n            }], touchEventsTarget: [{\n                type: Input\n            }], initialSlide: [{\n                type: Input\n            }], speed: [{\n                type: Input\n            }], cssMode: [{\n                type: Input\n            }], updateOnWindowResize: [{\n                type: Input\n            }], resizeObserver: [{\n                type: Input\n            }], nested: [{\n                type: Input\n            }], focusableElements: [{\n                type: Input\n            }], width: [{\n                type: Input\n            }], height: [{\n                type: Input\n            }], preventInteractionOnTransition: [{\n                type: Input\n            }], userAgent: [{\n                type: Input\n            }], url: [{\n                type: Input\n            }], edgeSwipeDetection: [{\n                type: Input\n            }], edgeSwipeThreshold: [{\n                type: Input\n            }], freeMode: [{\n                type: Input\n            }], autoHeight: [{\n                type: Input\n            }], setWrapperSize: [{\n                type: Input\n            }], virtualTranslate: [{\n                type: Input\n            }], effect: [{\n                type: Input\n            }], breakpoints: [{\n                type: Input\n            }], spaceBetween: [{\n                type: Input\n            }], slidesPerView: [{\n                type: Input\n            }], maxBackfaceHiddenSlides: [{\n                type: Input\n            }], grid: [{\n                type: Input\n            }], slidesPerGroup: [{\n                type: Input\n            }], slidesPerGroupSkip: [{\n                type: Input\n            }], centeredSlides: [{\n                type: Input\n            }], centeredSlidesBounds: [{\n                type: Input\n            }], slidesOffsetBefore: [{\n                type: Input\n            }], slidesOffsetAfter: [{\n                type: Input\n            }], normalizeSlideIndex: [{\n                type: Input\n            }], centerInsufficientSlides: [{\n                type: Input\n            }], watchOverflow: [{\n                type: Input\n            }], roundLengths: [{\n                type: Input\n            }], touchRatio: [{\n                type: Input\n            }], touchAngle: [{\n                type: Input\n            }], simulateTouch: [{\n                type: Input\n            }], shortSwipes: [{\n                type: Input\n            }], longSwipes: [{\n                type: Input\n            }], longSwipesRatio: [{\n                type: Input\n            }], longSwipesMs: [{\n                type: Input\n            }], followFinger: [{\n                type: Input\n            }], allowTouchMove: [{\n                type: Input\n            }], threshold: [{\n                type: Input\n            }], touchMoveStopPropagation: [{\n                type: Input\n            }], touchStartPreventDefault: [{\n                type: Input\n            }], touchStartForcePreventDefault: [{\n                type: Input\n            }], touchReleaseOnEdges: [{\n                type: Input\n            }], uniqueNavElements: [{\n                type: Input\n            }], resistance: [{\n                type: Input\n            }], resistanceRatio: [{\n                type: Input\n            }], watchSlidesProgress: [{\n                type: Input\n            }], grabCursor: [{\n                type: Input\n            }], preventClicks: [{\n                type: Input\n            }], preventClicksPropagation: [{\n                type: Input\n            }], slideToClickedSlide: [{\n                type: Input\n            }], preloadImages: [{\n                type: Input\n            }], updateOnImagesReady: [{\n                type: Input\n            }], loop: [{\n                type: Input\n            }], loopAdditionalSlides: [{\n                type: Input\n            }], loopedSlides: [{\n                type: Input\n            }], loopedSlidesLimit: [{\n                type: Input\n            }], loopFillGroupWithBlank: [{\n                type: Input\n            }], loopPreventsSlide: [{\n                type: Input\n            }], rewind: [{\n                type: Input\n            }], allowSlidePrev: [{\n                type: Input\n            }], allowSlideNext: [{\n                type: Input\n            }], swipeHandler: [{\n                type: Input\n            }], noSwiping: [{\n                type: Input\n            }], noSwipingClass: [{\n                type: Input\n            }], noSwipingSelector: [{\n                type: Input\n            }], passiveListeners: [{\n                type: Input\n            }], containerModifierClass: [{\n                type: Input\n            }], slideClass: [{\n                type: Input\n            }], slideBlankClass: [{\n                type: Input\n            }], slideActiveClass: [{\n                type: Input\n            }], slideDuplicateActiveClass: [{\n                type: Input\n            }], slideVisibleClass: [{\n                type: Input\n            }], slideDuplicateClass: [{\n                type: Input\n            }], slideNextClass: [{\n                type: Input\n            }], slideDuplicateNextClass: [{\n                type: Input\n            }], slidePrevClass: [{\n                type: Input\n            }], slideDuplicatePrevClass: [{\n                type: Input\n            }], wrapperClass: [{\n                type: Input\n            }], runCallbacksOnInit: [{\n                type: Input\n            }], observeParents: [{\n                type: Input\n            }], observeSlideChildren: [{\n                type: Input\n            }], a11y: [{\n                type: Input\n            }], autoplay: [{\n                type: Input\n            }], controller: [{\n                type: Input\n            }], coverflowEffect: [{\n                type: Input\n            }], cubeEffect: [{\n                type: Input\n            }], fadeEffect: [{\n                type: Input\n            }], flipEffect: [{\n                type: Input\n            }], creativeEffect: [{\n                type: Input\n            }], cardsEffect: [{\n                type: Input\n            }], hashNavigation: [{\n                type: Input\n            }], history: [{\n                type: Input\n            }], keyboard: [{\n                type: Input\n            }], lazy: [{\n                type: Input\n            }], mousewheel: [{\n                type: Input\n            }], parallax: [{\n                type: Input\n            }], thumbs: [{\n                type: Input\n            }], zoom: [{\n                type: Input\n            }], class: [{\n                type: Input\n            }], id: [{\n                type: Input\n            }], navigation: [{\n                type: Input\n            }], pagination: [{\n                type: Input\n            }], scrollbar: [{\n                type: Input\n            }], virtual: [{\n                type: Input\n            }], config: [{\n                type: Input\n            }], s__beforeBreakpoint: [{\n                type: Output,\n                args: ['_beforeBreakpoint']\n            }], s__containerClasses: [{\n                type: Output,\n                args: ['_containerClasses']\n            }], s__slideClass: [{\n                type: Output,\n                args: ['_slideClass']\n            }], s__swiper: [{\n                type: Output,\n                args: ['_swiper']\n            }], s_activeIndexChange: [{\n                type: Output,\n                args: ['activeIndexChange']\n            }], s_afterInit: [{\n                type: Output,\n                args: ['afterInit']\n            }], s_autoplay: [{\n                type: Output,\n                args: ['autoplay']\n            }], s_autoplayStart: [{\n                type: Output,\n                args: ['autoplayStart']\n            }], s_autoplayStop: [{\n                type: Output,\n                args: ['autoplayStop']\n            }], s_autoplayPause: [{\n                type: Output,\n                args: ['autoplayPause']\n            }], s_autoplayResume: [{\n                type: Output,\n                args: ['autoplayResume']\n            }], s_beforeDestroy: [{\n                type: Output,\n                args: ['beforeDestroy']\n            }], s_beforeInit: [{\n                type: Output,\n                args: ['beforeInit']\n            }], s_beforeLoopFix: [{\n                type: Output,\n                args: ['beforeLoopFix']\n            }], s_beforeResize: [{\n                type: Output,\n                args: ['beforeResize']\n            }], s_beforeSlideChangeStart: [{\n                type: Output,\n                args: ['beforeSlideChangeStart']\n            }], s_beforeTransitionStart: [{\n                type: Output,\n                args: ['beforeTransitionStart']\n            }], s_breakpoint: [{\n                type: Output,\n                args: ['breakpoint']\n            }], s_changeDirection: [{\n                type: Output,\n                args: ['changeDirection']\n            }], s_click: [{\n                type: Output,\n                args: ['click']\n            }], s_doubleTap: [{\n                type: Output,\n                args: ['doubleTap']\n            }], s_doubleClick: [{\n                type: Output,\n                args: ['doubleClick']\n            }], s_destroy: [{\n                type: Output,\n                args: ['destroy']\n            }], s_fromEdge: [{\n                type: Output,\n                args: ['fromEdge']\n            }], s_hashChange: [{\n                type: Output,\n                args: ['hashChange']\n            }], s_hashSet: [{\n                type: Output,\n                args: ['hashSet']\n            }], s_imagesReady: [{\n                type: Output,\n                args: ['imagesReady']\n            }], s_init: [{\n                type: Output,\n                args: ['init']\n            }], s_keyPress: [{\n                type: Output,\n                args: ['keyPress']\n            }], s_lazyImageLoad: [{\n                type: Output,\n                args: ['lazyImageLoad']\n            }], s_lazyImageReady: [{\n                type: Output,\n                args: ['lazyImageReady']\n            }], s_loopFix: [{\n                type: Output,\n                args: ['loopFix']\n            }], s_momentumBounce: [{\n                type: Output,\n                args: ['momentumBounce']\n            }], s_navigationHide: [{\n                type: Output,\n                args: ['navigationHide']\n            }], s_navigationShow: [{\n                type: Output,\n                args: ['navigationShow']\n            }], s_navigationPrev: [{\n                type: Output,\n                args: ['navigationPrev']\n            }], s_navigationNext: [{\n                type: Output,\n                args: ['navigationNext']\n            }], s_observerUpdate: [{\n                type: Output,\n                args: ['observerUpdate']\n            }], s_orientationchange: [{\n                type: Output,\n                args: ['orientationchange']\n            }], s_paginationHide: [{\n                type: Output,\n                args: ['paginationHide']\n            }], s_paginationRender: [{\n                type: Output,\n                args: ['paginationRender']\n            }], s_paginationShow: [{\n                type: Output,\n                args: ['paginationShow']\n            }], s_paginationUpdate: [{\n                type: Output,\n                args: ['paginationUpdate']\n            }], s_progress: [{\n                type: Output,\n                args: ['progress']\n            }], s_reachBeginning: [{\n                type: Output,\n                args: ['reachBeginning']\n            }], s_reachEnd: [{\n                type: Output,\n                args: ['reachEnd']\n            }], s_realIndexChange: [{\n                type: Output,\n                args: ['realIndexChange']\n            }], s_resize: [{\n                type: Output,\n                args: ['resize']\n            }], s_scroll: [{\n                type: Output,\n                args: ['scroll']\n            }], s_scrollbarDragEnd: [{\n                type: Output,\n                args: ['scrollbarDragEnd']\n            }], s_scrollbarDragMove: [{\n                type: Output,\n                args: ['scrollbarDragMove']\n            }], s_scrollbarDragStart: [{\n                type: Output,\n                args: ['scrollbarDragStart']\n            }], s_setTransition: [{\n                type: Output,\n                args: ['setTransition']\n            }], s_setTranslate: [{\n                type: Output,\n                args: ['setTranslate']\n            }], s_slideChange: [{\n                type: Output,\n                args: ['slideChange']\n            }], s_slideChangeTransitionEnd: [{\n                type: Output,\n                args: ['slideChangeTransitionEnd']\n            }], s_slideChangeTransitionStart: [{\n                type: Output,\n                args: ['slideChangeTransitionStart']\n            }], s_slideNextTransitionEnd: [{\n                type: Output,\n                args: ['slideNextTransitionEnd']\n            }], s_slideNextTransitionStart: [{\n                type: Output,\n                args: ['slideNextTransitionStart']\n            }], s_slidePrevTransitionEnd: [{\n                type: Output,\n                args: ['slidePrevTransitionEnd']\n            }], s_slidePrevTransitionStart: [{\n                type: Output,\n                args: ['slidePrevTransitionStart']\n            }], s_slideResetTransitionStart: [{\n                type: Output,\n                args: ['slideResetTransitionStart']\n            }], s_slideResetTransitionEnd: [{\n                type: Output,\n                args: ['slideResetTransitionEnd']\n            }], s_sliderMove: [{\n                type: Output,\n                args: ['sliderMove']\n            }], s_sliderFirstMove: [{\n                type: Output,\n                args: ['sliderFirstMove']\n            }], s_slidesLengthChange: [{\n                type: Output,\n                args: ['slidesLengthChange']\n            }], s_slidesGridLengthChange: [{\n                type: Output,\n                args: ['slidesGridLengthChange']\n            }], s_snapGridLengthChange: [{\n                type: Output,\n                args: ['snapGridLengthChange']\n            }], s_snapIndexChange: [{\n                type: Output,\n                args: ['snapIndexChange']\n            }], s_tap: [{\n                type: Output,\n                args: ['tap']\n            }], s_toEdge: [{\n                type: Output,\n                args: ['toEdge']\n            }], s_touchEnd: [{\n                type: Output,\n                args: ['touchEnd']\n            }], s_touchMove: [{\n                type: Output,\n                args: ['touchMove']\n            }], s_touchMoveOpposite: [{\n                type: Output,\n                args: ['touchMoveOpposite']\n            }], s_touchStart: [{\n                type: Output,\n                args: ['touchStart']\n            }], s_transitionEnd: [{\n                type: Output,\n                args: ['transitionEnd']\n            }], s_transitionStart: [{\n                type: Output,\n                args: ['transitionStart']\n            }], s_update: [{\n                type: Output,\n                args: ['update']\n            }], s_zoomChange: [{\n                type: Output,\n                args: ['zoomChange']\n            }], s_swiper: [{\n                type: Output,\n                args: ['swiper']\n            }], s_lock: [{\n                type: Output,\n                args: ['lock']\n            }], s_unlock: [{\n                type: Output,\n                args: ['unlock']\n            }], prevElRef: [{\n                type: ViewChild,\n                args: ['prevElRef', { static: false }]\n            }], nextElRef: [{\n                type: ViewChild,\n                args: ['nextElRef', { static: false }]\n            }], scrollbarElRef: [{\n                type: ViewChild,\n                args: ['scrollbarElRef', { static: false }]\n            }], paginationElRef: [{\n                type: ViewChild,\n                args: ['paginationElRef', { static: false }]\n            }], slidesEl: [{\n                type: ContentChildren,\n                args: [SwiperSlideDirective, { descendants: false, emitDistinctChangesOnly: true }]\n            }], containerClasses: [{\n                type: HostBinding,\n                args: ['class']\n            }] } });\n\nclass SwiperModule {\n}\nSwiperModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: SwiperModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nSwiperModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: SwiperModule, declarations: [SwiperComponent, SwiperSlideDirective], imports: [CommonModule], exports: [SwiperComponent, SwiperSlideDirective] });\nSwiperModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: SwiperModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: SwiperModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [SwiperComponent, SwiperSlideDirective],\n                    exports: [SwiperComponent, SwiperSlideDirective],\n                    imports: [CommonModule],\n                }]\n        }] });\n\n/*\n * Public API Surface of angular\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { SwiperComponent, SwiperModule, SwiperSlideDirective };\n","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor() {\n    let el;\n    let params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view, exact) {\n    if (view === void 0) {\n      view = 'current';\n    }\n\n    if (exact === void 0) {\n      exact = false;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopedSlidesLimit: true,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit() {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length && swiper.params.loopedSlidesLimit) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    $(el).attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < swiper.loopedSlides; i += 1) {\n    const index = i - Math.floor(i / slides.length) * slides.length;\n    appendSlides.push(slides.eq(index)[0]);\n    prependSlides.unshift(slides.eq(slides.length - index - 1)[0]);\n  }\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","import { getWindow } from 'ssr-window';\nexport default function Observer(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const observers = [];\n  const window = getWindow();\n\n  const attach = function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","import { getWindow } from 'ssr-window';\nexport default function Resize(_ref) {\n  let {\n    swiper,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(_ref2 => {\n          let {\n            contentBoxSize,\n            contentRect,\n            target\n          } = _ref2;\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  const translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","export default function transitionEmit(_ref) {\n  let {\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  } = _ref;\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size) {\n    if (size === void 0) {\n      size = 16;\n    }\n\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = $(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handleFocus = e => {\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n\n    if (swiper.isHorizontal()) {\n      swiper.el.scrollLeft = 0;\n    } else {\n      swiper.el.scrollTop = 0;\n    }\n\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole($(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    if (!swiper.size) {\n      swiper.autoplay.running = false;\n      swiper.autoplay.paused = false;\n      return;\n    }\n\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick } from '../../shared/utils.js';\nexport default function Controller(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCards(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -2 * progress;\n      let tXAdd = 8 - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCreative(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport effectInit from '../../shared/effect-init.js';\nexport default function EffectCube(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows($(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  effectInit({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}","import effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFade(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFlip(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = $(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import { now } from '../../shared/utils.js';\nexport default function freeMode(_ref) {\n  let {\n    swiper,\n    extendParams,\n    emit,\n    once\n  } = _ref;\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  }\n\n  function onTouchEnd(_ref2) {\n    let {\n      currentPos\n    } = _ref2;\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}","export default function Grid(_ref) {\n  let {\n    swiper,\n    extendParams\n  } = _ref;\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function HashNavigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    emit,\n    on\n  } = _ref;\n  let initialized = false;\n  const document = getDocument();\n  const window = getWindow();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function History(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = getWindow();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = getWindow();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate) {\n    if (loadInDuplicate === void 0) {\n      loadInDuplicate = true;\n    }\n\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}","import appendSlide from './methods/appendSlide.js';\nimport prependSlide from './methods/prependSlide.js';\nimport addSlide from './methods/addSlide.js';\nimport removeSlide from './methods/removeSlide.js';\nimport removeAllSlides from './methods/removeAllSlides.js';\nexport default function Manipulation(_ref) {\n  let {\n    swiper\n  } = _ref;\n  Object.assign(swiper, {\n    appendSlide: appendSlide.bind(swiper),\n    prependSlide: prependSlide.bind(swiper),\n    addSlide: addSlide.bind(swiper),\n    removeSlide: removeSlide.bind(swiper),\n    removeAllSlides: removeAllSlides.bind(swiper)\n  });\n}","export default function addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","export default function removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","/* eslint-disable consistent-return */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now, nextTick } from '../../shared/utils.js';\nexport default function Mousewheel(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nexport default function Parallax(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = function (duration) {\n    if (duration === void 0) {\n      duration = swiper.params.speed;\n    }\n\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = $(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}","import { isObject } from '../../shared/utils.js';\nimport $ from '../../shared/dom.js';\nexport default function Thumb(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}","import $ from '../../shared/dom.js';\nimport { setCSSProperty } from '../../shared/utils.js';\nexport default function Virtual(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","export default function classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}","export default function effectVirtualTransitionEnd(_ref) {\n  let {\n    swiper,\n    duration,\n    transformEl,\n    allSlides\n  } = _ref;\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice(_temp) {\n  let {\n    userAgent\n  } = _temp === void 0 ? {} : _temp;\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend() {\n  const to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < arguments.length; i += 1) {\n    const nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll(_ref) {\n  let {\n    swiper,\n    targetPosition,\n    side\n  } = _ref;\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","/**\n * Swiper 8.3.2\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2022 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: July 26, 2022\n */\n\nexport { default as Swiper, default } from './core/core.js';\nexport { default as Virtual } from './modules/virtual/virtual.js';\nexport { default as Keyboard } from './modules/keyboard/keyboard.js';\nexport { default as Mousewheel } from './modules/mousewheel/mousewheel.js';\nexport { default as Navigation } from './modules/navigation/navigation.js';\nexport { default as Pagination } from './modules/pagination/pagination.js';\nexport { default as Scrollbar } from './modules/scrollbar/scrollbar.js';\nexport { default as Parallax } from './modules/parallax/parallax.js';\nexport { default as Zoom } from './modules/zoom/zoom.js';\nexport { default as Lazy } from './modules/lazy/lazy.js';\nexport { default as Controller } from './modules/controller/controller.js';\nexport { default as A11y } from './modules/a11y/a11y.js';\nexport { default as History } from './modules/history/history.js';\nexport { default as HashNavigation } from './modules/hash-navigation/hash-navigation.js';\nexport { default as Autoplay } from './modules/autoplay/autoplay.js';\nexport { default as Thumbs } from './modules/thumbs/thumbs.js';\nexport { default as FreeMode } from './modules/free-mode/free-mode.js';\nexport { default as Grid } from './modules/grid/grid.js';\nexport { default as Manipulation } from './modules/manipulation/manipulation.js';\nexport { default as EffectFade } from './modules/effect-fade/effect-fade.js';\nexport { default as EffectCube } from './modules/effect-cube/effect-cube.js';\nexport { default as EffectFlip } from './modules/effect-flip/effect-flip.js';\nexport { default as EffectCoverflow } from './modules/effect-coverflow/effect-coverflow.js';\nexport { default as EffectCreative } from './modules/effect-creative/effect-creative.js';\nexport { default as EffectCards } from './modules/effect-cards/effect-cards.js';","export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\"\n}\n\nvar chrome = typeof navigator != \"undefined\" && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nvar gecko = typeof navigator != \"undefined\" && /Gecko\\/\\d+/.test(navigator.userAgent)\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nvar brokenModifierNames = mac || chrome && +chrome[1] < 57\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) ||\n    ie && event.shiftKey && event.key && event.key.length == 1 ||\n    event.key == \"Unidentified\"\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n"],"names":["Component","Input","NavController","ProductosService","BuscadorComponent","constructor","productosService","navCtrl","ngOnInit","productosSubscripcion","getProductos","subscribe","productos","verProducto","urlProducto","url","navigateRoot","selector","template","Output","EventEmitter","MenuPrincipalComponent","onSearchChange","$event","textoBuscar","detail","value","onBuscar","emit","ModalController","EditarCategoriaPage","NuevaCategoriaPage","CategoriasService","TablaCategoriasComponent","categoriasService","modalController","categoriasSubscripcion","getCategorias","categorias","getCategoriasBorradas","ngOnDestroy","unsubscribe","agregarCategoria","modal","create","component","present","editarCategoria","categoriaEditar","componentProps","borrarCategoria","idCategoria","then","catch","segmentChanged","EditarEtiquetaPage","NuevaEtiquetaPage","EtiquetasService","TablaEtiquetasComponent","etiquetasService","etiquetasSubscripcion","getEtiquetas","etiquetas","getEtiquetasBorradas","agregarEtiqueta","editarEtiqueta","etiquetaEditar","borrarEtiqueta","idEtiqueta","EditarProductoPage","NuevoProductoPage","TablaProductosComponent","getProductosBorrados","getProductosSinStock","agregarProducto","editarProducto","productoEditar","borrarProducto","idProducto","FormBuilder","Editor","Validators","fb","group","_id","nombre","required","minLength","precio","stock","img","descripcion","categoria","editor","destroy","cargarCategorias","cargarEtiquetas","fotos","editarProductoFormulario","reset","campoEsValido","campo","controls","errors","touched","guardarProducto","producto","console","log","dismiss","obtenerCategorias","obtenerEtiquetas","guardarFoto","existe","forEach","fotoGuardada","push","fotoInput","borrarFoto","indice","splice","salir","HttpClient","HttpHeaders","Injectable","environment","UsuarioService","WebsocketService","URL","http","wsService","usuarioService","Promise","resolve","get","resp","listen","cargarToken","headers","token","delete","err","crearCategoria","post","providedIn","crearEtiqueta","etiqueta","Storage","storage","getProducto","otenerTituloEtiqueta","etiquetaNombre","titulo","put","getProductoSlug","slug","GOOD_LEAF_SIZE","RopeSequence","prototype","append","other","length","from","leafAppend","leafPrepend","appendInner","prepend","Append","slice","to","empty","sliceInner","Math","max","min","i","undefined","getInner","f","forEachInner","forEachInvertedInner","map","result","elt","values","Leaf","call","__proto__","Object","prototypeAccessors","configurable","depth","flatten","start","concat","defineProperties","left","right","leftLen","inner","ropeSequence","Scheduler","SchedulerAction","now","schedule","work","delay","state","Date","innerSubscribe","SimpleInnerSubscriber","SimpleOuterSubscriber","takeUntil","notifier","source","lift","TakeUntilOperator","subscriber","takeUntilSubscriber","TakeUntilSubscriber","notifierSubscription","seenValue","add","destination","notifyNext","complete","notifyComplete","defaultThrottleConfig","leading","trailing","throttle","durationSelector","config","ThrottleOperator","ThrottleSubscriber","_leading","_trailing","_hasValue","_next","_sendValue","_throttled","send","next","duration","tryDurationSelector","error","throttlingDone","Subscriber","async","throttleTime","scheduler","ThrottleTimeOperator","ThrottleTimeSubscriber","_hasTrailingValue","_trailingValue","throttled","dispatchNext","_complete","clearThrottle","remove","arg","Subscription","Action","AsyncAction","pending","closed","id","recycleAsyncId","requestAsyncId","setInterval","flush","bind","clearInterval","execute","Error","_execute","errored","errorValue","e","_unsubscribe","actions","index","indexOf","AsyncScheduler","delegate","active","scheduled","action","shift","asyncScheduler","getSide","placement","split","getAlignment","getMainAxisFromPlacement","includes","getLengthFromAxis","axis","computeCoordsFromPlacement","_ref","rtl","reference","floating","commonX","x","width","commonY","y","height","mainAxis","commonAlign","side","isVertical","coords","computePosition","strategy","middleware","platform","isRTL","join","filter","name","rects","getElementRects","statefulPlacement","middlewareData","resetCount","fn","nextX","nextY","data","initialPlacement","elements","warn","expandPaddingObject","padding","top","bottom","getSideObjectFromPadding","rectToClientRect","rect","detectOverflow","middlewareArguments","options","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","altContext","element","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","offsetParent","getOffsetParent","within","min$1","max$1","arrow","alignment","arrowDimensions","getDimensions","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","clientHeight","clientWidth","centerToReference","center","offset","alignmentPadding","shouldAddOffset","alignmentOffset","centerOffset","hash$1","getOppositePlacement","replace","matched","getAlignmentSides","mainAlignmentSide","main","cross","hash","end","getOppositeAlignmentPlacement","sides","allPlacements","reduce","acc","getPlacementList","autoAlignment","allowedPlacements","allowedPlacementsSortedByAlignment","autoPlacement","_middlewareData$autoP","_middlewareData$autoP2","_middlewareData$autoP3","_middlewareData$autoP4","_placementsSortedByLe","detectOverflowOptions","placements","overflow","currentIndex","currentPlacement","currentOverflows","allOverflows","overflows","nextPlacement","placementsSortedByLeastOverflow","sort","a","b","placementThatFitsOnAllSides","find","every","resetPlacement","getExpandedPlacements","oppositePlacement","flip","_middlewareData$flip","checkMainAxis","crossAxis","checkCrossAxis","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","flipAlignment","isBasePlacement","overflowsData","_middlewareData$flip$","_middlewareData$flip2","nextIndex","_overflowsData$map$so","d","getSideOffsets","isAnySideFullyClipped","some","hide","_temp","offsets","referenceHiddenOffsets","referenceHidden","escapedOffsets","escaped","convertValueToCoords","mainAxisMulti","crossAxisMulti","rawValue","alignmentAxis","diffCoords","getCrossAxis","limiter","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","limitShift","rawOffset","computedOffset","len","limitMin","limitMax","_middlewareData$offse","_middlewareData$offse2","_middlewareData$offse3","_middlewareData$offse4","isOriginSide","size","apply","heightSide","widthSide","xMin","xMax","yMin","yMax","dimensions","availableHeight","availableWidth","nextDimensions","inline","_await$platform$getCl","fallback","clientRects","getClientRects","getBoundingClientRect","_clientRects$find","firstRect","lastRect","isTop","isLeftSide","maxRight","minLeft","measureRects","resetRects","computePosition$1","isWindow","document","location","alert","getWindow","node","window","ownerDocument","defaultView","getComputedStyle$1","getComputedStyle","getNodeName","nodeName","toLowerCase","getUAString","uaData","navigator","userAgentData","brands","item","brand","version","userAgent","isHTMLElement","HTMLElement","Element","isNode","Node","isShadowRoot","ShadowRoot","OwnElement","isOverflowElement","overflowX","overflowY","test","isTableElement","isContainingBlock","isFirefox","css","transform","perspective","contain","willChange","isLayoutViewport","round","includeScale","isFixedStrategy","_win$visualViewport$o","_win$visualViewport","_win$visualViewport$o2","_win$visualViewport2","clientRect","scaleX","scaleY","offsetWidth","offsetHeight","win","addVisualOffsets","visualViewport","offsetLeft","offsetTop","documentElement","getNodeScroll","scrollLeft","scrollTop","pageXOffset","pageYOffset","getWindowScrollBarX","isScaled","getRectRelativeToOffsetParent","isOffsetParentAnElement","scroll","offsetRect","clientLeft","clientTop","getParentNode","assignedSlot","parentNode","host","getTrueOffsetParent","position","getContainingBlock","currentNode","getViewportRect","html","layoutViewport","getDocumentRect","_element$ownerDocumen","body","scrollWidth","scrollHeight","direction","getNearestOverflowAncestor","getOverflowAncestors","list","_node$ownerDocument","scrollableAncestor","isBody","target","updatedList","contains","parent","child","rootNode","getRootNode","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingParent","getClippingAncestors","clippingAncestors","canEscapeClipping","clipperElement","mainClippingAncestors","firstClippingAncestor","clippingRect","accRect","clippingAncestor","Array","autoUpdate","update","ancestorScroll","_ancestorScroll","ancestorResize","_ancestorResize","elementResize","animationFrame","ancestors","ancestor","addEventListener","passive","observer","initialUpdate","ResizeObserver","observe","frameId","prevRefRect","frameLoop","nextRefRect","requestAnimationFrame","_observer","removeEventListener","disconnect","cancelAnimationFrame","getDocument","makeReactive","obj","proto","defineProperty","set","Dom7","items","arrayFlat","arr","res","el","isArray","arrayFilter","callback","arrayUnique","uniqueArray","toCamelCase","string","match","toUpperCase","qsa","context","querySelectorAll","$","trim","toCreate","tempParent","createElement","innerHTML","childNodes","nodeType","addClass","classes","classNames","c","classList","removeClass","toggleClass","className","toggle","hasClass","attr","attrs","arguments","getAttribute","setAttribute","attrName","removeAttr","removeAttribute","prop","props","propName","key","dom7ElementDataStorage","dataKey","removeData","dataset","attributes","parseFloat","val","multiple","selectedOptions","j","selected","style","transition","transitionDuration","on","args","eventType","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","unshift","is","parents","k","handleEvent","events","event","dom7Listeners","proxyListener","dom7LiveListeners","off","handlers","handler","dom7proxy","once","dom","eventName","onceHandler","eventArgs","trigger","CustomEvent","evt","bubbles","cancelable","dataIndex","dispatchEvent","transitionEnd","fireCallBack","animationEnd","innerWidth","outerWidth","includeMargins","styles","getPropertyValue","innerHeight","outerHeight","box","scrollY","scrollX","display","show","each","text","textContent","compareWith","matches","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","els","newChild","tempDiv","firstChild","appendChild","appendTo","insertBefore","prependTo","before","cloneNode","insertAfter","after","nextSibling","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","siblings","closest","foundElements","found","children","removeChild","detach","toAdd","scrollTo","easing","animate","currentTop","currentLeft","maxTop","maxLeft","newTop","newLeft","animateTop","animateLeft","startTime","render","time","getTime","progress","easeProgress","cos","PI","done","initialProps","initialParams","assign","params","animating","que","easingProgress","stop","dom7AnimateInstance","initialFullValue","initialValue","unit","finalValue","finalFullValue","container","keys","currentValue","elementsDone","propsDone","began","begin","animateInstance","noTrigger","shortcut","eventHandler","click","blur","focus","focusin","focusout","keyup","keydown","keypress","submit","change","mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseout","mouseover","touchstart","touchend","touchmove","resize","TextSelection","markApplies","removeLink","dispatch","doc","selection","tr","$head","pos","$pos","linkStart","textOffset","linkEnd","nodeSize","removeMark","docChanged","applyMark","type","ranges","$from","$to","$cursor","addStoredMark","storedMarksSet","addMark","scrollIntoView","storedMarks","isInSet","marks","removeStoredMark","range","hasMark","rangeHasMark","InputRule","isMarkActive","Boolean","findNodeType","isNodeActive","entries","hasMarkup","getSelectionMarks","nodesBetween","getSelectionNodes","nodes","canApply","allowsMarkType","inlineContent","markInputRule","regexp","markType","textStart","textEnd","canInsert","canReplaceWith","sl","toStyleString","Schema","link","href","title","default","inclusive","parseDOM","tag","getAttrs","toDOM","em","strong","fontWeight","code","u","consuming","s","textColor","color","mark","textBackgroundColor","backgroundColor","text_color","text_background_color","content","paragraph","align","textAlign","blockquote","defining","horizontalRule","heading","level","codeBlock","preserveWhitespace","hardBreak","selectable","image","src","alt","draggable","listItem","orderedList","bulletList","horizontal_rule","hard_break","code_block","list_item","ordered_list","bullet_list","schema","isNil","camelToDashed","str","m","cleanObject","cleanObj","v","NgxEditorError","message","i0","ViewChild","ComponentFactoryResolver","ApplicationRef","forwardRef","ViewEncapsulation","Optional","Pipe","HostListener","HostBinding","NgModule","InjectionToken","i4","NG_VALUE_ACCESSOR","FormGroup","FormControl","Validators$1","ReactiveFormsModule","Subject","fromEvent","Plugin","PluginKey","NodeSelection","EditorState","DecorationSet","Decoration","EditorView","i3","CommonModule","Fragment","Slice","DOMSerializer","DOMParser","toggleMark","wrapIn","setBlockType","newlineInCode","createParagraphNear","liftEmptyBlock","splitBlock","chainCommands","exitCode","baseKeymap","liftListItem","wrapInList","splitListItem","sinkListItem","i1","keymap","undo","redo","history","wrappingInputRule","textblockTypeInputRule","smartQuotes","ellipsis","emDash","inputRules","editablePlugin","editable","init","previousVal","getMeta","getState","isEnabled","class","PLACEHOLDER_CLASSNAME","placeholderPlugin","placeholder","decorations","childCount","decorate","isBlock","placeholderNode","descendants","attributesPlugin","focusPlugin","cb","handleDOMEvents","blurPlugin","ImageViewComponent","imageResize","startResizing","preventDefault","resizeImage","startX","pageX","startWidth","imgEl","nativeElement","isLeftResize","view","editorWidth","parseInt","onMouseMove","currentX","diffInPx","computedWidth","onMouseUp","ɵfac","ɵcmp","NgClass","NgIf","static","ImageRezieView","getPos","injector","updating","handleResize","transaction","setNodeMarkup","imageComponentRef","instance","resolvedPos","newSelection","setSelection","componentFactoryResolver","applicationRef","factory","resolveComponentFactory","attachView","hostView","setNodeAttributes","resizeSubscription","computeChanges","prevAttrs","newAttrs","JSON","stringify","changed","ignoreMutation","selectNode","deselectNode","detachView","imageResizePlugin","nodeViews","HTTP_LINK_REGEX","linkify","fragment","linkified","isText","exec","cut","urlText","addToSet","copy","fromArray","linkifyPlugin","transformPasted","openStart","openEnd","emptyDoc","toHTML","json","inputSchema","schema$1","contentNode","nodeFromJSON","fromSchema","serializeFragment","div","toDoc","parse","toJSON","parseContent","docJson","NgxEditorComponent","renderer","elementRef","focusOut","focusIn","onChange","onTouched","writeValue","outputFormat","setContent","registerOnChange","registerOnTouched","setDisabledState","isDisabled","setMeta","setProperty","handleChange","jsonDoc","setPlaceholder","registerPlugins","registerPlugin","features","linkOnPaste","ngxEditor","valueChanges","pipe","ngOnChanges","changes","isFirstChange","Renderer2","Injector","ElementRef","provide","useExisting","multi","providers","encapsulation","None","MenuService","customMenuRefChange","setCustomMenuRef","ɵprov","bold","italic","underline","strike","quote","unlink","alignLeft","alignCenter","alignRight","alignJustify","colorFill","formatClear","DEFAULT_ICON_HEIGHT","DEFAULT_ICON_WIDTH","DEFAULT_ICON_FILL","icons","align_left","align_center","align_right","align_justify","color_fill","format_clear","Icon","fill","path","Mark","isActive","canExecute","Blockqote","HorizontalRule","insert","replaceSelectionWith","ListItem","isBulletList","getType","Heading","nodePos","nodeAt","nodesInSelection","supportedNodes","acitveNode","TextAlign","applicable","defaultOptions","strict","Link$1","linkAttrs","testAttrs","Image$1","imageAttrs","createAndFill","anchor","$anchor","nodeBefore","TextColor$1","isAtom","isLeaf","getActiveColors","colors","SAFE_MARKS","FormatClear","STRONG","EM","CODE","UNDERLINE","STRIKE","BLOCKQUOTE","HORIZONTAL_RULE","FORMAT_CLEAR","UL","OL","H1","H2","H3","H4","H5","H6","ALIGN_LEFT","ALIGN_CENTER","ALIGN_RIGHT","ALIGN_JUSTIFY","LINK","IMAGE","TEXT_COLOR","TEXT_BACKGROUND_COLOR","ToggleCommands","h1","h2","h3","h4","h5","h6","InsertCommands","Link","Image","TextColor","TextBackgroundColor","defaults","background_color","insertLink","insertImage","openInNewTab","altText","Locals","newLocals","locals","NgxEditorServiceConfig","NgxEditorService","decorators","provideMyServiceOptions","SanitizeHtmlPipe","sanitizer","bypassSecurityTrustHtml","DomSanitizer","ɵpipe","ToggleCommandComponent","ngxeService","menuService","disabled","command","toolbarItem","button","editorView","getTitle","updateSubscription","InsertCommandComponent","LinkComponent","showPopup","form","pattern","setText","selectedText","textBetween","patchValue","disable","icon","onDocumentClick","hideForm","getLabel","enable","onMouseDown","getRawValue","ɵNgNoValidate","DefaultValueAccessor","CheckboxControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","DropdownComponent","isDropdownOpen","disabledItems","activeItems","activeItem","isSelected","isDropdownDisabled","getName","toggleDropdown","trackByIndex","onClick","NgForOf","ImageComponent","fillForm","setValue","ColorPickerComponent","activeColors","getContrastYIQ","hexcolor","r","substring","g","yiq","hidePopup","togglePopup","onColorSelect","hasFocus","NgStyle","presets","DEFAULT_TOOLBAR","TOOLBAR_MINIMAL","TOOLBAR_FULL","DEFAULT_COLOR_PRESETS","MenuComponent","toolbar","colorPresets","customMenuRef","dropdownPlacement","toggleCommands","insertCommands","iconContainerClass","dropdownContainerClass","seperatorClass","col","row","floor","isDropDown","getDropdownItems","NgTemplateOutlet","KeyValuePipe","BubbleComponent","sanitizeHTML","execulableItems","getIcon","commandName","stopPropagation","FloatingMenuComponent","autoPlace","posLeft","posTop","showMenu","dragging","visibility","opacity","onKeyDown","useUpdate","onKeyUp","calculateBubblePosition","coordsAtPos","selectionElement","nodeDOM","bubbleEl","middlewareArgs","canShowMenu","MenuModule","ɵmod","ɵinj","imports","declarations","exports","NGX_EDITOR_CONFIG_TOKEN","defaultConfig","NgxEditorModule","forRoot","ngModule","useValue","useFactory","deps","forChild","isEmptyInputValue","hasValidLength","isDocEmpty","isTextblock","userSchema","control","isEmpty","maxLength","maxlength","requiredLength","actualLength","minlength","execMark","EditorCommands","applyTrx","forceEmit","updateState","insertText","insertNewLine","newLineCommands","toggleBold","italics","toggleItalics","toggleUnderline","toggleStrike","toggleCode","toggleOrderedList","toggleBulletList","toggleHeading","updateLink","removeTextColor","removeBackgroundColor","p","insertHTML","parseSlice","replaceRange","isMacOs","blockQuoteRule","orderedListRule","order","Number","bulletListRule","codeBlockRule","headingRule","maxLevel","RegExp","boldRule","emRule","buildInputRules","rules","getKeyboardShortcuts","historyKeyMap","plugins","br","getDefaultPlugins","keyboardShortcuts","defaultFeatures","DEFAULT_OPTIONS","handleScrollToSelection","valueChangesSubject","updateSubject","createEditor","asObservable","commands","handleTransactions","defaultPlugins","dispatchTransaction","newDoc","replaceWith","plugin","newState","reconfigure","OrderedMap","newKey","self","addToStart","addToEnd","addBefore","place","without","subtract","liftTarget","replaceStep","canJoin","joinPoint","canSplit","ReplaceAroundStep","findWrapping","Selection","AllSelection","deleteSelection","joinBackward","endOfTextblock","parentOffset","$cut","findCutBefore","blockRange","spec","isolating","deleteBarrier","textblockAt","isSelectable","delStep","step","findFrom","mapping","only","scan","lastChild","selectNodeBackward","joinForward","findCutAfter","nodeAfter","selectNodeForward","joinUp","sel","nodeSel","point","joinDown","sameParent","defaultBlockAt","edgeCount","edge","hasRequiredAttrs","above","indexAfter","contentMatchAt","near","atEnd","deflt","types","can","first","$first","splitBlockKeepMarks","ensureMarks","selectParentNode","same","sharedDepth","selectAll","joinMaybeClear","compatibleContent","canReplace","clearIncompatible","conn","canDelAfter","matchType","validEnd","wrap","joinAt","selAfter","at","afterText","afterDepth","selectTextblockSide","isInline","selectTextblockStart","selectTextblockEnd","wrapping","has","spaceStart","spaceEnd","wrapDispatchForJoin","isJoinable","isGeneric","maps","_s","_e","joinable","maybeChild","autoJoin","backspace","del","pcBaseKeymap","macBaseKeymap","mac","os","Mapping","max_empty_items","Branch","eventCount","popEvent","preserveItems","remap","mapFrom","remapping","remaining","addAfter","Item","maybeStep","appendMap","reverse","addTransform","histOptions","newItems","oldItems","lastItem","steps","invert","docs","merged","merge","pop","DEPTH_OVERFLOW","cutOffEvents","mirrorPos","mirrorOffset","addMaps","array","rebased","rebasedTransform","rebasedCount","rebasedItems","newUntil","iRebased","getMirror","newMaps","branch","emptyItemCount","compress","count","upto","getMap","newItem","last","n","cutPoint","HistoryState","undone","prevRanges","prevTime","applyTransaction","historyTr","historyKey","historyState","closeHistoryKey","appended","mustPreserveItems","rangesFor","newGroup","newGroupDelay","isAdjacentTo","mapRanges","getBookmark","adjacent","_from","_to","histTransaction","added","newHist","cachedPreserveItems","cachedPreserveItemsPlugins","historyPreserveItems","closeHistory","hist","beforeinput","inputType","undoDepth","redoDepth","stringHandler","lastIndexOf","cutOff","MAX_MATCH","stored","selectionSet","handleTextInput","run","compositionend","setTimeout","isInputRules","composing","textBefore","undoInputRule","undoable","toUndo","openDoubleQuote","closeDoubleQuote","openSingleQuote","closeSingleQuote","joinPredicate","Function","$start","keyName","base","normalizeKeyName","parts","ctrl","meta","mod","normalize","modifiers","altKey","ctrlKey","metaKey","shiftKey","bindings","handleKeyDown","keydownHandler","isChar","baseName","direct","charCodeAt","keyCode","fromCode","withShift","findDiffStart","childA","childB","sameMarkup","findDiffEnd","posA","posB","iA","iB","minSize","nodeStart","blockSeparator","leafText","separated","withText","cutByIndex","replaceChild","current","RangeError","otherPos","findIndex","retIndex","curPos","cur","toString","toStringInner","fromJSON","joined","compareDeep","placed","excludes","rank","removeFromSet","_","sameSet","setFrom","none","ReplaceError","insertAt","insertInto","removeBetween","removeRange","maxOpen","openIsolating","indexTo","offsetTo","dist","replaceOuter","close","replaceTwoWay","prepareSliceForReplace","replaceThreeWay","checkJoin","sub","$before","$after","addNode","addRange","$end","startIndex","endIndex","validContent","$along","extra","resolveNoCache","ResolvedPos","resolveDepth","dOff","posAtIndex","tmp","marksAcross","pred","NodeRange","rem","resolveCached","resolveCache","cached","resolveCachePos","resolveCacheSize","emptyAttrs","startPos","defaultAttrs","includeParents","childAfter","childBefore","toDebugString","wrapMarks","contentMatch","matchFragment","replacement","one","two","allowsMarks","canAppend","check","markFromJSON","TextNode","ContentMatch","wrapCache","nodeTypes","stream","TokenStream","expr","parseExpr","dfa","nfa","checkForDeadEnds","frag","defaultType","compatible","fillBefore","toEnd","seen","search","finished","tp","computed","computeWrapping","via","out","tokens","eat","tok","SyntaxError","exprs","parseExprSeq","parseExprSubscript","parseExprAtom","parseExprRange","parseNum","resolveName","typeName","groups","connect","compile","term","edges","loop","cmp","nullFrom","labeled","explore","states","dead","hasDefault","computeAttrs","built","given","initAttrs","Attribute","NodeType","markSet","atom","whitespace","isRequired","createChecked","allowedMarks","topType","topNode","hasOwnProperty","MarkType","excluded","contentExprCache","contentExpr","markExpr","gatherMarks","excl","topNodeType","wrappings","ok","tags","rule","normalizeLists","ParseContext","addAll","finish","matchTag","namespace","namespaceURI","matchesContext","matchStyle","schemaRules","priority","nextPriority","domParser","blockTags","address","article","aside","canvas","dd","dl","fieldset","figcaption","figure","footer","header","hgroup","hr","li","noscript","ol","output","pre","section","table","tfoot","ul","ignoreTags","head","object","script","listTags","OPT_PRESERVE_WS","OPT_PRESERVE_WS_FULL","OPT_OPEN_LEFT","wsOptionsFor","NodeContext","pendingMarks","solid","activeMarks","stashMarks","popFromStashMark","applyPending","nextType","markMayApply","inlineContext","parser","isOpen","open","topContext","topOptions","topMatch","findPositions","needsBlock","addDOM","addTextNode","readStyles","parseStyles","addPendingMark","addElement","removePendingMark","nodeValue","domNodeBefore","insertNode","findInText","findInside","matchAfter","ruleID","normalizeList","ruleFromNode","ignore","ignoreFallback","skip","closeParent","sync","oldNeedsBlock","leafFallback","addElementByRule","createTextNode","findPlace","continueAfter","enter","startIn","getContent","contentDOM","contentElement","querySelector","findAround","findAtPoint","route","cx","enterInner","block","textblockFromContext","closeExtra","preserveWS","topOpen","currentPos","compareDocumentPosition","textNode","option","useRoot","minDepth","part","$context","findSameMarkInSet","stashMark","prevItem","mozMatchesSelector","re","createDocumentFragment","keep","rendered","spanning","markDOM","serializeMark","serializeNodeInner","renderSpec","serializeNode","structure","xmlNS","tagName","space","createElementNS","setAttributeNS","innerContent","domSerializer","nodesFromSchema","marksFromSchema","gatherToDOM","olDOM","ulDOM","liDOM","hasAttribute","addListNodes","itemContent","listGroup","listType","doJoin","outerRange","$insert","doWrapInList","wrappers","joinBefore","splitDepth","splitPos","itemType","grandParent","depthBefore","depthAfter","liftToOuterList","liftOutOfList","endOfList","atStart","indexBefore","nestedBefore","ReplaceStep","Transform","classesById","SelectionRange","lastNode","lastParent","selectionToInsertionEnd","deleteRange","replaceRangeWith","dir","textOnly","findSelectionIn","bias","cls","jsonID","selectionClass","between","visible","warnedAboutTextSelection","checkTextSelection","TextBookmark","dPos","deleted","mapResult","NodeBookmark","AllBookmark","startLen","_newFrom","newTo","UPDATED_SEL","UPDATED_MARKS","UPDATED_SCROLL","Transaction","curSelectionFor","updated","curSelection","setStoredMarks","addStep","setTime","replaceSelection","inheritMarks","scrolledIntoView","FieldDesc","desc","baseFields","_marks","_old","Configuration","pluginsByKey","fields","filterTransaction","rootTr","transactions","trs","applyInner","haveNew","appendTransaction","oldState","newInstance","field","$config","pluginFields","bindProps","createKey","lower16","factor16","pow","makeRecover","recoverIndex","recoverOffset","DEL_BEFORE","DEL_AFTER","DEL_ACROSS","DEL_SIDE","MapResult","delInfo","recover","deletedBefore","deletedAfter","deletedAcross","StepMap","inverted","diff","assoc","_map","simple","oldIndex","newIndex","oldSize","newSize","touches","oldStart","newStart","mirror","mirrors","setMirror","appendMapping","startSize","mirr","appendMappingInverted","totalSize","inverse","corr","stepsByID","Step","stepType","stepClass","StepResult","failed","fail","fromReplace","mapFragment","mapped","AddMarkStep","oldSlice","RemoveMarkStep","contentBetween","gapFrom","gapTo","gap","inserted","removed","removing","adding","newSet","toRemove","parentType","delSteps","allowed","canCut","gapStart","gapEnd","splitting","innerRange","around","findWrappingOutside","findWrappingInside","withAttrs","outer","inside","lastType","innerMatch","canChangeType","startM","endM","newNode","typesAfter","innerType","rest","baseType","typeAfter","insertPoint","dropPoint","pass","insertPos","fits","fitsTrivially","Fitter","fit","unplaced","frontier","findFittable","placeNodes","openMore","dropNode","moveInline","mustMoveInline","placedSize","sliceDepth","contentAt","frontierDepth","inject","openAtEnd","dropFromFragment","closeFrontierNode","openFrontierNode","taken","openEndCount","closeNodeStart","addToFragment","contentAfterFits","findCloseLevel","dropInner","move","invalidMarks","definesContent","definingForContent","targetDepths","coveredDepths","preferredTarget","definingAsContext","preferredTargetIndex","leftNodes","preferredDepth","def","openDepth","targetDepth","expand","closeFragment","startSteps","oldOpen","newOpen","covered","TransformError","nav","agent","ie_edge","ie_upto10","ie_11up","ie","ie_version","documentMode","gecko","_chrome","chrome","chrome_version","safari","vendor","ios","maxTouchPoints","android","webkit","webkit_version","domIndex","reusedRange","textRange","createRange","setEnd","setStart","isEquivalentPosition","targetNode","targetOff","scanFor","atomElements","hasBlockDesc","contentEditable","isOnEdge","pmViewDesc","selectionCollapsed","domSel","collapsed","isCollapsed","rangeCount","getRangeAt","keyEvent","createEvent","initEvent","windowRect","scrollRectIntoView","startDOM","scrollThreshold","someProp","scrollMargin","atTop","bounding","moveX","moveY","scrollBy","startY","dX","dY","storeScrollPos","refDOM","refTop","root","elementFromPoint","localRect","stack","scrollStack","resetScrollPos","newRefTop","restoreScrollStack","dTop","preventScrollSupported","focusPreventScroll","setActive","preventScroll","findOffsetInNode","dxClosest","coordsClosest","rowBot","rowTop","childIndex","dx","findOffsetInText","singleRect","inRect","targetKludge","posFromElement","docView","posFromDOM","posFromCaret","outside","nearestDesc","posBefore","posAfter","startI","posAtCoords","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","startOffset","posAtStart","border","BIDI","domFromPos","supportEmptyRange","rectBefore","rectAfter","flattenV","takeSide","$dom","flattenH","ignoreForCoords","withFlushedState","viewState","activeElement","endOfTextblockVertical","nearest","boxes","maybeRTL","endOfTextblockHorizontal","domSelection","modify","oldRange","oldNode","focusNode","oldOff","focusOffset","oldBidiLevel","caretBidiLevel","parentDOM","domAfterPos","removeAllRanges","cachedState","cachedDir","cachedResult","NOT_DIRTY","CHILD_DIRTY","CONTENT_DIRTY","NODE_DIRTY","ViewDesc","dirty","matchesWidget","widget","matchesMark","matchesNode","outerDeco","innerDeco","matchesHack","parseRule","stopEvent","posBeforeChild","posAtEnd","localPosFromDOM","domBefore","domAfter","onlyNodes","getDesc","descAt","TrailingHackViewDesc","WidgetViewDesc","domAtom","parseRange","fromOffset","toOffset","childBase","emptyChildAt","force","anchorDOM","headDOM","getSelection","brKludge","anchorNode","anchorOffset","domSelExtended","extend","collapse","DOMException","mutation","contentLost","markDirty","startInside","endInside","markParentsDirty","raw","ignoreSelection","CompositionViewDesc","textDOM","mut","oldValue","MarkViewDesc","custom","reparseInView","replaceNodes","NodeViewDesc","updateChildren","descObj","applyOuterDeco","CustomNodeViewDesc","TextViewDesc","sameOuterDeco","composition","localCompositionInfo","localComposition","compositionInChild","updater","ViewTreeUpdater","iterDeco","insideNode","syncToMarks","placeWidget","compIndex","findNodeMatch","findIndexWithChild","updateNodeAt","updateNextNode","addTextblockHacks","destroyRest","protectLocalComposition","renderDescs","iosHacks","nearbyTextNode","textPos","findTextInFragment","input","compositionNodes","updateInner","updateOuterDeco","needsWrap","oldDOM","patchOuterDeco","computeOuterDeco","docViewDesc","pmIsDeco","inParent","trackWrites","descs","written","childDOM","rm","OuterDecoLevel","noDeco","outerDOM","prevComputed","curComputed","curDOM","deco","patchAttributes","prevList","curList","removeProperty","cssText","lock","preMatch","destroyBetween","maxKeep","markDesc","targetDesc","domNode","nextDOM","locked","addHackNode","hack","parentDesc","curDesc","descI","fI","Map","compareSide","onWidget","onNode","decoIndex","restNode","parentIndex","widgets","cutAt","oldCSS","listStyle","childStart","selectionFromDOM","origin","inWidget","nearestDescNode","selectionBetween","editorOwnsSelection","hasSelection","selectionToDOM","syncNodeSelection","mouseDown","allowDefault","curSel","domObserver","currentSelection","delayedSelectionSync","setCurSelection","disconnectSelection","cursorWrapper","selectCursorWrapper","resetEditableFrom","resetEditableTo","brokenSelectBetweenUneditable","temporarilyEditableNear","resetEditable","removeClassOnSelectionChange","connectSelection","setEditable","wasDraggable","hideSelectionGuard","lastSelectedViewDesc","clearNodeSelection","hasFocusAndSelection","anchorInRightPlace","moveSelectionBlock","$side","selectHorizontally","mods","nodeLen","isIgnorable","skipIgnoredNodesLeft","moveNode","moveOffset","isBlockNode","setSelFocus","skipIgnoredNodesRight","selectVertically","beyond","stopNativeHorizontalDelete","nextNode","switchEditable","safariDownArrowBug","getMods","captureKeyDown","serializeForClipboard","serializer","detachedDoc","wrapMap","wrapper","parseFromClipboard","plainText","inCode","asText","parsed","readHTML","restoreReplacedSpaces","contextNode","sliceData","inlineParents","addContext","closeSlice","normalizeSiblings","lastWrap","inLast","addToSibling","closeRight","wrapped","withWrappers","sibling","closeRange","thead","tbody","caption","colgroup","td","th","_detachedDoc","implementation","createHTMLDocument","metas","firstTag","editHandlers","InputState","lastKeyCode","lastKeyCodeTime","lastClick","lastSelectionOrigin","lastSelectionTime","lastIOSEnter","lastIOSEnterFallbackTimeout","lastAndroidDelete","composingTimeout","compositionEndedAt","domChangeCount","eventHandlers","initInput","eventBelongsToView","runCustomHandler","ensureListeners","setSelectionOrigin","destroyInput","clearTimeout","currentHandlers","defaultPrevented","_event","inOrNearComposition","forceFlush","charCode","String","fromCharCode","eventCoords","clientX","clientY","isNear","dy","runHandlerOnContext","updateSelection","focused","selectClickedLeaf","selectClickedNode","selectedNode","selectAt","handleSingleClick","handleDoubleClick","handleTripleClick","defaultTripleClick","forceDOMFlush","endComposition","selectNodeModifier","flushed","MouseDown","mightDrag","startDoc","targetPos","addAttr","setUneditable","up","abs","buttons","touchdown","contextmenu","timeStamp","timeoutComposition","compositionstart","compositionupdate","markCursor","scheduleComposeEnd","clearComposition","timestampFromCustomEvent","forceUpdate","flushingSoon","captureCopy","selectNodeContents","brokenClipboardAPI","clipboardData","clearData","setData","sliceSingleNode","capturePaste","doPaste","singleNode","paste","getData","Dragging","dragCopyModifier","dragstart","dataTransfer","effectAllowed","dragend","dragover","dragenter","drop","eventPos","$mouse","beforeInsert","relatedTarget","clear","flushSoon","compareObjs","WidgetType","noSpec","span","oldOffset","valid","InlineType","inclusiveStart","inclusiveEnd","local","buildTree","predicate","findInner","childOff","mapInner","newLocal","onRemove","mapChildren","byPos","addInner","childNode","childOffset","baseOffset","takeSpansForNode","moveSpans","withoutNulls","removeInner","dec","localSet","DecorationGroup","removeOverlap","localsInner","members","mappedDecos","member","sorted","oldChildren","oldEnd","newEnd","dSize","mustRebuild","fromLocal","toLocal","mapAndGatherRemainingDecorations","spans","gather","hasNulls","localStart","subtree","working","insertAhead","viewDecorations","observeOptions","childList","characterData","characterDataOldValue","attributeOldValue","useCharData","SelectionState","DOMObserver","handleDOMChange","queue","onCharData","suppressingSelectionUpdates","MutationObserver","mutations","removedNodes","prevValue","onSelectionChange","takeRecords","take","suppressSelectionUpdates","ignoreSelectionChange","commonAncestorContainer","newSel","typeOver","registerMutation","brs","checkCSS","attributeName","addedNodes","cssChecked","whiteSpace","parseBetween","from_","to_","readDOMChange","shared","compare","preferredPos","preferredSide","findDiff","endA","endB","resolveSelection","$fromA","inlineChange","nextSel","looksLikeJoin","chFrom","chTo","markChange","isMarkChange","parsedSel","curMarks","prevMarks","old","$newStart","$newEnd","skipClosingAndOpening","$next","fromEnd","mayOpen","adjust","__serializeForClipboard","__parseFromClipboard","__endComposition","_root","mounted","prevDirectPlugins","pluginViews","_props","directPlugins","checkStateComponent","mount","getEditable","updateCursorWrapper","buildNodeViews","computeDocDeco","updatePluginViews","updateStateInner","setProps","reconfigured","redraw","updateSel","changedNodeViews","scrollToSelection","updateDoc","oldScrollPos","overflowAnchor","forceSelUpdate","selectionContextChanged","chromeKludge","destroyPluginViews","prevState","pluginView","getPrototypeOf","domAtPos","posAtDOM","isDestroyed","contenteditable","translate","sel1","sel2","nA","nB","isObject","ssrDocument","getElementById","getElementsByTagName","importNode","hostname","pathname","protocol","ssrWindow","replaceState","pushState","go","back","screen","matchMedia","Directive","PLATFORM_ID","ChangeDetectionStrategy","Inject","ContentChildren","isPlatformBrowser","Swiper","of","paramsList","o","enabled","isShowEl","coerceBooleanProperty","noExtend","__swiper__","ignoreNgOnChanges","allowedParams","getParams","passedParams","extendedDefaults","_emitClasses","_key","SwiperSlideDirective","autoplayDelay","slideData","isPrev","isNext","isVisible","isDuplicate","ngClass","zoom","_zoom","_classNames","_hasClass","TemplateRef","ɵdir","virtualIndex","SwiperComponent","_ngZone","_changeDetectorRef","_platformId","slideClass","wrapperClass","showNavigation","showPagination","showScrollbar","s__beforeBreakpoint","s__containerClasses","s__slideClass","s__swiper","s_activeIndexChange","s_afterInit","s_autoplay","s_autoplayStart","s_autoplayStop","s_autoplayPause","s_autoplayResume","s_beforeDestroy","s_beforeInit","s_beforeLoopFix","s_beforeResize","s_beforeSlideChangeStart","s_beforeTransitionStart","s_breakpoint","s_changeDirection","s_click","s_doubleTap","s_doubleClick","s_destroy","s_fromEdge","s_hashChange","s_hashSet","s_imagesReady","s_init","s_keyPress","s_lazyImageLoad","s_lazyImageReady","s_loopFix","s_momentumBounce","s_navigationHide","s_navigationShow","s_navigationPrev","s_navigationNext","s_observerUpdate","s_orientationchange","s_paginationHide","s_paginationRender","s_paginationShow","s_paginationUpdate","s_progress","s_reachBeginning","s_reachEnd","s_realIndexChange","s_resize","s_scroll","s_scrollbarDragEnd","s_scrollbarDragMove","s_scrollbarDragStart","s_setTransition","s_setTranslate","s_slideChange","s_slideChangeTransitionEnd","s_slideChangeTransitionStart","s_slideNextTransitionEnd","s_slideNextTransitionStart","s_slidePrevTransitionEnd","s_slidePrevTransitionStart","s_slideResetTransitionStart","s_slideResetTransitionEnd","s_sliderMove","s_sliderFirstMove","s_slidesLengthChange","s_slidesGridLengthChange","s_snapGridLengthChange","s_snapIndexChange","s_tap","s_toEdge","s_touchEnd","s_touchMove","s_touchMoveOpposite","s_touchStart","s_transitionEnd","s_transitionStart","s_update","s_zoomChange","s_swiper","s_lock","s_unlock","_activeSlides","containerClasses","slidesChanges","slides","slide","slideIndex","loopedSlides","calcLoopedSlides","virtual","prependSlides","appendSlides","swiperRef","runOutsideAngular","detectChanges","updateVirtualSlides","virtualData","currentVirtualData","isHorizontal","rtlTranslate","updateSlides","updateProgress","updateSlidesClasses","lazy","load","navigation","_a","_b","_c","currentNext","_navigation","nextEl","currentPrev","prevEl","_prevElRef","pagination","_pagination","_paginationElRef","scrollbar","_scrollbar","_scrollbarElRef","_virtual","updateSwiper","prevElRef","_setElement","nextElRef","_nextElRef","scrollbarElRef","paginationElRef","activeSlides","zoomContainerClass","containerClass","ref","updateObj","updateInitSwiper","ngAfterViewInit","childrenSlidesInit","initSwiper","slidesEl","isSwiperActive","destroyed","swiperParams","onAny","emitter","_slideClasses","slideEl","virtualSlide","_containerClasses","loopCreate","loopDestroy","isVirtualEnabled","extendWith","cache","renderExternal","renderExternalUpdate","originalParams","changedParams","currentParams","thumbs","updateParameter","updateSize","setTranslate","swiper","initialized","controller","newValue","allowSlideNext","allowSlidePrev","changeDirection","breakpoints","currentBreakpoint","setBreakpoint","slidesPerViewParams","slidesPerView","breakpoint","getBreakpoint","breakpointOnlyParams","loopAdditionalSlides","isCurrentParamObj","NgZone","ChangeDetectorRef","NgSwitch","NgSwitchCase","NgSwitchDefault","AsyncPipe","changeDetection","OnPush","touchEventsTarget","initialSlide","speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","preventInteractionOnTransition","edgeSwipeDetection","edgeSwipeThreshold","freeMode","autoHeight","setWrapperSize","virtualTranslate","effect","spaceBetween","maxBackfaceHiddenSlides","grid","slidesPerGroup","slidesPerGroupSkip","centeredSlides","centeredSlidesBounds","slidesOffsetBefore","slidesOffsetAfter","normalizeSlideIndex","centerInsufficientSlides","watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","shortSwipes","longSwipes","longSwipesRatio","longSwipesMs","followFinger","allowTouchMove","threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","resistance","resistanceRatio","watchSlidesProgress","grabCursor","preventClicks","preventClicksPropagation","slideToClickedSlide","preloadImages","updateOnImagesReady","loopedSlidesLimit","loopFillGroupWithBlank","loopPreventsSlide","rewind","swipeHandler","noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","runCallbacksOnInit","observeParents","observeSlideChildren","a11y","autoplay","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","keyboard","mousewheel","parallax","emitDistinctChangesOnly","SwiperModule","containerEl","currentHeight","points","minRatio","substr","isGridEnabled","rows","activeIndex","$el","breakpointsBase","breakpointParams","wasMultiRow","isMultiRow","wasEnabled","emitContainerClasses","wasModuleEnabled","isModuleEnabled","directionChanged","needsReLoop","slideTo","checkOverflow","isLocked","wasLocked","lastSlideIndex","lastSlideRightEdge","slidesGrid","slidesSizesGrid","snapGrid","isEnd","prepareClasses","prefix","resultClasses","addClasses","device","support","suffixes","touch","removeClasses","deleteProps","getSupport","getDevice","getBrowser","Resize","Observer","eventsEmitter","images","moduleExtendParams","prototypes","_len","swipers","newParams","browser","eventsListeners","eventsAnyListeners","modules","__modules__","allModulesParams","extendParams","realIndex","isBeginning","previousTranslate","velocity","touchEvents","desktop","touchEventsTouch","cancel","touchEventsDesktop","touchEventsData","isTouched","isMoved","allowTouchCallbacks","touchStartTime","isScrolling","currentTranslate","startTranslate","allowThresholdMove","lastClickTime","clickTimeout","velocities","allowMomentumBounce","isTouchEvent","startMoving","allowClick","currentY","imagesToLoad","imagesLoaded","setGrabCursor","unsetGrabCursor","setProgress","minTranslate","maxTranslate","translateTo","updateActiveIndex","getSlideClasses","emitSlidesClasses","updates","slidesPerViewDynamic","exact","swiperSize","spv","slideSize","swiperSlideSize","breakLoop","slideInView","translateValue","newTranslate","translated","updateAutoHeight","newDirection","needUpdate","currentDirection","changeLanguageDirection","getWrapperSelector","getWrapper","shadowRoot","$wrapperEl","createElements","wrapperEl","wrongRTL","attachEvents","deleteInstance","cleanStyles","detachEvents","extendDefaults","newDefaults","installModule","use","module","prototypeGroup","protoMethod","slidesPerGroupAuto","method","__emitterProxy","offAny","_len2","_key2","eventsArray","onTouchStart","onTouchMove","onTouchEnd","onResize","onScroll","dummyEventAttached","dummyEventListener","domMethod","swiperMethod","passiveListener","stopImmediatePropagation","running","paused","newProgress","translatesDiff","nextTick","originalEvent","touchEndTime","timeDiff","pathTree","composedPath","updateClickedSlide","swipeDirection","stopIndex","groupSize","increment","rewindFirstIndex","rewindLastIndex","ratio","isNavButtonTarget","targetTouch","targetTouches","changedTouches","pageY","preventedByNestedSwiper","diffX","diffY","sqrt","atan2","loopFix","getTranslate","setTransition","disableParentSwiper","closestElement","__closestFrom","$targetEl","which","swipingClassHasValue","isTargetShadow","iOSEdgeSwipeDetection","iOSEdgeSwipeThreshold","shouldPreventDefault","isContentEditable","moving","cursor","loadImage","imageEl","srcset","sizes","checkForComplete","onReady","isPicture","onload","onerror","currentSrc","$selector","blankSlidesNum","blankNode","ceil","snapTranslate","slideChanged","moduleParamName","moduleParams","auto","observers","attach","ObserverFunc","WebkitMutationObserver","observerUpdate","containerParents","resizeHandler","createObserver","newWidth","newHeight","_ref2","contentBoxSize","contentRect","inlineSize","blockSize","removeObserver","unobserve","orientationChangeHandler","slideToLoop","slideNext","slidePrev","slideReset","slideToClosest","runCallbacks","internal","perGroup","_clientLeft","normalizedTranslate","normalizedSnapGrid","prevSnap","prevSnapIndex","snap","snapIndex","prevIndex","lastIndex","animateCSSModeScroll","initial","indexAsNumber","isValidNumber","isFinite","previousIndex","normalizedGrid","normalizedGridNext","transitionStart","isH","t","isVirtual","scrollSnapType","_immediateVirtual","_swiperImmediateVirtual","smoothScroll","targetPosition","behavior","onSlideToWrapperTransitionEnd","slideToIndex","clickedIndex","clickedSlide","currentSnap","nextSnap","byController","transitionEmit","getSwiperTranslate","z","translateBounds","onTranslateToWrapperTransitionEnd","updateSlidesOffset","updateSlidesProgress","newActiveIndex","previousRealIndex","previousSnapIndex","getSlideByIndex","visibleSlides","slideFound","multiplier","wasBeginning","wasEnd","isNaN","setCSSProperty","getDirectionLabel","property","getDirectionPropertyValue","label","previousSlidesLength","slidesLength","offsetBefore","offsetAfter","previousSnapGridLength","previousSlidesGridLength","slidePosition","prevSlideSize","virtualSize","marginLeft","marginBottom","marginTop","marginRight","gridEnabled","initSlides","shouldResetSlideSize","updateSlide","slideStyles","currentTransform","currentWebKitTransform","webkitTransform","paddingLeft","paddingRight","boxSizing","updateWrapperSize","newSlidesGrid","slidesGridItem","allSlidesSize","slideSizeValue","maxSnap","allSlidesOffset","addToSnapGrid","addToSlidesGrid","backFaceHiddenClass","hasClassBackfaceClassAdded","activeSlide","nextSlide","prevSlide","swiperSlideOffset","offsetCenter","visibleSlidesIndexes","slideOffset","slideProgress","originalSlideProgress","slideBefore","slideAfter","originalProgress","classesToSelector","A11y","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","liveRegion","notify","notification","getRandomNumber","randomChar","random","repeat","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElControls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","$nextEl","$prevEl","bulletClass","updateNavigation","hasPagination","bullets","hasClickablePagination","clickable","updatePagination","bulletEl","$bulletEl","renderBullet","bulletActiveClass","initNavEl","wrapperId","handleFocus","$slideEl","ariaLabelMessage","$containerEl","Autoplay","timeout","waitForTransition","disableOnInteraction","stopOnLastSlide","reverseDirection","pauseOnMouseEnter","$activeSlideEl","autoplayResult","pause","onTransitionEnd","onVisibilityChange","visibilityState","onMouseEnter","onMouseLeave","attachMouseEvents","detachMouseEvents","Controller","by","LinearSpline","binarySearch","maxIndex","minIndex","guess","interpolate","x2","getInterpolateFunction","spline","_t","controlled","controlledTranslate","setControlledTranslate","setControlledTransition","removeSpline","createShadow","effectInit","effectTarget","effectVirtualTransitionEnd","EffectCards","slideShadows","transformEl","rotate","tX","tY","tZ","scale","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prevY","scaleString","$shadowEl","zIndex","$transitionElements","overwriteParams","EffectCoverflow","stretch","modifier","swiperWidth","swiperHeight","offsetMultiplier","rotateY","rotateX","translateZ","translateY","translateX","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","margin","translateString","rotateString","opacityString","shadow","shadowOpacity","allSlides","EffectCube","shadowOffset","shadowScale","createSlideShadows","shadowBefore","shadowAfter","recreateShadows","wrapperRotate","$cubeShadowEl","slideAngle","tx","ty","tz","shadowAngle","sin","scale1","scale2","zFactor","isSafari","isWebView","getEffectParams","EffectFade","crossFade","slideOpacity","EffectFlip","limitRotation","momentum","momentumRatio","momentumBounce","momentumBounceRatio","momentumVelocityRatio","sticky","minimumVelocity","lastMoveEvent","velocityEvent","distance","momentumDuration","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","needsLoopFix","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","column","groupIndex","slideIndexInGroup","columnsInGroup","HashNavigation","watchState","onHashChange","newHash","activeSlideHash","setHash","slideHash","History","keepQuery","paths","slugify","getPathValues","urlOverride","pathArray","total","setHistory","currentState","scrollToSlide","slideHistory","setHistoryPopState","Keyboard","onlyInViewport","pageUpDown","handle","kc","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","inView","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","$imageEl","background","$pictureEl","sourceEl","$source","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","amount","checkInViewOnLoad","$scrollElement","scrollElementWidth","scrollElementHeight","appendSlide","prependSlide","addSlide","removeSlide","removeAllSlides","Manipulation","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","slidesIndexes","indexToRemove","Mousewheel","releaseOnEdges","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","lastScrollTime","lastEventBeforeSnap","recentWheelEvents","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","delta","releaseScroll","rtlFactor","positions","sign","prevEvent","ignoreWheelEvents","firstEvent","snapToThreshold","autoplayDisableOnInteraction","createElementIfNotDefined","Navigation","hideOnClick","disabledClass","hiddenClass","lockClass","navigationDisabledClass","getEl","toggleEl","onPrevClick","onNextClick","targetEl","isHidden","Pagination","pfx","bulletElement","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","bulletSize","dynamicBulletIndex","isPaginationDisabled","setSideBullets","paginationType","firstIndex","midIndex","suffix","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","offsetProp","progressbarDirection","paginationHTML","numberOfBullets","Parallax","setTransform","currentOpacity","currentScale","parallaxEl","$parallaxEl","parallaxDuration","_swiper","Scrollbar","dragTimeout","dragStartPos","dragSize","trackSize","divider","snapOnRelease","dragClass","scrollbarDisabledClass","dragEl","$dragEl","newPos","getPointerPosition","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","activeListener","eventMethod","enableDraggable","disableDraggable","$swiperEl","Thumb","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","thumbsParams","SwiperClass","thumbsSwiperParams","thumbsToActivate","thumbActiveClass","useOffset","currentThumbsIndex","newThumbsIndex","prevThumbsIndex","nextThumbsIndex","Virtual","renderSlide","addSlidesBefore","addSlidesAfter","cssModeTimeout","previousFrom","previousTo","previousSlidesGrid","previousOffset","slidesAfter","slidesBefore","onRendered","getSlides","slidesToRender","prependIndexes","appendIndexes","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","Zoom","maxRatio","zoomedSlideClass","isScaling","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","gesture","slideWidth","slideHeight","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","getDistanceBetweenTouches","x1","y1","y2","onGestureStart","gestures","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","zoomIn","touchAction","touchX","touchY","offsetX","offsetY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","in","checkProps","shadowClass","$shadowContainer","Methods","methodName","writable","overwriteParamsResult","requireUpdateOnVirtual","effectParams","eventTriggered","$transitionEndTarget","triggerEvents","calcBrowser","ua","deviceCached","calcDevice","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","iPadScreens","overrides","calcSupport","DocumentTouch","checkPassiveListener","supportsPassive","opts","checkGestures","currentStyle","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","MozTransform","OTransform","MsTransform","msTransform","m41","m42","nextSource","keysArray","nextKey","getOwnPropertyDescriptor","enumerable","varName","varValue","startPosition","cssModeFrameID","isOutOfBound","currentPosition","Thumbs","FreeMode","brokenModifierNames","ignoreKey"],"sourceRoot":"webpack:///","x_google_ignoreList":[20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149]}